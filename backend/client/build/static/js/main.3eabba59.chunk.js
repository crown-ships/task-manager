(this.webpackJsonplogin=this.webpackJsonplogin||[]).push([[0],{177:function(e,t){},178:function(e,t){},179:function(e,t){},180:function(e,t){},234:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),i=a(26),c=a.n(i),s=a(123),o=a(124),l=a(125),u=a(135),d=a(33),j=a(53),p=a(126),b=a(14),m=a.n(b),h=function(e){e?m.a.defaults.headers.common.Authorization=e:delete m.a.defaults.headers.common.Authorization},O="GET_ERRORS",f="USER_LOADING",x="SET_CURRENT_USER",v=function(e){return{type:x,payload:e}},g=function(){return function(e){localStorage.removeItem("jwtToken"),h(!1),e(v({}))}},y=a(50),S=a(112),N=a(167),C=a(4),w=a(228),D={isAuthenticated:!1,user:{},loading:!1},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return Object(C.a)(Object(C.a)({},e),{},{isAuthenticated:!w(t.payload),user:t.payload});case f:return Object(C.a)(Object(C.a)({},e),{},{loading:!0});default:return e}},P={},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return t.payload;default:return e}},I=Object(S.b)({auth:A,errors:k}),T=[N.a],E=Object(S.d)(I,{},Object(S.c)(S.a.apply(void 0,T),window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e})),F=a(109),B=a(321),R=a(289),z=a(280),_=a(322),V=a(288),L=a(318),U=a(183),W=a(313),H=a(279),M=a(172),Y=a.n(M),G=a(94),X=a(182),q=(a(229),a(0));function J(){return Object(q.jsxs)(G.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(q.jsx)(d.b,{color:"inherit",href:"https://material-ui.com/",children:"Your Website"})," ",(new Date).getFullYear(),"."]})}var K=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).state={email:"",password:"",errors:{}},e.changeEmail=e.changeEmail.bind(Object(F.a)(e)),e.changePassword=e.changePassword.bind(Object(F.a)(e)),e.onSubmit=e.onSubmit.bind(Object(F.a)(e)),e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&this.props.history.push("/projects")}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.auth.isAuthenticated&&this.props.history.push("/projects"),e.errors&&this.setState({errors:e.errors})}},{key:"changeEmail",value:function(e){this.setState({email:e.target.value})}},{key:"changePassword",value:function(e){this.setState({password:e.target.value})}},{key:"onSubmit",value:function(e){e.preventDefault();var t={email:this.state.email,password:this.state.password};this.props.loginUser(t),this.setState({email:"",password:""})}},{key:"render",value:function(){var e=Object(X.a)(),t=(this.state.errors,{backgroundImage:"linear-gradient(90deg, transparent 50%, rgba(255,255,255,.5) 50%)",backgroundColor:"#E6E6FA",backgroundSize:"20px",backgroundPosition:"center"}),a={margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},n={margin:e.spacing(1),backgroundColor:"black"},r={width:"100%",marginTop:e.spacing(1)},i={color:"white",backgroundColor:"black",margin:e.spacing(3,0,2)},c={color:"black"};return Object(q.jsxs)(H.a,{container:!0,component:"main",style:{height:"100vh"},children:[Object(q.jsx)(z.a,{}),Object(q.jsx)(H.a,{item:!0,xs:!1,sm:4,md:4,style:t}),Object(q.jsx)(H.a,{item:!0,xs:12,sm:4,md:4,component:U.a,elevation:6,square:!0,children:Object(q.jsxs)("div",{style:a,children:[Object(q.jsx)(B.a,{style:n,children:Object(q.jsx)(Y.a,{})}),Object(q.jsx)(G.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(q.jsxs)("form",{style:r,noValidate:!0,onSubmit:this.onSubmit,children:[Object(q.jsx)(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",onChange:this.changeEmail,value:this.state.email,autoFocus:!0}),Object(q.jsx)(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:this.changePassword,value:this.state.password}),Object(q.jsx)(V.a,{control:Object(q.jsx)(L.a,{value:"remember",color:"primary"}),label:"Remember me"}),Object(q.jsx)(R.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",style:i,children:"Sign In"}),Object(q.jsxs)(H.a,{container:!0,children:[Object(q.jsx)(H.a,{item:!0,xs:!0,children:Object(q.jsx)(d.b,{href:"#",variant:"body2",style:c,children:"Forgot password?"})}),Object(q.jsx)(H.a,{item:!0,children:Object(q.jsx)(d.b,{href:"#",variant:"body2",style:c,children:"Don't have an account? Sign Up"})})]}),Object(q.jsx)(W.a,{mt:5,children:Object(q.jsx)(J,{})})]})]})}),Object(q.jsx)(H.a,{item:!0,xs:!1,sm:4,md:4,style:t})]})}}]),a}(n.Component),Q=Object(y.b)((function(e){return{auth:e.auth,errors:e.errors}}),{loginUser:function(e){return function(t){m.a.post("/api/login",e).then((function(e){var a=e.data.token;localStorage.setItem("jwtToken",a),h(a);var n=Object(p.a)(a);t(v(n))})).catch((function(e){return t({type:O,payload:e.response.data})}))}}})(K),Z=a(3),$=a(47),ee=a(5),te=a(293),ae=a(323),ne=a(308),re=a(302),ie=a(287),ce=a(309),se=a(236),oe=a(310),le=a(307),ue=a(63),de=a.n(ue),je=a(64),pe=a.n(je),be=a(290),me=a(291),he=a(292),Oe=a(148),fe=a.n(Oe),xe=a(175),ve=a.n(xe),ge=a(173),ye=a.n(ge),Se=a(149),Ne=a.n(Se),Ce=a(21),we=a.n(Ce),De=a(151),Ae=a.n(De),Pe=a(174),ke=a.n(Pe),Ie=a(150),Te=a.n(Ie),Ee=Object(q.jsxs)("div",{children:[Object(q.jsxs)(be.a,{button:!0,component:d.b,to:"/dashboard",children:[Object(q.jsx)(me.a,{children:Object(q.jsx)(fe.a,{})}),Object(q.jsx)(he.a,{primary:"Dashboard"})]}),Object(q.jsxs)(be.a,{button:!0,component:d.b,to:"/projects",children:[Object(q.jsx)(me.a,{children:Object(q.jsx)(Ne.a,{})}),Object(q.jsx)(he.a,{primary:"Projects"})]}),Object(q.jsxs)(be.a,{button:!0,component:d.b,to:"/approval",children:[Object(q.jsx)(me.a,{children:Object(q.jsx)(ye.a,{})}),Object(q.jsx)(he.a,{primary:"Approval"})]}),Object(q.jsxs)(be.a,{button:!0,component:d.b,to:"/rejection",children:[Object(q.jsx)(me.a,{children:Object(q.jsx)(we.a,{})}),Object(q.jsx)(he.a,{primary:"Rejection"})]}),Object(q.jsxs)(be.a,{button:!0,component:d.b,to:"/companies",children:[Object(q.jsx)(me.a,{children:Object(q.jsx)(ke.a,{})}),Object(q.jsx)(he.a,{primary:"Companies"})]}),Object(q.jsxs)(be.a,{button:!0,component:d.b,to:"/investments",children:[Object(q.jsx)(me.a,{children:Object(q.jsx)(Te.a,{})}),Object(q.jsx)(he.a,{primary:"Investments"})]}),Object(q.jsxs)(be.a,{button:!0,component:d.b,to:"/vendors",children:[Object(q.jsx)(me.a,{children:Object(q.jsx)(Ae.a,{})}),Object(q.jsx)(he.a,{primary:"Vendors"})]}),Object(q.jsxs)(be.a,{button:!0,component:d.b,to:"/users",children:[Object(q.jsx)(me.a,{children:Object(q.jsx)(ve.a,{})}),Object(q.jsx)(he.a,{primary:"Users"})]})]}),Fe=Object(q.jsxs)("div",{children:[Object(q.jsxs)(be.a,{button:!0,component:d.b,to:"/dashboard",children:[Object(q.jsx)(me.a,{children:Object(q.jsx)(fe.a,{})}),Object(q.jsx)(he.a,{primary:"Dashboard"})]}),Object(q.jsxs)(be.a,{button:!0,component:d.b,to:"/projects",children:[Object(q.jsx)(me.a,{children:Object(q.jsx)(Ne.a,{})}),Object(q.jsx)(he.a,{primary:"Projects"})]}),Object(q.jsxs)(be.a,{button:!0,component:d.b,to:"/investments",children:[Object(q.jsx)(me.a,{children:Object(q.jsx)(Te.a,{})}),Object(q.jsx)(he.a,{primary:"Investments"})]}),Object(q.jsxs)(be.a,{button:!0,component:d.b,to:"/vendors",children:[Object(q.jsx)(me.a,{children:Object(q.jsx)(Ae.a,{})}),Object(q.jsx)(he.a,{primary:"Vendors"})]}),Object(q.jsxs)(be.a,{button:!0,component:d.b,to:"/rejection",children:[Object(q.jsx)(me.a,{children:Object(q.jsx)(we.a,{})}),Object(q.jsx)(he.a,{primary:"Rejection"})]})]}),Be=function(e,t){return function(t){m.a.post("/api/updTask",e.body,{params:e.params}).then((function(e){console.log("updated")})).catch((function(e){return t({type:O,payload:e.response.data})}))}},Re=function(e,t){return function(a){console.log(e),m.a.delete("/api/delTask",{params:e}).then((function(e){return t.push("/projects")})).catch((function(e){return a({type:O,payload:e.response.data})}))}},ze=function(e,t){return function(t){return m.a.get("/api/getTasks",{params:e}).then((function(e){return e.data})).catch((function(e){return t({type:O,payload:e.response.data})}))}},_e=function(e,t){return function(t){m.a.post("/api/updAllTasks",e.body,{params:e.params}).then((function(e){console.log("updated")})).catch((function(e){return t({type:O,payload:e.response.data})}))}},Ve=function(e,t){return function(t){console.log(e),m.a.post("/api/newTask",e.body,{params:e.params}).then((function(e){console.log(e.data)})).catch((function(e){return t({type:O,payload:e.response.data})}))}},Le=function(e,t){return function(t){m.a.post("/api/updFeature",e.body,{params:e.params}).then((function(e){console.log("updated")})).catch((function(e){return t({type:O,payload:e.response.data})}))}},Ue=function(e,t){return function(a){console.log(e),m.a.delete("/api/delFeature",{params:e}).then((function(e){return t.push("/projects")})).catch((function(e){return a({type:O,payload:e.response.data})}))}},We=function(e,t){return function(t){return m.a.get("/api/getFeatures",{params:e}).then((function(e){return e.data})).catch((function(e){return t({type:O,payload:e.response.data})}))}},He=function(e,t){return function(t){m.a.post("/api/updAllFeatures",e.body,{params:e.params}).then((function(e){console.log("updated")})).catch((function(e){return t({type:O,payload:e.response.data})}))}},Me=function(e,t){return function(t){console.log(e),m.a.post("/api/newFeature",e.body,{params:e.params}).then((function(e){console.log(e.data)})).catch((function(e){return t({type:O,payload:e.response.data})}))}},Ye=function(e,t){return function(t){m.a.post("/api/updProject",e.body,{params:e.params}).then((function(e){console.log("updated")})).catch((function(e){return t({type:O,payload:e.response.data})}))}},Ge=function(e,t){return function(a){console.log(e),m.a.delete("/api/delProject",{params:e}).then((function(e){return t.push("/projects")})).catch((function(e){return a({type:O,payload:e.response.data})}))}},Xe=function(e,t){return function(t){return m.a.get("/api/getProjects",{params:e}).then((function(e){return e.data})).catch((function(e){return t({type:O,payload:e.response.data})}))}},qe=function(e,t){return function(t){console.log(e),m.a.post("/api/newProject",e.body,{params:e.params}).then((function(e){console.log(e.data)})).catch((function(e){return t({type:O,payload:e.response.data})}))}},Je=function(e,t){return function(t){return m.a.get("/api/getCompanies",{params:e}).then((function(e){return e.data})).catch((function(e){return t({type:O,payload:e.response.data})}))}},Ke=a(8),Qe=a.n(Ke),Ze=a(12),$e=a(305),et=a(19),tt=a.n(et),at=a(304),nt=a(301),rt=a(303),it=a(300),ct=a(20),st=a.n(ct),ot=a(15),lt=a.n(ot),ut=a(306),dt=Object(te.a)((function(e){return{root:{minWidth:0,margin:e.spacing(.5)},secondary:{backgroundColor:e.palette.secondary.light,"& .MuiButton-label":{color:e.palette.secondary.main}},primary:{backgroundColor:e.palette.primary.light,"& .MuiButton-label":{color:e.palette.primary.main}}}}));function jt(e){var t=e.color,a=e.children,n=e.onClick,r=dt();return Object(q.jsx)(R.a,{className:"".concat(r.root," ").concat(r[t]),onClick:n,children:a})}var pt=a(56),bt=["text","size","color","variant","onClick"],mt=Object(te.a)((function(e){return{root:{margin:e.spacing(.5)},label:{textTransform:"none"}}}));function ht(e){var t=e.text,a=e.size,n=e.color,r=e.variant,i=e.onClick,c=Object(pt.a)(e,bt),s=mt();return Object(q.jsx)(R.a,Object(C.a)(Object(C.a)({variant:r||"contained",size:a||"large",color:n||"primary",onClick:i},c),{},{classes:{root:s.root,label:s.label},children:t}))}var Ot=["name","label","value","error","onChange"];function ft(e){var t=e.name,a=e.label,n=e.value,r=e.error,i=void 0===r?null:r,c=e.onChange,s=Object(pt.a)(e,Ot);return Object(q.jsx)(_.a,Object(C.a)(Object(C.a)({variant:"outlined",label:a,name:t,value:n,onChange:c},s),i&&{error:!0,helperText:i}))}var xt=a(294),vt=a(295),gt=a(296),yt=a(297),St=a(176),Nt=a.n(St),Ct=Object(te.a)((function(e){return{dialog:{padding:e.spacing(2),position:"absolute",top:e.spacing(5)},dialogTitle:{textAlign:"center"},dialogContent:{textAlign:"center"},dialogAction:{justifyContent:"center"},titleIcon:{backgroundColor:e.palette.secondary.light,color:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.light,cursor:"default"},"& .MuiSvgIcon-root":{fontSize:"8rem"}}}}));function wt(e){var t=e.confirmDialog,a=e.setConfirmDialog,n=Ct();return Object(q.jsxs)(xt.a,{open:t.isOpen,classes:{paper:n.dialog},children:[Object(q.jsx)(vt.a,{className:n.dialogTitle,children:Object(q.jsx)(se.a,{disableRipple:!0,className:n.titleIcon,children:Object(q.jsx)(Nt.a,{})})}),Object(q.jsxs)(gt.a,{className:n.dialogContent,children:[Object(q.jsx)(G.a,{variant:"h6",children:t.title}),Object(q.jsx)(G.a,{variant:"subtitle2",children:t.subTitle})]}),Object(q.jsxs)(yt.a,{className:n.dialogAction,children:[Object(q.jsx)(ht,{text:"No",color:"default",onClick:function(){return a(Object(C.a)(Object(C.a)({},t),{},{isOpen:!1}))}}),Object(q.jsx)(ht,{text:"Yes",color:"secondary",onClick:t.onConfirm})]})]})}var Dt=a(319),At=a(316),Pt=Object(te.a)((function(e){return{root:{top:e.spacing(9)}}}));function kt(e){var t=e.notify,a=e.setNotify,n=Pt(),r=function(e,n){"clickaway"!==n&&a(Object(C.a)(Object(C.a)({},t),{},{isOpen:!1}))};return Object(q.jsx)(Dt.a,{className:n.root,open:t.isOpen,autoHideDuration:3e3,anchorOrigin:{vertical:"top",horizontal:"right"},onClose:r,children:Object(q.jsx)(At.a,{severity:t.type,onClose:r,children:t.message})})}var It=Object(te.a)((function(e){return{dialogWrapper:{padding:e.spacing(2),position:"absolute",top:e.spacing(5)},dialogTitle:{paddingRight:"0px"}}}));function Tt(e){var t=e.title,a=e.children,n=e.openPopup,r=e.setOpenPopup,i=It();return Object(q.jsxs)(xt.a,{open:n,maxWidth:"md",classes:{paper:i.dialogWrapper},children:[Object(q.jsx)(vt.a,{className:i.dialogTitle,children:Object(q.jsxs)("div",{style:{display:"flex"},children:[Object(q.jsx)(G.a,{variant:"h6",component:"div",style:{flexGrow:1},children:t}),Object(q.jsx)(jt,{color:"secondary",onClick:function(){r(!1)},children:Object(q.jsx)(lt.a,{})})]})}),Object(q.jsx)(gt.a,{dividers:!0,children:a})]})}var Et=["children"];function Ft(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2?arguments[2]:void 0,r=Object(n.useState)(e),i=Object(Z.a)(r,2),c=i[0],s=i[1],o=Object(n.useState)({}),l=Object(Z.a)(o,2),u=l[0],d=l[1],j=function(e){var n=e.target,r=n.name,i=n.value;s(Object(C.a)(Object(C.a)({},c),{},Object($.a)({},r,i))),t&&a(Object($.a)({},r,i))},p=function(){s(e),d({})};return{values:c,setValues:s,errors:u,setErrors:d,handleInputChange:j,resetForm:p}}var Bt=Object(te.a)((function(e){return{root:{"& .MuiFormControl-root":{width:"80%",margin:e.spacing(1)}}}}));function Rt(e){var t=Bt(),a=(e.children,Object(pt.a)(e,Et));return Object(q.jsx)("form",Object(C.a)(Object(C.a)({className:t.root,autoComplete:"off"},a),{},{children:e.children}))}var zt={contactNo:"",email:"",websiteURL:""};function _t(e){e.addOrEdit;var t=e.recordForEdit,a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=Object(C.a)({},s);if(o(Object(C.a)({},t)),e===i)return Object.values(t).every((function(e){return""==e}))},r=Ft(zt,!0,a),i=r.values,c=r.setValues,s=r.errors,o=r.setErrors,l=r.handleInputChange,u=r.resetForm;console.log(t);return Object(n.useEffect)((function(){null!=t&&c(Object(C.a)({},t))}),[t]),Object(q.jsx)(Rt,{onSubmit:function(n){if(n.preventDefault(),a()){var r={contactNo:i.contactNo,email:i.email,websiteURL:i.websiteURL};console.log(r),e.edit(r,u,t.email)}},children:Object(q.jsxs)(H.a,{container:!0,children:[Object(q.jsxs)(H.a,{item:!0,xs:7,children:[Object(q.jsx)(ft,{name:"email",label:"Email Address",value:i.email,onChange:l,error:s.email}),Object(q.jsx)(ft,{name:"websiteURL",label:"Website",value:i.websiteURL,onChange:l,error:s.websiteURL}),Object(q.jsx)(ft,{name:"contactNo",label:"Contact Info",value:i.contactNo,onChange:l,error:s.contactNo})]}),Object(q.jsx)(H.a,{item:!0,xs:5,children:Object(q.jsxs)("div",{children:[Object(q.jsx)(ht,{type:"submit",text:"Submit"}),Object(q.jsx)(ht,{text:"Reset",color:"default",onClick:u})]})})]})})}var Vt=a(298),Lt=a(299),Ut=a(326),Wt=a(320),Ht=Object(te.a)((function(e){return{table:{marginTop:e.spacing(3),"& thead th":{fontWeight:"600",color:"#ffffff",backgroundColor:e.palette.primary.light},"& tbody td":{fontWeight:"300"},"& tbody tr:hover":{backgroundColor:"#fffbf2",cursor:"pointer"}}}}));function Mt(e,t,a){var r=Ht(),i=[5,10,25],c=Object(n.useState)(0),s=Object(Z.a)(c,2),o=s[0],l=s[1],u=Object(n.useState)(i[o]),d=Object(Z.a)(u,2),j=d[0],p=d[1],b=Object(n.useState)(),m=Object(Z.a)(b,2),h=m[0],O=m[1],f=Object(n.useState)(),x=Object(Z.a)(f,2),v=x[0],g=x[1],y=function(e,t){l(t)},S=function(e){p(parseInt(e.target.value,10)),l(0)};function N(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}return{TblContainer:function(e){return Object(q.jsx)(Vt.a,{className:r.table,children:e.children})},TblHead:function(e){return Object(q.jsx)(Lt.a,{children:Object(q.jsx)(it.a,{children:t.map((function(e){return Object(q.jsx)(nt.a,{sortDirection:v===e.id&&h,children:e.disableSorting?e.label:Object(q.jsx)(Ut.a,{active:v===e.id,direction:v===e.id?h:"asc",onClick:function(){var t;t=e.id,O(v===t&&"asc"===h?"desc":"asc"),g(t)},children:e.label})},e.id)}))})})},TblPagination:function(){return Object(q.jsx)(Wt.a,{component:"div",page:o,rowsPerPageOptions:i,rowsPerPage:j,count:e.length,onChangePage:y,onChangeRowsPerPage:S})},recordsAfterPagingAndSorting:function(){return function(e,t){var a=e.map((function(e,t){return[e,t]}));return a.sort((function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]})),a.map((function(e){return e[0]}))}(a.fn(e),function(e,t){return"desc"===e?function(e,a){return N(e,a,t)}:function(e,a){return-N(e,a,t)}}(h,v)).slice(o*j,(o+1)*j)}}}var Yt={companyName:"",email:"",websiteURL:"",contactNo:""};function Gt(e){e.addOrEdit;var t=e.recordForEdit,a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=Object(C.a)({},s);if(o(Object(C.a)({},t)),e===i)return Object.values(t).every((function(e){return""==e}))},r=Ft(Yt,!0,a),i=r.values,c=r.setValues,s=r.errors,o=r.setErrors,l=r.handleInputChange,u=r.resetForm;return Object(n.useEffect)((function(){null!=t&&c(Object(C.a)({},t))}),[t]),Object(q.jsx)(Rt,{onSubmit:function(t){if(t.preventDefault(),a()){var n={companyName:i.companyName,email:i.email,websiteURL:i.websiteURL,contactNo:i.contactNo};e.create(n,u)}},children:Object(q.jsxs)(H.a,{container:!0,children:[Object(q.jsxs)(H.a,{item:!0,xs:9,children:[Object(q.jsx)(ft,{name:"companyName",label:"Company Name",value:i.companyName,onChange:l,error:s.companyName}),Object(q.jsx)(ft,{name:"email",label:"Email Address",value:i.email,onChange:l,error:s.email}),Object(q.jsx)(ft,{name:"websiteURL",label:"Website",value:i.websiteURL,onChange:l,error:s.websiteURL}),Object(q.jsx)(ft,{name:"contactNo",label:"Contact Info",value:i.contactNo,onChange:l,error:s.contactNo})]}),Object(q.jsx)(H.a,{item:!0,xs:3,children:Object(q.jsxs)("div",{children:[Object(q.jsx)(ht,{type:"submit",text:"Submit"}),Object(q.jsx)(ht,{text:"Reset",color:"default",onClick:u})]})})]})})}function Xt(e,t,a,n,r,i){return{name:e,email:t,website:a,contact:n,actions:r,enable:i}}var qt=Object(te.a)((function(e){return{pageContent:{margin:e.spacing(5),padding:e.spacing(3)},searchInput:{width:"75%"},newButton:{position:"absolute",right:"10px"},seeMore:{marginTop:e.spacing(3)}}})),Jt=[{id:"companyName",label:"Company"},{id:"email",label:"Email Address"},{id:"websiteURL",label:"Website"},{id:"contactNo",label:"Contact Info"},{id:"actions",label:"Enable",disableSorting:!0},{id:"status",label:"Actions",disableSorting:!0}],Kt=[Xt("","","","","",""),Xt("","","","","",""),Xt("","","","","",""),Xt("","","","","",""),Xt("","","","","",""),Xt("","","","","",""),Xt("","","","","",""),Xt("","","","","",""),Xt("","","","","","")];function Qt(e){var t=r.a.useState({isOpen:!1,title:"",subTitle:""}),a=Object(Z.a)(t,2),n=a[0],i=a[1],c=r.a.useState({isOpen:!1,message:"",type:""}),s=Object(Z.a)(c,2),o=s[0],l=s[1],u=r.a.useState({fn:function(e){return e}}),d=Object(Z.a)(u,2),j=d[0],p=d[1],b=r.a.useState(Kt),m=Object(Z.a)(b,2),h=m[0],O=m[1],f=r.a.useState(null),x=Object(Z.a)(f,2),v=x[0],g=x[1],y=r.a.useState(!1),S=Object(Z.a)(y,2),N=S[0],w=S[1],D=r.a.useState(!1),A=Object(Z.a)(D,2),P=A[0],k=A[1],I=r.a.useState(!1),T=Object(Z.a)(I,2),E=(T[0],T[1],r.a.useState(h)),F=Object(Z.a)(E,2),B=F[0],R=F[1],z=qt();r.a.useEffect(Object(Ze.a)(Qe.a.mark((function t(){var a;return Qe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(n=e).getAllCompanies({email:n.auth.user.email,auth:n.auth.isAuthenticated},n.history);case 2:a=t.sent,O(a.data),R(a.data),console.log(h);case 6:case"end":return t.stop()}var n}),t)}))),[o]);var _=Mt(B,Jt,j),V=_.TblContainer,L=_.TblHead,W=_.TblPagination,H=_.recordsAfterPagingAndSorting,M=function(t,a){var n={params:{email:e.auth.user.email,idupdate:a,auth:e.auth.isAuthenticated},body:{enabled:t}},r={params:{email:e.auth.user.email,companyID:a,auth:e.auth.isAuthenticated},body:{enabled:t}};e.updateCompany(n,e.history),e.updateAllProjects(r,e.history),e.updateAllFeatures(r,e.history),e.updateAllTasks(r,e.history),l({isOpen:!0,message:"Success.",type:"success"})};return Object(q.jsxs)(r.a.Fragment,{children:[Object(q.jsxs)(U.a,{className:z.pageContent,children:[Object(q.jsxs)(re.a,{children:[Object(q.jsx)(ft,{label:"Search Companies",className:z.searchInput,InputProps:{startAdornment:Object(q.jsx)(rt.a,{position:"start",children:Object(q.jsx)(at.a,{})})},onChange:function(e){var t=e.target;p({fn:function(e){return""==t.value?e:e.filter((function(e){return e.companyName.toLowerCase().includes(t.value.toLowerCase())}))}})}}),Object(q.jsx)(ht,{text:"Add New",variant:"outlined",startIcon:Object(q.jsx)(tt.a,{}),className:z.newButton,onClick:function(){k(!0)}})]}),Object(q.jsxs)(V,{children:[Object(q.jsx)(L,{}),Object(q.jsx)($e.a,{children:H().map((function(t){return Object(q.jsxs)(it.a,{children:[Object(q.jsx)(nt.a,{children:t.companyName}),Object(q.jsx)(nt.a,{children:t.email}),Object(q.jsx)(nt.a,{children:t.websiteURL}),Object(q.jsx)(nt.a,{children:t.contactNo}),Object(q.jsx)(nt.a,{children:Object(q.jsx)(ut.a,{onChange:function(e,a){return function(e,t){console.log(e),1==e&&M("true",t._id),0==e&&M("false",t._id)}(a,t)},color:"primary",name:"checked",checked:"true"===t.enabled,inputProps:{"aria-label":"primary checkbox"}})}),Object(q.jsxs)(nt.a,{children:[Object(q.jsx)(jt,{color:"primary",onClick:function(){g(t),w(!0)},children:Object(q.jsx)(st.a,{fontSize:"small"})}),Object(q.jsx)(jt,{color:"secondary",onClick:function(){i({isOpen:!0,title:"Are you sure to delete this record?",subTitle:"You can't undo this operation",onConfirm:function(){!function(t){i(Object(C.a)(Object(C.a)({},n),{},{isOpen:!1}));var a={emailDelete:t.email,email:e.auth.user.email,auth:e.auth.isAuthenticated};"admin"===e.auth.user.role&&(e.deleteCompany(a,e.history),l({isOpen:!0,message:"Deleted Successfully",type:"success"}))}(t)}})},children:Object(q.jsx)(lt.a,{fontSize:"small"})})]})]},t._id)}))})]}),Object(q.jsx)(W,{})]}),Object(q.jsx)(Tt,{title:"Edit Company Details",openPopup:N,setOpenPopup:w,children:Object(q.jsx)(_t,{recordForEdit:v,edit:function(t,a,n){var r={params:{email:e.auth.user.email,emailupdate:n,auth:e.auth.isAuthenticated},body:t};"admin"===e.auth.user.role&&(e.updateCompany(r,e.history),a(),g(null),w(!1),l({isOpen:!0,message:"Update Successfully",type:"success"}))}})}),Object(q.jsx)(Tt,{title:"Register New Company",openPopup:P,setOpenPopup:k,children:Object(q.jsx)(Gt,Object(C.a)(Object(C.a)({},e),{},{create:function(t,a){var n={params:{email:e.auth.user.email,auth:e.auth.isAuthenticated},body:t};console.log(n),e.registerCompany(n,e.history),a(),k(!1),l({isOpen:!0,message:"Registered Successfully.",type:"success"})}}))}),Object(q.jsx)(kt,{notify:o,setNotify:l}),Object(q.jsx)(wt,{confirmDialog:n,setConfirmDialog:i})]})}function Zt(){return Object(q.jsxs)(G.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(q.jsx)(le.a,{color:"inherit",href:"https://material-ui.com/",children:"Your Website"})," ",(new Date).getFullYear(),"."]})}var $t=Object(te.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(C.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object($.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240},btnstyle:{margin:"8px 0",backgroundColor:"#666bff"}}}));var ea=Object(y.b)((function(e){return{auth:e.auth}}),{logoutUser:g,getAllCompanies:Je,deleteCompany:function(e,t){return function(a){console.log(e),m.a.delete("/api/delCompany",{params:e}).then((function(e){return t.push("/companies")})).catch((function(e){return a({type:O,payload:e.response.data})}))}},updateCompany:function(e,t){return function(t){m.a.post("/api/updCompany",e.body,{params:e.params}).then((function(e){console.log("updated")})).catch((function(e){return t({type:O,payload:e.response.data})}))}},registerCompany:function(e,t){return function(a){console.log(e),m.a.post("/api/newCompany",e.body,{params:e.params}).then((function(e){console.log(e.data),t.push("/companies")})).catch((function(e){return a({type:O,payload:e.response.data})}))}},updateAllFeatures:He,updateAllTasks:_e,updateAllProjects:function(e,t){return function(t){m.a.post("/api/updAllProjects",e.body,{params:e.params}).then((function(e){console.log("updated")})).catch((function(e){return t({type:O,payload:e.response.data})}))}}})(Object(j.g)((function(e){var t;t=Ee;var a=$t(),n=r.a.useState(!0),i=Object(Z.a)(n,2),c=i[0],s=i[1];Object(ee.a)(a.paper,a.fixedHeight);return Object(q.jsxs)("div",{className:a.root,children:[Object(q.jsx)(z.a,{}),Object(q.jsx)(ne.a,{position:"absolute",className:Object(ee.a)(a.appBar,c&&a.appBarShift),children:Object(q.jsxs)(re.a,{className:a.toolbar,children:[Object(q.jsx)(se.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){s(!0)},className:Object(ee.a)(a.menuButton,c&&a.menuButtonHidden),children:Object(q.jsx)(de.a,{})}),Object(q.jsx)(G.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:a.title,children:"Companies"}),Object(q.jsx)(R.a,{color:"inherit",className:a.btnstyle,onClick:function(t){t.preventDefault(),e.logoutUser()},children:"Logout"})]})}),Object(q.jsxs)(ae.a,{variant:"permanent",classes:{paper:Object(ee.a)(a.drawerPaper,!c&&a.drawerPaperClose)},open:c,children:[Object(q.jsx)("div",{className:a.toolbarIcon,children:Object(q.jsx)(se.a,{onClick:function(){s(!1)},children:Object(q.jsx)(pe.a,{})})}),Object(q.jsx)(ce.a,{}),Object(q.jsx)(ie.a,{children:t})]}),Object(q.jsxs)("main",{className:a.content,children:[Object(q.jsx)("div",{className:a.appBarSpacer}),Object(q.jsxs)(oe.a,{maxWidth:"lg",className:a.container,children:[Object(q.jsx)(H.a,{item:!0,xs:12,children:Object(q.jsx)(U.a,{className:a.paper,children:Object(q.jsx)(Qt,Object(C.a)({},e))})}),Object(q.jsx)(W.a,{pt:4,children:Object(q.jsx)(Zt,{})})]})]})]})}))),ta=a(315),aa=a(312),na=a(283),ra={projectDetails:"",dueDate:"",ownerName:""};function ia(e){var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,t=Object(C.a)({},c);if(s(Object(C.a)({},t)),e===r)return Object.values(t).every((function(e){return""==e}))},a=Ft(ra,!0,t),r=a.values,i=a.setValues,c=a.errors,s=a.setErrors,o=a.handleInputChange,l=a.resetForm;return Object(n.useEffect)((function(){null!=e.recordForEdit&&i(Object(C.a)({},e.recordForEdit))}),[e.recordForEdit]),Object(q.jsx)(Rt,{onSubmit:function(a){if(a.preventDefault(),t()){var n="admin"===e.auth.user.role?"approved":"wait",i={projectDetails:r.projectDetails,dueDate:r.dueDate,ownerName:r.ownerName,approved:n};e.edit(i,l,e.recordForEdit._id)}},children:Object(q.jsxs)(H.a,{container:!0,children:[Object(q.jsxs)(H.a,{item:!0,xs:7,children:[Object(q.jsx)(ft,{name:"projectDetails",label:"Project Details",value:r.projectDetails,onChange:o,error:c.projectDetails}),Object(q.jsx)(ft,{name:"ownerName",label:"Owner Name",value:r.ownerName,onChange:o,error:c.ownerName}),Object(q.jsx)(ft,{id:"date",type:"date",defaultValue:"2017-05-24",InputLabelProps:{shrink:!0},name:"dueDate",label:"Due Date",value:r.dueDate,onChange:o,error:c.dueDate})]}),Object(q.jsx)(H.a,{item:!0,xs:5,children:Object(q.jsxs)("div",{children:[Object(q.jsx)(ht,{type:"submit",text:"Submit"}),Object(q.jsx)(ht,{text:"Reset",color:"default",onClick:l})]})})]})})}var ca={projectName:"",projectDetails:"",dueDate:"",ownerName:""};function sa(e){e.addOrEdit;var t,a=e.recordForEdit,r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=Object(C.a)({},l);if(u(Object(C.a)({},t)),e===s)return Object.values(t).every((function(e){return""==e}))},i={};for(t=0;t<e.allCompanies.length;t++)e.allCompanies[t].companyName===e.company&&(i=e.allCompanies[t]);var c=Ft(ca,!0,r),s=c.values,o=c.setValues,l=c.errors,u=c.setErrors,d=c.handleInputChange,j=c.resetForm;return Object(n.useEffect)((function(){null!=a&&o(Object(C.a)({},a))}),[a]),Object(q.jsx)(Rt,{onSubmit:function(t){if(t.preventDefault(),r()){var a="admin"===e.auth.user.role?"approved":"wait",n={companyName:i.companyName,companyID:i._id,creatorName:e.auth.user.name,creatorID:e.auth.user.id,projectName:s.projectName,projectDetails:s.projectDetails,ownerName:s.ownerName,dueDate:s.dueDate,approved:a};console.log(e),e.create(n,j)}},children:Object(q.jsxs)(H.a,{container:!0,children:[Object(q.jsxs)(H.a,{item:!0,xs:8,children:[Object(q.jsx)(ft,{name:"projectName",label:"Project Name",value:s.projectName,onChange:d,error:l.projectName}),Object(q.jsx)(ft,{name:"projectDetails",label:"Project Details",value:s.projectDetails,onChange:d,error:l.projectDetails}),Object(q.jsx)(ft,{name:"ownerName",label:"Owner Name",value:s.ownerName,onChange:d,error:l.ownerName})]}),Object(q.jsxs)(H.a,{item:!0,xs:4,children:[Object(q.jsx)(ft,{id:"date",type:"date",defaultValue:"2017-05-24",InputLabelProps:{shrink:!0},name:"dueDate",label:"Due Date",value:s.dueDate,onChange:d,error:l.dueDate}),Object(q.jsxs)("div",{children:[Object(q.jsx)(ht,{type:"submit",text:"Submit"}),Object(q.jsx)(ht,{text:"Reset",color:"default",onClick:j})]})]})]})})}var oa=a(284),la=a(314),ua=a(311),da=a(23),ja=a.n(da),pa=a(24),ba=a.n(pa);function ma(e){return Object(q.jsxs)(W.a,{position:"relative",display:"inline-flex",children:[Object(q.jsx)(ua.a,Object(C.a)({variant:"determinate"},e)),Object(q.jsx)(W.a,{top:0,left:0,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center",children:Object(q.jsx)(G.a,{variant:"caption",component:"div",color:"textSecondary",children:"".concat(Math.round(e.value),"%")})})]})}var ha,Oa,fa,xa,va,ga,ya,Sa=Object(te.a)((function(e){return{pageContent:{margin:e.spacing(5),padding:e.spacing(3)},searchInput:{width:"95%"},newButton:{position:"absolute",right:"10px"},seeMore:{marginTop:e.spacing(3)},formControl:{minWidth:210}}})),Na=[{id:"projectName",label:"Project Name"},{id:"approved",label:"Approved"},{id:"dueDate",label:"Due Date"},{id:"projectDetails",label:"Project Details"},{id:"companyName",label:"Company Name"},{id:"percentComplete",label:"Progress"},{id:"ownerName",label:"Owner"},{id:"update",label:"Update",disableSorting:!0}],Ca=[(ha="",Oa="",fa="",xa="",va="",ga="",ya="",{_id:ha,projectName:Oa,dueDate:fa,projectDetails:xa,companyName:va,percentComplete:0,ownerName:Oa,enabled:"true",updated:ga,delete:ya})];function wa(e){var t=r.a.useState({isOpen:!1,title:"",subTitle:""}),a=Object(Z.a)(t,2),n=a[0],i=a[1],c=r.a.useState({isOpen:!1,message:"",type:""}),s=Object(Z.a)(c,2),o=s[0],l=s[1],u=r.a.useState({fn:function(e){return e}}),d=Object(Z.a)(u,2),j=d[0],p=d[1],b=r.a.useState(Ca),m=Object(Z.a)(b,2),h=m[0],O=m[1],f=r.a.useState([]),x=Object(Z.a)(f,2),v=x[0],g=x[1],y=r.a.useState(""),S=Object(Z.a)(y,2),N=S[0],w=S[1],D=r.a.useState([]),A=Object(Z.a)(D,2),P=A[0],k=A[1],I=r.a.useState(null),T=Object(Z.a)(I,2),E=T[0],F=T[1],B=r.a.useState(!1),R=Object(Z.a)(B,2),z=R[0],_=R[1],V=r.a.useState(!1),L=Object(Z.a)(V,2),W=L[0],M=L[1],Y=r.a.useState(h),G=Object(Z.a)(Y,2),X=G[0],J=G[1],K=Sa();r.a.useEffect(Object(Ze.a)(Qe.a.mark((function t(){var a,n,r,i,c,s,o;return Qe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(l=e).getAllCompanies({email:l.auth.user.email,auth:l.auth.isAuthenticated},l.history);case 2:for(a=t.sent,k(a.data),n=a.data.map((function(e){return"true"===e.enabled?e.companyName:"0"})),i=0,c=[],r=0;r<n.length;r++)"0"!==n[r]&&(c[i++]=n[r]);for((s=[])[0]={key:0,item:""},o=0;o<i;o++)s[o+1]={key:o+1,item:c[o]};console.log(s),g(s);case 13:case"end":return t.stop()}var l}),t)}))),[]),r.a.useEffect(Object(Ze.a)(Qe.a.mark((function t(){var a;return Qe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(n=e).getAllProjects({email:n.auth.user.email,auth:n.auth.isAuthenticated},n.history);case 2:a=t.sent,console.log(a.data),O(a.data),J(a.data),p({fn:function(e){return""==N?e.filter((function(e){return e.enabled.includes("true")})):e.filter((function(e){return e.companyName.includes(N)&&e.enabled.includes("true")}))}});case 7:case"end":return t.stop()}var n}),t)}))),[o,v]);var Q=Mt(X,Na,j),$=Q.TblContainer,ee=Q.TblHead,te=Q.TblPagination,ae=Q.recordsAfterPagingAndSorting,ne=r.a.useState({checkedA:!0,checkedB:!0}),ie=Object(Z.a)(ne,2),ce=ie[0],se=(ie[1],function(e){var t=e.toString();return t=t.substring(0,t.indexOf("T"))});return Object(q.jsxs)(r.a.Fragment,{children:[Object(q.jsxs)(U.a,{className:K.pageContent,children:[Object(q.jsx)(re.a,{children:Object(q.jsxs)(H.a,{container:!0,children:[Object(q.jsx)(H.a,{item:!0,xs:7,children:Object(q.jsx)(ft,{label:"Search Projects",className:K.searchInput,InputProps:{startAdornment:Object(q.jsx)(rt.a,{position:"start",children:Object(q.jsx)(at.a,{})})},onChange:function(e){var t=e.target;p({fn:function(e){return""==t.value?e.filter((function(e){return e.enabled.includes("true")})):e.filter((function(e){return e.projectName.toLowerCase().includes(t.value.toLowerCase())&&e.enabled.includes("true")}))}})}})}),Object(q.jsx)(H.a,{item:!0,xs:3,children:Object(q.jsxs)(na.a,{variant:"outlined",className:K.formControl,children:[Object(q.jsx)(oa.a,{htmlFor:"outlined-company-native-simple",children:"Company"}),Object(q.jsx)(la.a,{native:!0,value:ce.age,onChange:function(e){var t=e.target;console.log(t.value),w(t.value),p({fn:function(e){return""==t.value?e.filter((function(e){return e.enabled.includes("true")})):e.filter((function(e){return e.companyName.includes(t.value)&&e.enabled.includes("true")}))}})},label:"Company",inputProps:{name:"company",id:"outlined-company-native-simple"},children:v.map((function(e){return Object(q.jsx)("option",{value:e.item,children:e.item},e.key)}))})]})}),Object(q.jsx)(H.a,{item:!0,xs:2,children:Object(q.jsx)(ht,{text:"Add New",variant:"outlined",startIcon:Object(q.jsx)(tt.a,{}),className:K.newButton,onClick:function(){M(!0)},disabled:""===N})})]})}),Object(q.jsxs)($,{children:[Object(q.jsx)(ee,{}),Object(q.jsx)($e.a,{children:ae().map((function(e){return Object(q.jsxs)(it.a,{children:[Object(q.jsx)(nt.a,{backgroundColor:"primary",children:e.projectName}),Object(q.jsx)(nt.a,{children:(t=e.approved,"approved"===t?(console.log(t),console.log("yes"),Object(q.jsx)(ja.a,{fontSize:"small",style:{color:"#00b386"}})):"wait"===t?(console.log("what"),Object(q.jsx)(ba.a,{fontSize:"small",style:{color:"#ffbf00"}})):"rejected"===t?(console.log("what"),Object(q.jsx)(we.a,{fontSize:"small",style:{color:"#DC143C"}})):void 0)}),Object(q.jsx)(nt.a,{children:se(e.dueDate)}),Object(q.jsx)(nt.a,{children:e.projectDetails}),Object(q.jsx)(nt.a,{children:e.companyName}),Object(q.jsxs)(nt.a,{children:["  ",Object(q.jsx)(ma,{value:e.percentComplete})]}),Object(q.jsx)(nt.a,{children:e.ownerName}),Object(q.jsx)(nt.a,{children:Object(q.jsx)(jt,{color:"light",onClick:function(){F(e),_(!0)},children:Object(q.jsx)(st.a,{fontSize:"small"})})})]},e._id);var t}))})]}),Object(q.jsx)(te,{})]}),Object(q.jsx)(Tt,{title:"Edit Project Details",openPopup:z,setOpenPopup:_,children:Object(q.jsx)(ia,Object(C.a)(Object(C.a)({},e),{},{recordForEdit:E,edit:function(t,a,n){var r={params:{email:e.auth.user.email,projectID:n,auth:e.auth.isAuthenticated},body:t};"admin"===e.auth.user.role&&(e.updateProject(r,e.history),a(),F(null),_(!1),l({isOpen:!0,message:"Update Successfully",type:"success"}))}}))}),Object(q.jsx)(Tt,{title:"Register New Project",openPopup:W,setOpenPopup:M,children:Object(q.jsx)(sa,Object(C.a)(Object(C.a)({},e),{},{create:function(t,a){var n={params:{email:e.auth.user.email,auth:e.auth.isAuthenticated},body:t};console.log(n),e.registerProject(n,e.history),a(),M(!1),l({isOpen:!0,message:"Registered Successfully.",type:"success"})},company:N,allCompanies:P}))}),Object(q.jsx)(kt,{notify:o,setNotify:l}),Object(q.jsx)(wt,{confirmDialog:n,setConfirmDialog:i})]})}function Da(e){return Object(q.jsxs)(W.a,{position:"relative",display:"inline-flex",children:[Object(q.jsx)(ua.a,Object(C.a)({variant:"determinate"},e)),Object(q.jsx)(W.a,{top:0,left:0,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center",children:Object(q.jsx)(G.a,{variant:"caption",component:"div",color:"textSecondary",children:"".concat(Math.round(e.value),"%")})})]})}var Aa=Object(te.a)((function(e){return{pageContent:{margin:e.spacing(5),padding:e.spacing(3)},searchInput:{width:"95%"},newButton:{position:"absolute",right:"10px"},seeMore:{marginTop:e.spacing(3)},formControl:{minWidth:210}}})),Pa=[{id:"projectName",label:"Project Name"},{id:"approved",label:"Approved"},{id:"dueDate",label:"Due Date"},{id:"projectDetails",label:"Project Details"},{id:"companyName",label:"Company Name"},{id:"percentComplete",label:"Progress"},{id:"ownerName",label:"Owner"},{id:"enabled",label:"Enable",disableSorting:!0},{id:"update",label:"Update",disableSorting:!0},{id:"delete",label:"Delete",disableSorting:!0}],ka=[function(e,t,a,n,r,i,c){return{_id:e,projectName:t,dueDate:a,projectDetails:n,companyName:r,percentComplete:0,ownerName:t,enabled:"true",updated:i,delete:c}}("","","","","","","")];function Ia(e){var t=r.a.useState({isOpen:!1,title:"",subTitle:""}),a=Object(Z.a)(t,2),n=a[0],i=a[1],c=r.a.useState({isOpen:!1,message:"",type:""}),s=Object(Z.a)(c,2),o=s[0],l=s[1],u=r.a.useState({fn:function(e){return e}}),d=Object(Z.a)(u,2),j=d[0],p=d[1],b=r.a.useState(ka),m=Object(Z.a)(b,2),h=m[0],O=m[1],f=r.a.useState([]),x=Object(Z.a)(f,2),v=x[0],g=x[1],y=r.a.useState(""),S=Object(Z.a)(y,2),N=S[0],w=S[1],D=r.a.useState([]),A=Object(Z.a)(D,2),P=A[0],k=A[1],I=r.a.useState(null),T=Object(Z.a)(I,2),E=T[0],F=T[1],B=r.a.useState(!1),R=Object(Z.a)(B,2),z=R[0],_=R[1],V=r.a.useState(!1),L=Object(Z.a)(V,2),W=L[0],M=L[1],Y=r.a.useState(h),G=Object(Z.a)(Y,2),X=G[0],J=G[1],K=Aa();r.a.useEffect(Object(Ze.a)(Qe.a.mark((function t(){var a,n,r,i,c,s,o;return Qe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(l=e).getAllCompanies({email:l.auth.user.email,auth:l.auth.isAuthenticated},l.history);case 2:for(a=t.sent,k(a.data),n=a.data.map((function(e){return"true"===e.enabled?e.companyName:"0"})),i=0,c=[],r=0;r<n.length;r++)"0"!==n[r]&&(c[i++]=n[r]);for((s=[])[0]={key:0,item:""},o=0;o<i;o++)s[o+1]={key:o+1,item:c[o]};console.log(s),g(s);case 13:case"end":return t.stop()}var l}),t)}))),[]),r.a.useEffect(Object(Ze.a)(Qe.a.mark((function t(){var a;return Qe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(n=e).getAllProjects({email:n.auth.user.email,auth:n.auth.isAuthenticated},n.history);case 2:a=t.sent,console.log(a.data),O(a.data),J(a.data),p({fn:function(e){return""==N?e.filter((function(e){return e.approved.includes("approved")})):e.filter((function(e){return e.companyName.includes(N)&&e.approved.includes("approved")}))}});case 7:case"end":return t.stop()}var n}),t)}))),[o,v]);var Q=Mt(X,Pa,j),$=Q.TblContainer,ee=Q.TblHead,te=Q.TblPagination,ae=Q.recordsAfterPagingAndSorting,ne=r.a.useState({checkedA:!0,checkedB:!0}),ie=Object(Z.a)(ne,2),ce=ie[0],se=(ie[1],function(t,a){var n={params:{email:e.auth.user.email,projectID:a,auth:e.auth.isAuthenticated},body:{enabled:t}};e.updateProject(n,e.history),e.updateAllFeatures(n,e.history),e.updateAllTasks(n,e.history),l({isOpen:!0,message:"Success.",type:"success"})}),oe=function(e){var t=e.toString();return t=t.substring(0,t.indexOf("T"))};return Object(q.jsxs)(r.a.Fragment,{children:[Object(q.jsxs)(U.a,{className:K.pageContent,children:[Object(q.jsx)(re.a,{children:Object(q.jsxs)(H.a,{container:!0,children:[Object(q.jsx)(H.a,{item:!0,xs:7,children:Object(q.jsx)(ft,{label:"Search Projects",className:K.searchInput,InputProps:{startAdornment:Object(q.jsx)(rt.a,{position:"start",children:Object(q.jsx)(at.a,{})})},onChange:function(e){var t=e.target;p({fn:function(e){return""==t.value?e.filter((function(e){return e.approved.includes("approved")})):e.filter((function(e){return e.projectName.toLowerCase().includes(t.value.toLowerCase())&&e.approved.includes("approved")}))}})}})}),Object(q.jsx)(H.a,{item:!0,xs:3,children:Object(q.jsxs)(na.a,{variant:"outlined",className:K.formControl,children:[Object(q.jsx)(oa.a,{htmlFor:"outlined-company-native-simple",children:"Company"}),Object(q.jsx)(la.a,{native:!0,value:ce.age,onChange:function(e){var t=e.target;console.log(t.value),w(t.value),p({fn:function(e){return""==t.value?e.filter((function(e){return e.approved.includes("approved")})):e.filter((function(e){return e.companyName.includes(t.value)&&e.approved.includes("approved")}))}})},label:"Company",inputProps:{name:"company",id:"outlined-company-native-simple"},children:v.map((function(e){return Object(q.jsx)("option",{value:e.item,children:e.item},e.key)}))})]})}),Object(q.jsx)(H.a,{item:!0,xs:2,children:Object(q.jsx)(ht,{text:"Add New",variant:"outlined",startIcon:Object(q.jsx)(tt.a,{}),className:K.newButton,onClick:function(){M(!0)},disabled:""===N})})]})}),Object(q.jsxs)($,{children:[Object(q.jsx)(ee,{}),Object(q.jsx)($e.a,{children:ae().map((function(t){return Object(q.jsxs)(it.a,{children:[Object(q.jsx)(nt.a,{backgroundColor:"primary",children:t.projectName}),Object(q.jsx)(nt.a,{children:(a=t.approved,"approved"===a?(console.log(a),console.log("yes"),Object(q.jsx)(ja.a,{fontSize:"small",style:{color:"#00b386"}})):"wait"===a?(console.log("what"),Object(q.jsx)(ba.a,{fontSize:"small",style:{color:"#ffbf00"}})):"rejected"===a?(console.log("what"),Object(q.jsx)(we.a,{fontSize:"small",style:{color:"#DC143C"}})):void 0)}),Object(q.jsx)(nt.a,{children:oe(t.dueDate)}),Object(q.jsx)(nt.a,{children:t.projectDetails}),Object(q.jsx)(nt.a,{children:t.companyName}),Object(q.jsxs)(nt.a,{children:["  ",Object(q.jsx)(Da,{value:t.percentComplete})]}),Object(q.jsx)(nt.a,{children:t.ownerName}),Object(q.jsx)(nt.a,{children:Object(q.jsx)(ut.a,{onChange:function(e,a){return function(e,t){console.log(e),1==e&&se("true",t._id),0==e&&se("false",t._id)}(a,t)},color:"primary",name:"checked",checked:"true"===t.enabled,inputProps:{"aria-label":"primary checkbox"}})}),Object(q.jsx)(nt.a,{children:Object(q.jsx)(jt,{color:"light",onClick:function(){F(t),_(!0)},children:Object(q.jsx)(st.a,{fontSize:"small"})})}),Object(q.jsx)(nt.a,{children:Object(q.jsx)(jt,{color:"light",onClick:function(){i({isOpen:!0,title:"Are you sure to delete this record?",subTitle:"You can't undo this operation",onConfirm:function(){!function(t){i(Object(C.a)(Object(C.a)({},n),{},{isOpen:!1}));var a={projectID:t._id,email:e.auth.user.email,auth:e.auth.isAuthenticated};"admin"===e.auth.user.role&&(e.deleteProject(a,e.history),l({isOpen:!0,message:"Deleted Successfully",type:"success"}))}(t)}})},children:Object(q.jsx)(lt.a,{fontSize:"small"})})})]},t._id);var a}))})]}),Object(q.jsx)(te,{})]}),Object(q.jsx)(Tt,{title:"Edit Project Details",openPopup:z,setOpenPopup:_,children:Object(q.jsx)(ia,Object(C.a)(Object(C.a)({},e),{},{recordForEdit:E,edit:function(t,a,n){var r={params:{email:e.auth.user.email,projectID:n,auth:e.auth.isAuthenticated},body:t};"admin"===e.auth.user.role&&(e.updateProject(r,e.history),a(),F(null),_(!1),l({isOpen:!0,message:"Update Successfully",type:"success"}))}}))}),Object(q.jsx)(Tt,{title:"Register New Project",openPopup:W,setOpenPopup:M,children:Object(q.jsx)(sa,Object(C.a)(Object(C.a)({},e),{},{create:function(t,a){var n={params:{email:e.auth.user.email,auth:e.auth.isAuthenticated},body:t};console.log(n),e.registerProject(n,e.history),a(),M(!1),l({isOpen:!0,message:"Registered Successfully.",type:"success"})},company:N,allCompanies:P}))}),Object(q.jsx)(kt,{notify:o,setNotify:l}),Object(q.jsx)(wt,{confirmDialog:n,setConfirmDialog:i})]})}var Ta=function(e){var t=e.auth.user;return"admin"===t.role?(console.log("admin"),Object(q.jsx)(Ia,Object(C.a)({},e))):"user"===t.role?(console.log("user"),Object(q.jsx)(wa,Object(C.a)({},e))):void 0},Ea={featureDetails:"",dueDate:"",ownerName:""};function Fa(e){e.addOrEdit;var t=e.recordForEdit,a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=Object(C.a)({},s);if(o(Object(C.a)({},t)),e===i)return Object.values(t).every((function(e){return""==e}))},r=Ft(Ea,!0,a),i=r.values,c=r.setValues,s=r.errors,o=r.setErrors,l=r.handleInputChange,u=r.resetForm;console.log(t);return Object(n.useEffect)((function(){null!=t&&c(Object(C.a)({},t))}),[t]),Object(q.jsx)(Rt,{onSubmit:function(t){if(t.preventDefault(),a()){var n="admin"===e.auth.user.role?"approved":"wait",r={featureDetails:i.featureDetails,dueDate:i.dueDate,ownerName:i.ownerName,approved:n};e.edit(r,u,e.recordForEdit._id)}},children:Object(q.jsxs)(H.a,{container:!0,children:[Object(q.jsxs)(H.a,{item:!0,xs:7,children:[Object(q.jsx)(ft,{name:"featureDetails",label:"Feature Details",value:i.featureDetails,onChange:l,error:s.featureDetails}),Object(q.jsx)(ft,{name:"ownerName",label:"Owner Name",value:i.ownerName,onChange:l,error:s.ownerName}),Object(q.jsx)(ft,{id:"date",type:"date",defaultValue:"2017-05-24",InputLabelProps:{shrink:!0},name:"dueDate",label:"Due Date",value:i.dueDate,onChange:l,error:s.dueDate})]}),Object(q.jsx)(H.a,{item:!0,xs:5,children:Object(q.jsxs)("div",{children:[Object(q.jsx)(ht,{type:"submit",text:"Submit"}),Object(q.jsx)(ht,{text:"Reset",color:"default",onClick:u})]})})]})})}var Ba={featureName:"",featureDetails:"",dueDate:"",ownerName:""};function Ra(e){e.addOrEdit;var t,a=e.recordForEdit,r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=Object(C.a)({},l);if(u(Object(C.a)({},t)),e===s)return Object.values(t).every((function(e){return""==e}))},i={};for(t=0;t<e.allProjects.length;t++)e.allProjects[t].projectName===e.project&&(i=e.allProjects[t]);var c=Ft(Ba,!0,r),s=c.values,o=c.setValues,l=c.errors,u=c.setErrors,d=c.handleInputChange,j=c.resetForm;return Object(n.useEffect)((function(){null!=a&&o(Object(C.a)({},a))}),[a]),Object(q.jsx)(Rt,{onSubmit:function(t){if(t.preventDefault(),r()){var a={projectName:i.projectName,projectID:i._id,creatorName:e.auth.user.name,creatorID:e.auth.user.id,companyName:i.companyName,companyID:i.companyID,ownerName:s.ownerName,featureName:s.featureName,featureDetails:s.featureDetails,dueDate:s.dueDate};e.create(a,j)}},children:Object(q.jsxs)(H.a,{container:!0,children:[Object(q.jsxs)(H.a,{item:!0,xs:8,children:[Object(q.jsx)(ft,{name:"featureName",label:"Feature Name",value:s.featureName,onChange:d,error:l.featureName}),Object(q.jsx)(ft,{name:"featureDetails",label:"Feature Details",value:s.featureDetails,onChange:d,error:l.featureDetails}),Object(q.jsx)(ft,{name:"ownerName",label:"Owner Name",value:s.ownerName,onChange:d,error:l.ownerName})]}),Object(q.jsxs)(H.a,{item:!0,xs:4,children:[Object(q.jsx)(ft,{id:"date",type:"date",defaultValue:"2017-05-24",InputLabelProps:{shrink:!0},name:"dueDate",label:"Due Date",value:s.dueDate,onChange:d,error:l.dueDate}),Object(q.jsxs)("div",{children:[Object(q.jsx)(ht,{type:"submit",text:"Submit"}),Object(q.jsx)(ht,{text:"Reset",color:"default",onClick:j})]})]})]})})}function za(e,t,a,n,r,i,c,s){return{_id:e,featureName:t,approved:a,dueDate:n,featureDetails:r,creatorName:i,updated:c,delete:s}}Object(X.a)({palette:Object($.a)({green:{main:"#1a9c34"},yellow:{main:"#f5ca20"}},"yellow",{main:"#f5ca20"})});var _a=Object(te.a)((function(e){return{pageContent:{margin:e.spacing(5),padding:e.spacing(3)},searchInput:{width:"95%"},newButton:{position:"absolute",right:"10px"},seeMore:{marginTop:e.spacing(3)},formControl:{minWidth:210}}})),Va=[{id:"featureName",label:"Feature Name"},{id:"approvedIcon",label:"Approved",disableSorting:!0},{id:"dueDate",label:"Due Date"},{id:"creatorName",label:"Creator"},{id:"featureDetails",label:"Feature Details"},{id:"companyName",label:"Company Name"},{id:"update",label:"Update",disableSorting:!0},{id:"delete",label:"Delete",disableSorting:!0}],La=[za("","","","","","","",""),za("","","","","","","",""),za("","","","","","","",""),za("","","","","","","",""),za("","","","","","","",""),za("","","","","","","",""),za("","","","","","","",""),za("","","","","","","",""),za("","","","","","","","")];function Ua(e){var t=r.a.useState({isOpen:!1,title:"",subTitle:""}),a=Object(Z.a)(t,2),n=a[0],i=a[1],c=r.a.useState({isOpen:!1,message:"",type:""}),s=Object(Z.a)(c,2),o=s[0],l=s[1],u=r.a.useState({fn:function(e){return e}}),d=Object(Z.a)(u,2),j=d[0],p=d[1],b=r.a.useState(La),m=Object(Z.a)(b,2),h=m[0],O=m[1],f=r.a.useState([]),x=Object(Z.a)(f,2),v=x[0],g=x[1],y=r.a.useState(""),S=Object(Z.a)(y,2),N=S[0],w=S[1],D=r.a.useState(null),A=Object(Z.a)(D,2),P=A[0],k=A[1],I=r.a.useState(!1),T=Object(Z.a)(I,2),E=T[0],F=T[1],B=r.a.useState(!1),R=Object(Z.a)(B,2),z=R[0],_=R[1],V=r.a.useState(h),L=Object(Z.a)(V,2),W=L[0],M=L[1],Y=_a();r.a.useEffect(Object(Ze.a)(Qe.a.mark((function t(){var a,n,r,i,c;return Qe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(s=e).getAllProjects({email:s.auth.user.email,auth:s.auth.isAuthenticated},s.history);case 2:for(a=t.sent,n=a.data.map((function(e){return e.projectName})),r=n.length,(i=[])[0]={key:0,item:""},c=0;c<r;c++)i[c+1]={key:c+1,item:n[c]};console.log(i),g(i);case 10:case"end":return t.stop()}var s}),t)}))),[]),r.a.useEffect(Object(Ze.a)(Qe.a.mark((function t(){var a;return Qe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(n=e).getAllFeatures({email:n.auth.user.email,auth:n.auth.isAuthenticated},n.history);case 2:a=t.sent,O(a.data),M(a.data),p({fn:function(e){return""==N?e:e.filter((function(e){return e.projectName.includes(N)}))}});case 6:case"end":return t.stop()}var n}),t)}))),[o,v]);var G=Mt(W,Va,j),X=G.TblContainer,J=G.TblHead,K=G.TblPagination,Q=G.recordsAfterPagingAndSorting,$=r.a.useState({checkedA:!0,checkedB:!0}),ee=Object(Z.a)($,2),te=ee[0],ae=(ee[1],function(e){var t=e.toString();return t=t.substring(0,t.indexOf("T"))});return Object(q.jsxs)(r.a.Fragment,{children:[Object(q.jsxs)(U.a,{className:Y.pageContent,children:[Object(q.jsx)(re.a,{children:Object(q.jsxs)(H.a,{container:!0,children:[Object(q.jsx)(H.a,{item:!0,xs:7,children:Object(q.jsx)(ft,{label:"Search Features",className:Y.searchInput,InputProps:{startAdornment:Object(q.jsx)(rt.a,{position:"start",children:Object(q.jsx)(at.a,{})})},onChange:function(e){var t=e.target;p({fn:function(e){return""==t.value?e:e.filter((function(e){return e.featureName.toLowerCase().includes(t.value)}))}})}})}),Object(q.jsx)(H.a,{item:!0,xs:3,children:Object(q.jsxs)(na.a,{variant:"outlined",className:Y.formControl,children:[Object(q.jsx)(oa.a,{htmlFor:"outlined-company-native-simple",children:"Company"}),Object(q.jsx)(la.a,{native:!0,value:te.age,onChange:function(e){var t=e.target;console.log(t.value),w(t.value),p({fn:function(e){return""==t.value?e:e.filter((function(e){return e.projectName.includes(t.value)}))}})},label:"Company",inputProps:{name:"company",id:"outlined-company-native-simple"},children:v.map((function(e){return Object(q.jsx)("option",{value:e.item,children:e.item},e.key)}))})]})}),Object(q.jsx)(H.a,{item:!0,xs:2,children:Object(q.jsx)(ht,{text:"Add New",variant:"outlined",startIcon:Object(q.jsx)(tt.a,{}),className:Y.newButton,onClick:function(){_(!0)},disabled:""===N})})]})}),Object(q.jsxs)(X,{children:[Object(q.jsx)(J,{}),Object(q.jsx)($e.a,{children:Q().map((function(t){return Object(q.jsxs)(it.a,{children:[Object(q.jsx)(nt.a,{children:t.featureName}),Object(q.jsx)(nt.a,{align:"center",children:(a=t.approved,"approved"===a?(console.log(a),console.log("yes"),Object(q.jsx)(ja.a,{fontSize:"small",style:{color:"#00b386"}})):"wait"===a?(console.log("what"),Object(q.jsx)(ba.a,{fontSize:"small",style:{color:"#ffbf00"}})):"rejected"===a?(console.log("what"),Object(q.jsx)(we.a,{fontSize:"small",style:{color:"#DC143C"}})):void 0)}),Object(q.jsx)(nt.a,{children:ae(t.dueDate)}),Object(q.jsx)(nt.a,{children:t.creatorName}),Object(q.jsx)(nt.a,{children:t.featureDetails}),Object(q.jsx)(nt.a,{children:t.companyName}),Object(q.jsx)(nt.a,{children:Object(q.jsx)(jt,{color:"light",onClick:function(){k(t),F(!0)},children:Object(q.jsx)(st.a,{fontSize:"small"})})}),Object(q.jsx)(nt.a,{children:Object(q.jsx)(jt,{color:"light",onClick:function(){i({isOpen:!0,title:"Are you sure to delete this record?",subTitle:"You can't undo this operation",onConfirm:function(){!function(t){i(Object(C.a)(Object(C.a)({},n),{},{isOpen:!1}));var a={emailDelete:t.email,email:e.auth.user.email,auth:e.auth.isAuthenticated};e.deleteFeature(a,e.history),l({isOpen:!0,message:"Deleted Successfully",type:"success"})}(t)}})},children:Object(q.jsx)(lt.a,{fontSize:"small"})})})]},t._id);var a}))})]}),Object(q.jsx)(K,{})]}),Object(q.jsx)(Tt,{title:"Edit Feature Details",openPopup:E,setOpenPopup:F,children:Object(q.jsx)(Fa,{recordForEdit:P,edit:function(t,a,n){var r={params:{email:e.auth.user.email,emailupdate:n,auth:e.auth.isAuthenticated},body:t};"admin"===e.auth.user.role&&(e.updateFeature(r,e.history),a(),k(null),F(!1),l({isOpen:!0,message:"Update Successfully",type:"success"}))}})}),Object(q.jsx)(Tt,{title:"Register New Feature",openPopup:z,setOpenPopup:_,children:Object(q.jsx)(Ra,Object(C.a)(Object(C.a)({},e),{},{create:function(t,a){var n={params:{email:e.auth.user.email,auth:e.auth.isAuthenticated},body:t};console.log(n),e.registerFeature(n,e.history),a(),_(!1),l({isOpen:!0,message:"Registered Successfully.",type:"success"})},company:N}))}),Object(q.jsx)(kt,{notify:o,setNotify:l}),Object(q.jsx)(wt,{confirmDialog:n,setConfirmDialog:i})]})}function Wa(e){return Object(q.jsxs)(W.a,{position:"relative",display:"inline-flex",children:[Object(q.jsx)(ua.a,Object(C.a)({variant:"determinate"},e)),Object(q.jsx)(W.a,{top:0,left:0,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center",children:Object(q.jsx)(G.a,{variant:"caption",component:"div",color:"textSecondary",children:"".concat(Math.round(e.value),"%")})})]})}var Ha=Object(te.a)((function(e){return{pageContent:{margin:e.spacing(5),padding:e.spacing(3)},searchInput:{width:"95%"},newButton:{position:"absolute",right:"10px"},seeMore:{marginTop:e.spacing(3)},formControl:{minWidth:210}}})),Ma=[{id:"featureName",label:"Feature Name"},{id:"dueDate",label:"Due Date"},{id:"ownerName",label:"Owner"},{id:"featureDetails",label:"Feature Details"},{id:"projectName",label:"Project Name"},{id:"percentComplete",label:"Progress"},{id:"update",label:"Update",disableSorting:!0},{id:"delete",label:"Delete",disableSorting:!0}],Ya=[function(e,t,a,n,r,i,c){return{_id:e,featureName:t,dueDate:a,featureDetails:n,percentComplete:0,creatorName:r,updated:i,delete:c}}("","","","","","","")];var Ga=function(e){return e.getAllFeatures({email:e.auth.user.email,auth:e.auth.isAuthenticated},e.history)};function Xa(e){var t=r.a.useState({isOpen:!1,title:"",subTitle:""}),a=Object(Z.a)(t,2),n=a[0],i=a[1],c=r.a.useState({isOpen:!1,message:"",type:""}),s=Object(Z.a)(c,2),o=s[0],l=s[1],u=r.a.useState({fn:function(e){return e}}),d=Object(Z.a)(u,2),j=d[0],p=d[1],b=r.a.useState(Ya),m=Object(Z.a)(b,2),h=m[0],O=m[1],f=r.a.useState([]),x=Object(Z.a)(f,2),v=x[0],g=x[1],y=r.a.useState(""),S=Object(Z.a)(y,2),N=S[0],w=S[1],D=r.a.useState([]),A=Object(Z.a)(D,2),P=A[0],k=A[1],I=r.a.useState(null),T=Object(Z.a)(I,2),E=T[0],F=T[1],B=r.a.useState(!1),R=Object(Z.a)(B,2),z=R[0],_=R[1],V=r.a.useState(!1),L=Object(Z.a)(V,2),W=L[0],M=L[1],Y=r.a.useState(h),G=Object(Z.a)(Y,2),X=G[0],J=G[1],K=Ha();r.a.useEffect(Object(Ze.a)(Qe.a.mark((function t(){var a,n,r,i,c,s,o;return Qe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(l=e).getAllProjects({email:l.auth.user.email,auth:l.auth.isAuthenticated},l.history);case 2:for(a=t.sent,k(a.data),n=a.data.map((function(e){return"true"===e.enabled?e.projectName:"0"})),console.log(n),i=0,c=[],r=0;r<n.length;r++)"0"!==n[r]&&(c[i++]=n[r]);for((s=[])[0]={key:0,item:""},o=0;o<i;o++)s[o+1]={key:o+1,item:c[o]};console.log(s),g(s);case 14:case"end":return t.stop()}var l}),t)}))),[]),r.a.useEffect(Object(Ze.a)(Qe.a.mark((function t(){var a,n,r,i,c,s,o,l,u,d,j;return Qe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ga(e);case 2:for(a=t.sent,n=a.data.map((function(e){return{pID:e.projectID,progress:e.percentComplete}})),s=[],o=[],r=0;r<n.length;r++)o[r]=n[r].pID;for(l=o.filter((function(e,t,a){return a.indexOf(e)===t})),u=[],d=0,i=0;i<l.length;i++){for(s[i]=0,d=0,c=0;c<n.length;c++)n[c].pID.includes(l[i])&&(s[i]=s[i]+n[c].progress,d++);u[i]={projectID:l[i],percentComplete:s[i]/d}}for(r=0;r<u.length;r++)j={params:{email:e.auth.user.email,projectID:u[r].projectID,auth:e.auth.isAuthenticated},body:{percentComplete:u[r].percentComplete}},e.updateProject(j,e.history);case 12:case"end":return t.stop()}}),t)}))),[o]),r.a.useEffect(Object(Ze.a)(Qe.a.mark((function t(){var a;return Qe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ga(e);case 2:a=t.sent,O(a.data),J(a.data),console.log(a.data),p({fn:function(e){return""==N?e.filter((function(e){return e.enabled.includes("true")})):e.filter((function(e){return e.projectName.includes(N)}))}});case 7:case"end":return t.stop()}}),t)}))),[o,v]);var Q=Mt(X,Ma,j),$=Q.TblContainer,ee=Q.TblHead,te=Q.TblPagination,ae=Q.recordsAfterPagingAndSorting,ne=r.a.useState({checkedA:!0,checkedB:!0}),ie=Object(Z.a)(ne,2),ce=ie[0],se=(ie[1],function(e){var t=e.toString();return t=t.substring(0,t.indexOf("T"))});return Object(q.jsxs)(r.a.Fragment,{children:[Object(q.jsxs)(U.a,{className:K.pageContent,children:[Object(q.jsx)(re.a,{children:Object(q.jsxs)(H.a,{container:!0,children:[Object(q.jsx)(H.a,{item:!0,xs:7,children:Object(q.jsx)(ft,{label:"Search Features",className:K.searchInput,InputProps:{startAdornment:Object(q.jsx)(rt.a,{position:"start",children:Object(q.jsx)(at.a,{})})},onChange:function(e){var t=e.target;p({fn:function(e){return""==t.value?e.filter((function(e){return e.enabled.includes("true")})):e.filter((function(e){return e.featureName.toLowerCase().includes(t.value.toLowerCase())}))}})}})}),Object(q.jsx)(H.a,{item:!0,xs:3,children:Object(q.jsxs)(na.a,{variant:"outlined",className:K.formControl,children:[Object(q.jsx)(oa.a,{htmlFor:"outlined-project-native-simple",children:"Project"}),Object(q.jsx)(la.a,{native:!0,value:ce.age,onChange:function(e){var t=e.target;console.log(t.value),w(t.value),p({fn:function(e){return""==t.value?e.filter((function(e){return e.enabled.includes("true")})):e.filter((function(e){return e.projectName.includes(t.value)}))}})},label:"Project",inputProps:{name:"project",id:"outlined-project-native-simple"},children:v.map((function(e){return Object(q.jsx)("option",{value:e.item,children:e.item},e.key)}))})]})}),Object(q.jsx)(H.a,{item:!0,xs:2,children:Object(q.jsx)(ht,{text:"Add New",variant:"outlined",startIcon:Object(q.jsx)(tt.a,{}),className:K.newButton,onClick:function(){M(!0)},disabled:""===N})})]})}),Object(q.jsxs)($,{children:[Object(q.jsx)(ee,{}),Object(q.jsx)($e.a,{children:ae().map((function(t){return Object(q.jsxs)(it.a,{children:[Object(q.jsx)(nt.a,{backgroundColor:"primary",children:t.featureName}),Object(q.jsx)(nt.a,{children:se(t.dueDate)}),Object(q.jsx)(nt.a,{children:t.ownerName}),Object(q.jsx)(nt.a,{children:t.featureDetails}),Object(q.jsx)(nt.a,{children:t.projectName}),Object(q.jsxs)(nt.a,{children:["  ",Object(q.jsx)(Wa,{value:t.percentComplete})]}),Object(q.jsx)(nt.a,{children:Object(q.jsx)(jt,{color:"light",onClick:function(){F(t),_(!0)},children:Object(q.jsx)(st.a,{fontSize:"small"})})}),Object(q.jsx)(nt.a,{children:Object(q.jsx)(jt,{color:"light",onClick:function(){i({isOpen:!0,title:"Are you sure to delete this record?",subTitle:"You can't undo this operation",onConfirm:function(){!function(t){i(Object(C.a)(Object(C.a)({},n),{},{isOpen:!1}));var a={featureID:t._id,email:e.auth.user.email,auth:e.auth.isAuthenticated};"admin"===e.auth.user.role&&(e.deleteFeature(a,e.history),l({isOpen:!0,message:"Deleted Successfully",type:"success"}))}(t)}})},children:Object(q.jsx)(lt.a,{fontSize:"small"})})})]},t._id)}))})]}),Object(q.jsx)(te,{})]}),Object(q.jsx)(Tt,{title:"Edit Feature Details",openPopup:z,setOpenPopup:_,children:Object(q.jsx)(Fa,Object(C.a)(Object(C.a)({},e),{},{recordForEdit:E,edit:function(t,a,n){var r={params:{email:e.auth.user.email,featureID:n,auth:e.auth.isAuthenticated},body:t};"admin"===e.auth.user.role&&(e.updateFeature(r,e.history),a(),F(null),_(!1),l({isOpen:!0,message:"Updated Successfully",type:"success"}))}}))}),Object(q.jsx)(Tt,{title:"Register New Feature",openPopup:W,setOpenPopup:M,children:Object(q.jsx)(Ra,Object(C.a)(Object(C.a)({},e),{},{create:function(t,a){var n={params:{email:e.auth.user.email,auth:e.auth.isAuthenticated},body:t};console.log(n),e.registerFeature(n,e.history),a(),M(!1),l({isOpen:!0,message:"Registered Successfully.",type:"success"})},project:N,allProjects:P}))}),Object(q.jsx)(kt,{notify:o,setNotify:l}),Object(q.jsx)(wt,{confirmDialog:n,setConfirmDialog:i})]})}var qa=function(e){var t=e.auth.user;return"admin"===t.role?(console.log("admin"),Object(q.jsx)(Xa,Object(C.a)({},e))):"user"===t.role?(console.log("user"),Object(q.jsx)(Ua,Object(C.a)({},e))):void 0},Ja={taskName:"",taskDetails:"",dueDate:"",ownerName:"",percentComplete:0};function Ka(e){e.addOrEdit;var t=e.recordForEdit,a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=Object(C.a)({},s);if(o(Object(C.a)({},t)),e===i)return Object.values(t).every((function(e){return""==e}))},r=Ft(Ja,!0,a),i=r.values,c=r.setValues,s=r.errors,o=r.setErrors,l=r.handleInputChange,u=r.resetForm;console.log(t);return Object(n.useEffect)((function(){null!=t&&c(Object(C.a)({},t))}),[t]),Object(q.jsx)(Rt,{onSubmit:function(n){if(n.preventDefault(),a()){var r={taskName:i.taskName,taskDetails:i.taskDetails,dueDate:i.dueDate,percentComplete:parseInt(i.percentComplete),ownerName:i.ownerName};console.log(r),e.edit(r,u,t._id)}},children:Object(q.jsxs)(H.a,{container:!0,children:[Object(q.jsxs)(H.a,{item:!0,xs:7,children:[Object(q.jsx)(ft,{name:"taskName",label:"Project Name",value:i.taskName,onChange:l,error:s.taskName}),Object(q.jsx)(ft,{name:"taskDetails",label:"Project Details",value:i.taskDetails,onChange:l,error:s.taskDetails}),Object(q.jsx)(ft,{name:"ownerName",label:"Owner Name",value:i.ownerName,onChange:l,error:s.ownerName}),Object(q.jsx)(ft,{name:"percentComplete",label:"Progress",value:i.percentComplete,onChange:l,error:s.percentComplete}),Object(q.jsx)(ft,{id:"date",type:"date",InputLabelProps:{shrink:!0},name:"dueDate",label:"Due Date",value:i.dueDate,onChange:l,error:s.dueDate})]}),Object(q.jsx)(H.a,{item:!0,xs:5,children:Object(q.jsxs)("div",{children:[Object(q.jsx)(ht,{type:"submit",text:"Submit"}),Object(q.jsx)(ht,{text:"Reset",color:"default",onClick:u})]})})]})})}var Qa={taskName:"",taskDetails:"",dueDate:"",ownerName:""};function Za(e){var t,a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,t=Object(C.a)({},i);if(c(Object(C.a)({},t)),e===r)return Object.values(t).every((function(e){return""==e}))},n=Ft(Qa,!0,a),r=n.values,i=(n.setValues,n.errors),c=n.setErrors,s=n.handleInputChange,o=n.resetForm,l={};for(t=0;t<e.allFeatures.length;t++)e.allFeatures[t].featureName===e.feature&&(l=e.allFeatures[t]);return Object(q.jsx)(Rt,{onSubmit:function(t){if(t.preventDefault(),a()){e.auth.user.role;var n={taskName:r.taskName,taskDetails:r.taskDetails,dueDate:r.dueDate,ownerName:r.ownerName,creatorName:e.auth.user.name,creatorID:e.auth.user.id,companyName:l.companyName,companyID:l.companyID,projectName:l.projectName,projectID:l.projectID,featureName:l.featureName,featureID:l._id,percentComplete:r.percentComplete};e.create(n,o)}},children:Object(q.jsxs)(H.a,{container:!0,children:[Object(q.jsxs)(H.a,{item:!0,xs:8,children:[Object(q.jsx)(ft,{name:"taskName",label:"Task Name",value:r.taskName,onChange:s,error:i.taskName}),Object(q.jsx)(ft,{name:"taskDetails",label:"Task Details",value:r.taskDetails,onChange:s,error:i.taskDetails}),Object(q.jsx)(ft,{name:"ownerName",label:"Owner Name",value:r.ownerName,onChange:s,error:i.ownerName})]}),Object(q.jsxs)(H.a,{item:!0,xs:4,children:[Object(q.jsx)(ft,{id:"date",type:"date",defaultValue:"2017-05-24",InputLabelProps:{shrink:!0},name:"dueDate",label:"Due Date",value:r.dueDate,onChange:s,error:i.dueDate}),Object(q.jsxs)("div",{children:[Object(q.jsx)(ht,{type:"submit",text:"Submit"}),Object(q.jsx)(ht,{text:"Reset",color:"default",onClick:o})]})]})]})})}function $a(e,t,a,n,r,i,c,s){return{_id:e,taskName:t,approved:a,dueDate:n,taskDetails:r,creatorName:i,updated:c,delete:s}}Object(X.a)({palette:Object($.a)({green:{main:"#1a9c34"},yellow:{main:"#f5ca20"}},"yellow",{main:"#f5ca20"})});var en=Object(te.a)((function(e){return{pageContent:{margin:e.spacing(5),padding:e.spacing(3)},searchInput:{width:"95%"},newButton:{position:"absolute",right:"10px"},seeMore:{marginTop:e.spacing(3)},formControl:{minWidth:210}}})),tn=[{id:"taskName",label:"Task Name"},{id:"approvedIcon",label:"Approved",disableSorting:!0},{id:"dueDate",label:"Due Date"},{id:"creatorName",label:"Creator"},{id:"taskDetails",label:"Task Details"},{id:"companyName",label:"Company Name"},{id:"update",label:"Update",disableSorting:!0},{id:"delete",label:"Delete",disableSorting:!0}],an=[$a("","","","","","","",""),$a("","","","","","","",""),$a("","","","","","","",""),$a("","","","","","","",""),$a("","","","","","","",""),$a("","","","","","","",""),$a("","","","","","","",""),$a("","","","","","","",""),$a("","","","","","","","")];function nn(e){var t=r.a.useState({isOpen:!1,title:"",subTitle:""}),a=Object(Z.a)(t,2),n=a[0],i=a[1],c=r.a.useState({isOpen:!1,message:"",type:""}),s=Object(Z.a)(c,2),o=s[0],l=s[1],u=r.a.useState({fn:function(e){return e}}),d=Object(Z.a)(u,2),j=d[0],p=d[1],b=r.a.useState(an),m=Object(Z.a)(b,2),h=m[0],O=m[1],f=r.a.useState([]),x=Object(Z.a)(f,2),v=x[0],g=x[1],y=r.a.useState(""),S=Object(Z.a)(y,2),N=S[0],w=S[1],D=r.a.useState(null),A=Object(Z.a)(D,2),P=A[0],k=A[1],I=r.a.useState(!1),T=Object(Z.a)(I,2),E=T[0],F=T[1],B=r.a.useState(!1),R=Object(Z.a)(B,2),z=R[0],_=R[1],V=r.a.useState(h),L=Object(Z.a)(V,2),W=L[0],M=L[1],Y=en();r.a.useEffect(Object(Ze.a)(Qe.a.mark((function t(){var a,n,r,i,c;return Qe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(s=e).getAllCompanies({email:s.auth.user.email,auth:s.auth.isAuthenticated},s.history);case 2:for(a=t.sent,n=a.data.map((function(e){return e.companyName})),r=n.length,(i=[])[0]={key:0,item:""},c=0;c<r;c++)i[c+1]={key:c+1,item:n[c]};console.log(i),g(i);case 10:case"end":return t.stop()}var s}),t)}))),[]),r.a.useEffect(Object(Ze.a)(Qe.a.mark((function t(){var a;return Qe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(n=e).getAllTasks({email:n.auth.user.email,auth:n.auth.isAuthenticated},n.history);case 2:a=t.sent,O(a.data),M(a.data),p({fn:function(e){return""==N?e:e.filter((function(e){return e.companyName.includes(N)}))}});case 6:case"end":return t.stop()}var n}),t)}))),[o,v]);var G=Mt(W,tn,j),X=G.TblContainer,J=G.TblHead,K=G.TblPagination,Q=G.recordsAfterPagingAndSorting,$=r.a.useState({checkedA:!0,checkedB:!0}),ee=Object(Z.a)($,2),te=ee[0],ae=(ee[1],function(e){var t=e.toString();return t=t.substring(0,t.indexOf("T"))});return Object(q.jsxs)(r.a.Fragment,{children:[Object(q.jsxs)(U.a,{className:Y.pageContent,children:[Object(q.jsx)(re.a,{children:Object(q.jsxs)(H.a,{container:!0,children:[Object(q.jsx)(H.a,{item:!0,xs:7,children:Object(q.jsx)(ft,{label:"Search Tasks",className:Y.searchInput,InputProps:{startAdornment:Object(q.jsx)(rt.a,{position:"start",children:Object(q.jsx)(at.a,{})})},onChange:function(e){var t=e.target;p({fn:function(e){return""==t.value?e:e.filter((function(e){return e.taskName.toLowerCase().includes(t.value)}))}})}})}),Object(q.jsx)(H.a,{item:!0,xs:3,children:Object(q.jsxs)(na.a,{variant:"outlined",className:Y.formControl,children:[Object(q.jsx)(oa.a,{htmlFor:"outlined-company-native-simple",children:"Company"}),Object(q.jsx)(la.a,{native:!0,value:te.age,onChange:function(e){var t=e.target;console.log(t.value),w(t.value),p({fn:function(e){return""==t.value?e:e.filter((function(e){return e.companyName.includes(t.value)}))}})},label:"Company",inputProps:{name:"company",id:"outlined-company-native-simple"},children:v.map((function(e){return Object(q.jsx)("option",{value:e.item,children:e.item},e.key)}))})]})}),Object(q.jsx)(H.a,{item:!0,xs:2,children:Object(q.jsx)(ht,{text:"Add New",variant:"outlined",startIcon:Object(q.jsx)(tt.a,{}),className:Y.newButton,onClick:function(){_(!0)},disabled:""===N})})]})}),Object(q.jsxs)(X,{children:[Object(q.jsx)(J,{}),Object(q.jsx)($e.a,{children:Q().map((function(t){return Object(q.jsxs)(it.a,{children:[Object(q.jsx)(nt.a,{children:t.taskName}),Object(q.jsx)(nt.a,{align:"center",children:(a=t.approved,"approved"===a?(console.log(a),console.log("yes"),Object(q.jsx)(ja.a,{fontSize:"small",style:{color:"#00b386"}})):"wait"===a?(console.log("what"),Object(q.jsx)(ba.a,{fontSize:"small",style:{color:"#ffbf00"}})):"rejected"===a?(console.log("what"),Object(q.jsx)(we.a,{fontSize:"small",style:{color:"#DC143C"}})):void 0)}),Object(q.jsx)(nt.a,{children:ae(t.dueDate)}),Object(q.jsx)(nt.a,{children:t.creatorName}),Object(q.jsx)(nt.a,{children:t.taskDetails}),Object(q.jsx)(nt.a,{children:t.companyName}),Object(q.jsx)(nt.a,{children:Object(q.jsx)(jt,{color:"light",onClick:function(){k(t),F(!0)},children:Object(q.jsx)(st.a,{fontSize:"small"})})}),Object(q.jsx)(nt.a,{children:Object(q.jsx)(jt,{color:"light",onClick:function(){i({isOpen:!0,title:"Are you sure to delete this record?",subTitle:"You can't undo this operation",onConfirm:function(){!function(t){i(Object(C.a)(Object(C.a)({},n),{},{isOpen:!1}));var a={emailDelete:t.email,email:e.auth.user.email,auth:e.auth.isAuthenticated};e.deleteTask(a,e.history),l({isOpen:!0,message:"Deleted Successfully",type:"success"})}(t)}})},children:Object(q.jsx)(lt.a,{fontSize:"small"})})})]},t._id);var a}))})]}),Object(q.jsx)(K,{})]}),Object(q.jsx)(Tt,{title:"Edit Task Details",openPopup:E,setOpenPopup:F,children:Object(q.jsx)(Ka,{recordForEdit:P,edit:function(t,a,n){var r={params:{email:e.auth.user.email,emailupdate:n,auth:e.auth.isAuthenticated},body:t};"admin"===e.auth.user.role&&(e.updateTask(r,e.history),a(),k(null),F(!1),l({isOpen:!0,message:"Update Successfully",type:"success"}))}})}),Object(q.jsx)(Tt,{title:"Register New Task",openPopup:z,setOpenPopup:_,children:Object(q.jsx)(Za,Object(C.a)(Object(C.a)({},e),{},{create:function(t,a){var n={params:{email:e.auth.user.email,auth:e.auth.isAuthenticated},body:t};console.log(n),e.registerTask(n,e.history),a(),_(!1),l({isOpen:!0,message:"Registered Successfully.",type:"success"})},company:N}))}),Object(q.jsx)(kt,{notify:o,setNotify:l}),Object(q.jsx)(wt,{confirmDialog:n,setConfirmDialog:i})]})}function rn(e){return Object(q.jsxs)(W.a,{position:"relative",display:"inline-flex",children:[Object(q.jsx)(ua.a,Object(C.a)({variant:"determinate"},e)),Object(q.jsx)(W.a,{top:0,left:0,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center",children:Object(q.jsx)(G.a,{variant:"caption",component:"div",color:"textSecondary",children:"".concat(Math.round(e.value),"%")})})]})}var cn=Object(te.a)((function(e){return{pageContent:{margin:e.spacing(5),padding:e.spacing(3)},searchInput:{width:"95%"},newButton:{position:"absolute",right:"10px"},seeMore:{marginTop:e.spacing(3)},formControl:{minWidth:210}}})),sn=[{id:"taskName",label:"Task Name"},{id:"dueDate",label:"Due Date"},{id:"ownerName",label:"ownerName"},{id:"taskDetails",label:"Task Details"},{id:"featureName",label:"Feature Name"},{id:"percentComplete",label:"Progress"},{id:"update",label:"Update",disableSorting:!0},{id:"delete",label:"Delete",disableSorting:!0}],on=[function(e,t,a,n,r,i,c){return{_id:e,taskName:t,dueDate:a,taskDetails:n,creatorName:r,updated:i,delete:c}}("","","","","","","")];var ln=function(e){return e.getAllTasks({email:e.auth.user.email,auth:e.auth.isAuthenticated},e.history)},un=function(e){return e.getAllFeatures({email:e.auth.user.email,auth:e.auth.isAuthenticated},e.history)};function dn(e){var t=r.a.useState({isOpen:!1,title:"",subTitle:""}),a=Object(Z.a)(t,2),n=a[0],i=a[1],c=r.a.useState({isOpen:!1,message:"",type:""}),s=Object(Z.a)(c,2),o=s[0],l=s[1],u=r.a.useState({fn:function(e){return e}}),d=Object(Z.a)(u,2),j=d[0],p=d[1],b=r.a.useState(on),m=Object(Z.a)(b,2),h=m[0],O=m[1],f=r.a.useState([]),x=Object(Z.a)(f,2),v=x[0],g=x[1],y=r.a.useState([]),S=Object(Z.a)(y,2),N=S[0],w=S[1],D=r.a.useState(""),A=Object(Z.a)(D,2),P=A[0],k=A[1],I=r.a.useState(null),T=Object(Z.a)(I,2),E=T[0],F=T[1],B=r.a.useState(!1),R=Object(Z.a)(B,2),z=R[0],_=R[1],V=r.a.useState(!1),L=Object(Z.a)(V,2),W=L[0],M=L[1],Y=r.a.useState(h),G=Object(Z.a)(Y,2),X=G[0],J=G[1],K=cn();r.a.useEffect(Object(Ze.a)(Qe.a.mark((function t(){var a,n,r,i,c,s,o;return Qe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,un(e);case 2:for(a=t.sent,w(a.data),n=a.data.map((function(e){return"true"===e.enabled?e.featureName:"0"})),console.log(n),i=0,c=[],r=0;r<n.length;r++)"0"!==n[r]&&(c[i++]=n[r]);for((s=[])[0]={key:0,item:""},o=0;o<i;o++)s[o+1]={key:o+1,item:c[o]};console.log(s),g(s);case 14:case"end":return t.stop()}}),t)}))),[]),r.a.useEffect(Object(Ze.a)(Qe.a.mark((function t(){var a,n,r,i,c,s,o,l,u,d,j;return Qe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ln(e);case 2:for(a=t.sent,n=a.data.map((function(e){return{fID:e.featureID,progress:e.percentComplete}})),s=[],o=[],r=0;r<n.length;r++)o[r]=n[r].fID;for(l=o.filter((function(e,t,a){return a.indexOf(e)===t})),u=[],d=0,i=0;i<l.length;i++){for(s[i]=0,d=0,c=0;c<n.length;c++)n[c].fID.includes(l[i])&&(s[i]=s[i]+n[c].progress,d++);console.log(d),u[i]={featureID:l[i],percentComplete:s[i]/d}}for(r=0;r<u.length;r++)j={params:{email:e.auth.user.email,featureID:u[r].featureID,auth:e.auth.isAuthenticated},body:{percentComplete:u[r].percentComplete}},e.updateFeature(j,e.history);case 12:case"end":return t.stop()}}),t)}))),[o]),r.a.useEffect(Object(Ze.a)(Qe.a.mark((function t(){var a;return Qe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ln(e);case 2:a=t.sent,O(a.data),J(a.data),p({fn:function(e){return""==P?e.filter((function(e){return e.enabled.includes("true")})):e.filter((function(e){return e.featureName.includes(P)}))}});case 6:case"end":return t.stop()}}),t)}))),[o,v]),r.a.useEffect(Object(Ze.a)(Qe.a.mark((function t(){var a,n,r,i,c,s,o,l,u,d,j;return Qe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,un(e);case 2:for(a=t.sent,n=a.data.map((function(e){return{pID:e.projectID,progress:e.percentComplete}})),s=[],o=[],r=0;r<n.length;r++)o[r]=n[r].pID;for(l=o.filter((function(e,t,a){return a.indexOf(e)===t})),u=[],d=0,i=0;i<l.length;i++){for(s[i]=0,d=0,c=0;c<n.length;c++)n[c].pID.includes(l[i])&&(s[i]=s[i]+n[c].progress,d++);u[i]={projectID:l[i],percentComplete:s[i]/d}}for(r=0;r<u.length;r++)j={params:{email:e.auth.user.email,projectID:u[r].projectID,auth:e.auth.isAuthenticated},body:{percentComplete:u[r].percentComplete}},e.updateProject(j,e.history);case 12:case"end":return t.stop()}}),t)}))),[o]);var Q=Mt(X,sn,j),$=Q.TblContainer,ee=Q.TblHead,te=Q.TblPagination,ae=Q.recordsAfterPagingAndSorting,ne=r.a.useState({checkedA:!0,checkedB:!0}),ie=Object(Z.a)(ne,2),ce=ie[0],se=(ie[1],function(e){var t=e.toString();return t=t.substring(0,t.indexOf("T"))});return Object(q.jsxs)(r.a.Fragment,{children:[Object(q.jsxs)(U.a,{className:K.pageContent,children:[Object(q.jsx)(re.a,{children:Object(q.jsxs)(H.a,{container:!0,children:[Object(q.jsx)(H.a,{item:!0,xs:7,children:Object(q.jsx)(ft,{label:"Search Tasks",className:K.searchInput,InputProps:{startAdornment:Object(q.jsx)(rt.a,{position:"start",children:Object(q.jsx)(at.a,{})})},onChange:function(e){var t=e.target;p({fn:function(e){return""==t.value?e.filter((function(e){return e.enabled.includes("true")})):e.filter((function(e){return e.taskName.toLowerCase().includes(t.value.toLowerCase())}))}})}})}),Object(q.jsx)(H.a,{item:!0,xs:3,children:Object(q.jsxs)(na.a,{variant:"outlined",className:K.formControl,children:[Object(q.jsx)(oa.a,{htmlFor:"outlined-feature-native-simple",children:"Feature"}),Object(q.jsx)(la.a,{native:!0,value:ce.age,onChange:function(e){var t=e.target;console.log(t.value),k(t.value),p({fn:function(e){return""==t.value?e.filter((function(e){return e.enabled.includes("true")})):e.filter((function(e){return e.featureName.includes(t.value)}))}})},label:"Feature",inputProps:{name:"feature",id:"outlined-feature-native-simple"},children:v.map((function(e){return Object(q.jsx)("option",{value:e.item,children:e.item},e.key)}))})]})}),Object(q.jsx)(H.a,{item:!0,xs:2,children:Object(q.jsx)(ht,{text:"Add New",variant:"outlined",startIcon:Object(q.jsx)(tt.a,{}),className:K.newButton,onClick:function(){M(!0)},disabled:""===P})})]})}),Object(q.jsxs)($,{children:[Object(q.jsx)(ee,{}),Object(q.jsx)($e.a,{children:ae().map((function(t){return Object(q.jsxs)(it.a,{children:[Object(q.jsx)(nt.a,{backgroundColor:"primary",children:t.taskName}),Object(q.jsx)(nt.a,{children:se(t.dueDate)}),Object(q.jsx)(nt.a,{children:t.ownerName}),Object(q.jsx)(nt.a,{children:t.taskDetails}),Object(q.jsx)(nt.a,{children:t.featureName}),Object(q.jsxs)(nt.a,{children:["  ",Object(q.jsx)(rn,{value:t.percentComplete})]}),Object(q.jsx)(nt.a,{children:Object(q.jsx)(jt,{color:"light",onClick:function(){F(t),_(!0)},children:Object(q.jsx)(st.a,{fontSize:"small"})})}),Object(q.jsx)(nt.a,{children:Object(q.jsx)(jt,{color:"light",onClick:function(){i({isOpen:!0,title:"Are you sure to delete this record?",subTitle:"You can't undo this operation",onConfirm:function(){!function(t){i(Object(C.a)(Object(C.a)({},n),{},{isOpen:!1}));var a={taskID:t._id,email:e.auth.user.email,auth:e.auth.isAuthenticated};"admin"===e.auth.user.role&&(e.deleteTask(a,e.history),l({isOpen:!0,message:"Deleted Successfully",type:"success"}))}(t)}})},children:Object(q.jsx)(lt.a,{fontSize:"small"})})})]},t._id)}))})]}),Object(q.jsx)(te,{})]}),Object(q.jsx)(Tt,{title:"Edit Task Details",openPopup:z,setOpenPopup:_,children:Object(q.jsx)(Ka,{recordForEdit:E,edit:function(t,a,n){var r={params:{email:e.auth.user.email,taskID:n,auth:e.auth.isAuthenticated},body:t};"admin"===e.auth.user.role&&(e.updateTask(r,e.history),a(),F(null),_(!1),l({isOpen:!0,message:"Update Successfully",type:"success"}))}})}),Object(q.jsx)(Tt,{title:"Register New Task",openPopup:W,setOpenPopup:M,children:Object(q.jsx)(Za,Object(C.a)(Object(C.a)({},e),{},{create:function(t,a){var n={params:{email:e.auth.user.email,auth:e.auth.isAuthenticated},body:t};console.log(n),e.registerTask(n,e.history),a(),M(!1),l({isOpen:!0,message:"Registered Successfully.",type:"success"})},feature:P,allFeatures:N}))}),Object(q.jsx)(kt,{notify:o,setNotify:l}),Object(q.jsx)(wt,{confirmDialog:n,setConfirmDialog:i})]})}var jn=function(e){var t=e.auth.user;return"admin"===t.role?(console.log("admin"),Object(q.jsx)(dn,Object(C.a)({},e))):"user"===t.role?(console.log("user"),Object(q.jsx)(nn,Object(C.a)({},e))):void 0},pn=["children","value","index"];function bn(e){var t=e.children,a=e.value,n=e.index,r=Object(pt.a)(e,pn);return Object(q.jsx)("div",Object(C.a)(Object(C.a)({role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},r),{},{children:a===n&&Object(q.jsx)(W.a,{p:3,children:Object(q.jsx)(G.a,{children:t})})}))}function mn(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}function hn(){return Object(q.jsxs)(G.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(q.jsx)(le.a,{color:"inherit",href:"https://material-ui.com/",children:"Your Website"})," ",(new Date).getFullYear(),"."]})}var On=Object(te.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(C.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object($.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240},btnstyle:{margin:"8px 0",backgroundColor:"#666bff"}}}));var fn=Object(y.b)((function(e){return{auth:e.auth}}),{updateAllFeatures:He,updateAllTasks:_e,logoutUser:g,getAllProjects:Xe,getAllCompanies:Je,deleteProject:Ge,updateProject:Ye,registerProject:qe,getAllFeatures:We,deleteFeature:Ue,updateFeature:Le,registerFeature:Me,getAllTasks:ze,deleteTask:Re,updateTask:Be,registerTask:Ve})(Object(j.g)((function(e){var t=r.a.useState(0),a=Object(Z.a)(t,2),n=a[0],i=a[1],c="";c="user"===e.auth.user.role?Fe:Ee;var s=On(),o=r.a.useState(!0),l=Object(Z.a)(o,2),u=l[0],d=l[1];Object(ee.a)(s.paper,s.fixedHeight);return Object(q.jsxs)("div",{className:s.root,children:[Object(q.jsx)(z.a,{}),Object(q.jsx)(ne.a,{position:"absolute",className:Object(ee.a)(s.appBar,u&&s.appBarShift),children:Object(q.jsxs)(re.a,{className:s.toolbar,children:[Object(q.jsx)(se.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){d(!0)},className:Object(ee.a)(s.menuButton,u&&s.menuButtonHidden),children:Object(q.jsx)(de.a,{})}),Object(q.jsx)(G.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:s.title,children:"Projects"}),Object(q.jsx)(R.a,{color:"inherit",className:s.btnstyle,onClick:function(t){t.preventDefault(),e.logoutUser()},children:"Logout"})]})}),Object(q.jsxs)(ae.a,{variant:"permanent",classes:{paper:Object(ee.a)(s.drawerPaper,!u&&s.drawerPaperClose)},open:u,children:[Object(q.jsx)("div",{className:s.toolbarIcon,children:Object(q.jsx)(se.a,{onClick:function(){d(!1)},children:Object(q.jsx)(pe.a,{})})}),Object(q.jsx)(ce.a,{}),Object(q.jsx)(ie.a,{children:c})]}),Object(q.jsxs)("main",{className:s.content,children:[Object(q.jsx)("div",{className:s.appBarSpacer}),Object(q.jsxs)(oe.a,{maxWidth:"lg",className:s.container,children:[Object(q.jsx)(H.a,{item:!0,xs:12,children:Object(q.jsxs)(U.a,{className:s.paper,children:[Object(q.jsx)(ne.a,{position:"static",children:Object(q.jsxs)(ta.a,{value:n,centered:!0,onChange:function(e,t){i(t)},"aria-label":"simple tabs example",children:[Object(q.jsx)(aa.a,Object(C.a)({label:"Projects"},mn(0))),Object(q.jsx)(aa.a,Object(C.a)({label:"Features"},mn(1))),Object(q.jsx)(aa.a,Object(C.a)({label:"Tasks"},mn(2)))]})}),Object(q.jsx)(bn,{value:n,index:0,children:Object(q.jsx)(Ta,Object(C.a)({},e))}),Object(q.jsx)(bn,{value:n,index:1,children:Object(q.jsx)(qa,Object(C.a)({},e))}),Object(q.jsx)(bn,{value:n,index:2,children:Object(q.jsx)(jn,Object(C.a)({},e))})]})}),Object(q.jsx)(W.a,{pt:4,children:Object(q.jsx)(hn,{})})]})]})]})}))),xn=a(235),vn=a(327),gn=a(317);function yn(e){var t=e.name,a=e.label,n=e.value,r=e.onChange,i=e.items;return Object(q.jsxs)(na.a,{children:[Object(q.jsx)(xn.a,{children:a}),Object(q.jsx)(vn.a,{row:!0,name:t,value:n,onChange:r,children:i.map((function(e){return Object(q.jsx)(V.a,{value:e.id,control:Object(q.jsx)(gn.a,{}),label:e.title},e.id)}))})]})}var Sn=[{id:"user",title:"User"},{id:"admin",title:"Admin"}],Nn={name:"",role:"staff-member",email:""};function Cn(e){e.addOrEdit;var t=e.recordForEdit,a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=Object(C.a)({},s);if(o(Object(C.a)({},t)),e===i)return Object.values(t).every((function(e){return""==e}))},r=Ft(Nn,!0,a),i=r.values,c=r.setValues,s=r.errors,o=r.setErrors,l=r.handleInputChange,u=r.resetForm;console.log(t);return Object(n.useEffect)((function(){null!=t&&c(Object(C.a)({},t))}),[t]),Object(q.jsx)(Rt,{onSubmit:function(n){if(n.preventDefault(),a()){var r={name:i.name,email:i.email,role:i.role};console.log(r),e.edit(r,u,t.role)}},children:Object(q.jsxs)(H.a,{container:!0,children:[Object(q.jsx)(H.a,{item:!0,xs:9,children:Object(q.jsx)(ft,{name:"name",label:"Name",value:i.name,onChange:l,error:s.name})}),Object(q.jsxs)(H.a,{item:!0,xs:3,children:[Object(q.jsx)(yn,{name:"role",label:"Role",value:i.role,onChange:l,items:Sn}),Object(q.jsxs)("div",{children:[Object(q.jsx)(ht,{type:"submit",text:"Submit"}),Object(q.jsx)(ht,{text:"Reset",color:"default",onClick:u})]})]})]})})}var wn=[{id:"user",title:"User"},{id:"admin",title:"Admin"}],Dn={name:"",email:"",role:"user",password:"",password2:"",createdByName:""};function An(e){e.addOrEdit;var t=e.recordForEdit,a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=Object(C.a)({},s);if(o(Object(C.a)({},t)),e===i)return Object.values(t).every((function(e){return""==e}))},r=Ft(Dn,!0,a),i=r.values,c=r.setValues,s=r.errors,o=r.setErrors,l=r.handleInputChange,u=r.resetForm;return Object(n.useEffect)((function(){null!=t&&c(Object(C.a)({},t))}),[t]),Object(q.jsx)(Rt,{onSubmit:function(t){if(t.preventDefault(),a()){var n={name:i.name,email:i.email,role:i.role,password:i.password,password2:i.password2,createdByName:e.auth.user.name};e.create(n,u)}},children:Object(q.jsxs)(H.a,{container:!0,children:[Object(q.jsxs)(H.a,{item:!0,xs:9,children:[Object(q.jsx)(ft,{name:"name",label:"Name",value:i.name,onChange:l,error:s.name}),Object(q.jsx)(ft,{name:"email",label:"Email Address",value:i.email,onChange:l,error:s.email}),Object(q.jsx)(ft,{name:"password",label:"Password",type:"password",value:i.password,onChange:l,error:s.password}),Object(q.jsx)(ft,{name:"password2",label:"Confirm Password",type:"password",value:i.password2,onChange:l,error:s.password2})]}),Object(q.jsxs)(H.a,{item:!0,xs:3,children:[Object(q.jsx)(yn,{name:"role",label:"Role",value:i.role,onChange:l,items:wn}),Object(q.jsxs)("div",{children:[Object(q.jsx)(ht,{type:"submit",text:"Submit"}),Object(q.jsx)(ht,{text:"Reset",color:"default",onClick:u})]})]})]})})}function Pn(e,t,a,n,r,i,c){return{_id:e,name:t,email:a,role:n,createdByName:r,date:i,actions:c}}var kn=Object(te.a)((function(e){return{pageContent:{margin:e.spacing(5),padding:e.spacing(3)},searchInput:{width:"75%"},newButton:{position:"absolute",right:"10px"},seeMore:{marginTop:e.spacing(3)}}})),In=[{id:"_id",label:"ID"},{id:"name",label:"Name"},{id:"email",label:"Email Address"},{id:"role",label:"Role"},{id:"createdBy",label:"Created By"},{id:"date",label:"Creation Date"},{id:"actions",label:"Actions",disableSorting:!0}],Tn=[Pn("","","","","",".",""),Pn("","","","","",".",""),Pn("","","","","",".",""),Pn("","","","","",".",""),Pn("","","","","",".",""),Pn("","","","","",".",""),Pn("","","","","",".",""),Pn("","","","","",".","")];function En(e){var t=r.a.useState({isOpen:!1,title:"",subTitle:""}),a=Object(Z.a)(t,2),n=a[0],i=a[1],c=r.a.useState({isOpen:!1,message:"",type:""}),s=Object(Z.a)(c,2),o=s[0],l=s[1],u=r.a.useState({fn:function(e){return e}}),d=Object(Z.a)(u,2),j=d[0],p=d[1],b=r.a.useState(Tn),m=Object(Z.a)(b,2),h=m[0],O=m[1],f=r.a.useState(null),x=Object(Z.a)(f,2),v=x[0],g=x[1],y=r.a.useState(!1),S=Object(Z.a)(y,2),N=S[0],w=S[1],D=r.a.useState(!1),A=Object(Z.a)(D,2),P=A[0],k=A[1],I=r.a.useState(h),T=Object(Z.a)(I,2),E=T[0],F=T[1],B=kn();r.a.useEffect(Object(Ze.a)(Qe.a.mark((function t(){var a;return Qe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(n=e).getAllUsers({email:n.auth.user.email,auth:n.auth.isAuthenticated},n.history);case 2:a=t.sent,O(a.data),F(a.data);case 5:case"end":return t.stop()}var n}),t)}))),[o]);var R=Mt(E,In,j),z=R.TblContainer,_=R.TblHead,V=R.TblPagination,L=R.recordsAfterPagingAndSorting,W=function(e){console.log(e);var t=e.toString();return t=t.substring(0,t.indexOf("T"))};return Object(q.jsxs)(r.a.Fragment,{children:[Object(q.jsxs)(U.a,{className:B.pageContent,children:[Object(q.jsxs)(re.a,{children:[Object(q.jsx)(ft,{label:"Search Employees",className:B.searchInput,InputProps:{startAdornment:Object(q.jsx)(rt.a,{position:"start",children:Object(q.jsx)(at.a,{})})},onChange:function(e){var t=e.target;p({fn:function(e){return""==t.value?e:e.filter((function(e){return e.name.toLowerCase().includes(t.value)}))}})}}),Object(q.jsx)(ht,{text:"Add New",variant:"outlined",startIcon:Object(q.jsx)(tt.a,{}),className:B.newButton,onClick:function(){k(!0)}})]}),Object(q.jsxs)(z,{children:[Object(q.jsx)(_,{}),Object(q.jsx)($e.a,{children:L().map((function(t){return Object(q.jsxs)(it.a,{children:[Object(q.jsx)(nt.a,{children:t._id}),Object(q.jsx)(nt.a,{children:t.name}),Object(q.jsx)(nt.a,{children:t.email}),Object(q.jsx)(nt.a,{children:t.role}),Object(q.jsx)(nt.a,{children:t.createdByName}),Object(q.jsx)(nt.a,{children:W(t.date)}),Object(q.jsxs)(nt.a,{children:[Object(q.jsx)(jt,{color:"primary",onClick:function(){g(t),w(!0)},children:Object(q.jsx)(st.a,{fontSize:"small"})}),Object(q.jsx)(jt,{color:"secondary",onClick:function(){i({isOpen:!0,title:"Are you sure to delete this record?",subTitle:"You can't undo this operation",onConfirm:function(){!function(t){i(Object(C.a)(Object(C.a)({},n),{},{isOpen:!1}));var a={emailDelete:t.email,email:e.auth.user.email,auth:e.auth.isAuthenticated};"admin"===e.auth.user.role&&(e.deleteUser(a,e.history),l({isOpen:!0,message:"Deleted Successfully",type:"success"}))}(t)}})},children:Object(q.jsx)(lt.a,{fontSize:"small"})})]})]},t._id)}))})]}),Object(q.jsx)(V,{})]}),Object(q.jsx)(Tt,{title:"Edit User Details",openPopup:N,setOpenPopup:w,children:Object(q.jsx)(Cn,{recordForEdit:v,edit:function(t,a,n){var r={params:{email:e.auth.user.email,emailupdate:t.email,auth:e.auth.isAuthenticated},body:t};"admin"===e.auth.user.role&&(e.updateUser(r,e.history),a(),g(null),w(!1),l({isOpen:!0,message:"Update Successfully",type:"success"}))}})}),Object(q.jsx)(Tt,{title:"Register New User",openPopup:P,setOpenPopup:k,children:Object(q.jsx)(An,Object(C.a)(Object(C.a)({},e),{},{create:function(t,a){e.registerUser(t,e.history),a(),k(!1),l({isOpen:!0,message:"Registered Successfully.",type:"success"})}}))}),Object(q.jsx)(kt,{notify:o,setNotify:l}),Object(q.jsx)(wt,{confirmDialog:n,setConfirmDialog:i})]})}function Fn(){return Object(q.jsxs)(G.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(q.jsx)(le.a,{color:"inherit",href:"https://material-ui.com/",children:"Your Website"})," ",(new Date).getFullYear(),"."]})}var Bn=Object(te.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(C.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object($.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240},btnstyle:{margin:"8px 0",backgroundColor:"#666bff"}}}));var Rn=Object(y.b)((function(e){return{auth:e.auth}}),{logoutUser:g,getAllUsers:function(e,t){return function(t){return m.a.get("/api/users",{params:e}).then((function(e){return e.data})).catch((function(e){return t({type:O,payload:e.response.data})}))}},deleteUser:function(e,t){return function(a){console.log(e),m.a.delete("/api/users",{params:e}).then((function(e){return t.push("/users")})).catch((function(e){return a({type:O,payload:e.response.data})}))}},updateUser:function(e,t){return function(a){m.a.post("/api/user/",e.body,{params:e.params}).then((function(e){console.log("updated"),t.push("/users")})).catch((function(e){return a({type:O,payload:e.response.data})}))}},registerUser:function(e,t){return function(a){console.log(e),m.a.post("/api/signup",e).then((function(e){console.log(e.data),t.push("/users")})).catch((function(e){return a({type:O,payload:e.response.data})}))}}})(Object(j.g)((function(e){var t;t=Ee;var a=Bn(),n=r.a.useState(!0),i=Object(Z.a)(n,2),c=i[0],s=i[1],o=r.a.useState(!0),l=Object(Z.a)(o,2),u=(l[0],l[1]);r.a.useEffect(Object(Ze.a)(Qe.a.mark((function t(){var a;return Qe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(n=e).getAllUsers({email:n.auth.user.email,auth:n.auth.isAuthenticated},n.history);case 2:a=t.sent,u(a.data);case 4:case"end":return t.stop()}var n}),t)}))),[]);Object(ee.a)(a.paper,a.fixedHeight);return Object(q.jsxs)("div",{className:a.root,children:[Object(q.jsx)(z.a,{}),Object(q.jsx)(ne.a,{position:"absolute",className:Object(ee.a)(a.appBar,c&&a.appBarShift),children:Object(q.jsxs)(re.a,{className:a.toolbar,children:[Object(q.jsx)(se.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){s(!0)},className:Object(ee.a)(a.menuButton,c&&a.menuButtonHidden),children:Object(q.jsx)(de.a,{})}),Object(q.jsx)(G.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:a.title,children:"Users"}),Object(q.jsx)(R.a,{color:"inherit",className:a.btnstyle,onClick:function(t){t.preventDefault(),e.logoutUser()},children:"Logout"})]})}),Object(q.jsxs)(ae.a,{variant:"permanent",classes:{paper:Object(ee.a)(a.drawerPaper,!c&&a.drawerPaperClose)},open:c,children:[Object(q.jsx)("div",{className:a.toolbarIcon,children:Object(q.jsx)(se.a,{onClick:function(){s(!1)},children:Object(q.jsx)(pe.a,{})})}),Object(q.jsx)(ce.a,{}),Object(q.jsx)(ie.a,{children:t})]}),Object(q.jsxs)("main",{className:a.content,children:[Object(q.jsx)("div",{className:a.appBarSpacer}),Object(q.jsxs)(oe.a,{maxWidth:"lg",className:a.container,children:[Object(q.jsx)(H.a,{item:!0,xs:12,children:Object(q.jsx)(U.a,{className:a.paper,children:Object(q.jsx)(En,Object(C.a)({},e))})}),Object(q.jsx)(W.a,{pt:4,children:Object(q.jsx)(Fn,{})})]})]})]})}))),zn=function(e,t){return function(t){m.a.post("/api/updVendor",e.body,{params:e.params}).then((function(e){console.log("updated")})).catch((function(e){return t({type:O,payload:e.response.data})}))}},_n=function(e,t){return function(a){console.log(e),m.a.delete("/api/delVendor",{params:e}).then((function(e){return t.push("/vendors")})).catch((function(e){return a({type:O,payload:e.response.data})}))}},Vn=function(e,t){return function(t){return m.a.get("/api/getVendors",{params:e}).then((function(e){return e.data})).catch((function(e){return t({type:O,payload:e.response.data})}))}},Ln=function(e,t){return function(t){console.log(e),m.a.post("/api/newVendor",e.body,{params:e.params}).then((function(e){console.log(e.data)})).catch((function(e){return t({type:O,payload:e.response.data})}))}},Un=function(e,t){return function(t){m.a.post("/api/updPayment",e.body,{params:e.params}).then((function(e){console.log("updated")})).catch((function(e){return t({type:O,payload:e.response.data})}))}},Wn=function(e,t){return function(a){console.log(e),m.a.delete("/api/delPayment",{params:e}).then((function(e){return t.push("/vendors")})).catch((function(e){return a({type:O,payload:e.response.data})}))}},Hn=function(e,t){return function(t){return m.a.get("/api/getPayments",{params:e}).then((function(e){return e.data})).catch((function(e){return t({type:O,payload:e.response.data})}))}},Mn=function(e,t){return function(t){console.log(e),m.a.post("/api/newPayment",e.body,{params:e.params}).then((function(e){console.log(e.data)})).catch((function(e){return t({type:O,payload:e.response.data})}))}},Yn={vendorEmail:"",contactNo:"",contractAmt:0,endDate:"",pendingAmt:0};function Gn(e){var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,t=Object(C.a)({},c);if(s(Object(C.a)({},t)),e===r)return Object.values(t).every((function(e){return""==e}))},a=Ft(Yn,!0,t),r=a.values,i=a.setValues,c=a.errors,s=a.setErrors,o=a.handleInputChange,l=a.resetForm;return Object(n.useEffect)((function(){null!=e.recordForEdit&&i(Object(C.a)({},e.recordForEdit))}),[e.recordForEdit]),Object(q.jsx)(Rt,{onSubmit:function(a){if(a.preventDefault(),t()){console.log(e.recordForEdit);var n="admin"===e.auth.user.role?"approved":"wait",i={vendorEmail:r.email,contactNo:r.contactNo,contractAmt:r.contractAmt,endDate:r.endDate,pendingAmt:r.pendingAmt,approved:n};e.edit(i,l,e.recordForEdit._id)}},children:Object(q.jsxs)(H.a,{container:!0,children:[Object(q.jsxs)(H.a,{item:!0,xs:7,children:[Object(q.jsx)(ft,{name:"vendorEmail",label:"Vendor Email",value:r.vendorEmail,onChange:o,error:c.vendorEmail}),Object(q.jsx)(ft,{name:"contactNo",label:"Contact Number",value:r.contactNo,onChange:o,error:c.contactNo}),Object(q.jsx)(ft,{name:"contractAmt",label:"Contract Amount",value:r.contractAmt,onChange:o,error:c.contractAmt}),Object(q.jsx)(ft,{name:"pendingAmt",label:"Pending Amount",value:r.pendingAmt,onChange:o,error:c.pendingAmt}),Object(q.jsx)(ft,{id:"date",type:"date",defaultValue:"2017-05-24",InputLabelProps:{shrink:!0},name:"endDate",label:"End Date",value:r.endDate,onChange:o,error:c.endDate})]}),Object(q.jsx)(H.a,{item:!0,xs:5,children:Object(q.jsxs)("div",{children:[Object(q.jsx)(ht,{type:"submit",text:"Submit"}),Object(q.jsx)(ht,{text:"Reset",color:"default",onClick:l})]})})]})})}var Xn={vendorName:"",vendorEmail:"",contactNo:"",contractAmt:0,startDate:"",endDate:"",pendingAmt:0};function qn(e){e.addOrEdit;var t=e.recordForEdit,a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=Object(C.a)({},s);if(o(Object(C.a)({},t)),e===i)return Object.values(t).every((function(e){return""==e}))},r=Ft(Xn,!0,a),i=r.values,c=r.setValues,s=r.errors,o=r.setErrors,l=r.handleInputChange,u=r.resetForm;return Object(n.useEffect)((function(){null!=t&&c(Object(C.a)({},t))}),[t]),Object(q.jsx)(Rt,{onSubmit:function(t){if(t.preventDefault(),a()){var n="admin"===e.auth.user.role?"approved":"wait",r={vendorName:i.vendorName,vendorEmail:i.vendorEmail,contactNo:i.contactNo,contractAmt:i.contractAmt,startDate:i.startDate,endDate:i.endDate,pendingAmt:i.pendingAmt,creatorName:e.auth.user.name,creatorID:e.auth.user.id,approved:n};e.create(r,u)}},children:Object(q.jsxs)(H.a,{container:!0,children:[Object(q.jsxs)(H.a,{item:!0,xs:7,children:[Object(q.jsx)(ft,{name:"vendorName",label:"Vendor Name",value:i.vendorName,onChange:l,error:s.vendorName}),Object(q.jsx)(ft,{name:"vendorEmail",label:"Vendor Email",value:i.vendorEmail,onChange:l,error:s.vendorEmail}),Object(q.jsx)(ft,{name:"contactNo",label:"Contact Number",value:i.contactNo,onChange:l,error:s.contactNo}),Object(q.jsx)(ft,{name:"contractAmt",label:"Contract Amount",value:i.contractAmt,onChange:l,error:s.contractAmt}),Object(q.jsx)(ft,{name:"pendingAmt",label:"Pending Amount",value:i.pendingAmt,onChange:l,error:s.pendingAmt}),Object(q.jsx)(ft,{id:"date",type:"date",defaultValue:"2017-05-24",InputLabelProps:{shrink:!0},name:"startDate",label:"Start Date",value:i.startDate,onChange:l,error:s.startDate}),Object(q.jsx)(ft,{id:"date",type:"date",defaultValue:"2017-05-24",InputLabelProps:{shrink:!0},name:"endDate",label:"End Date",value:i.endDate,onChange:l,error:s.endDate})]}),Object(q.jsx)(H.a,{item:!0,xs:5,children:Object(q.jsxs)("div",{children:[Object(q.jsx)(ht,{type:"submit",text:"Submit"}),Object(q.jsx)(ht,{text:"Reset",color:"default",onClick:u})]})})]})})}var Jn=Object(te.a)((function(e){return{pageContent:{margin:e.spacing(5),padding:e.spacing(3)},searchInput:{width:"95%"},newButton:{position:"absolute",right:"10px"},seeMore:{marginTop:e.spacing(3)},formControl:{minWidth:210}}})),Kn=[{id:"vendorName",label:"Vendor Name"},{id:"approved",label:"Approved"},{id:"vendorEmail",label:"Email"},{id:"startDate",label:"Start Date"},{id:"endDate",label:"End Date"},{id:"contractAmt",label:"Contract Amount"},{id:"pendingAmt",label:"Pending Amount"},{id:"contactNo",label:"Contact No."},{id:"update",label:"Update",disableSorting:!0}],Qn=[{_id:"",vendorName:"",vendorEmail:"",contactNo:"",contractAmt:0,startDate:"",endDate:"",pendingAmt:0,creatorName:"",approved:""}];function Zn(e){var t=r.a.useState({isOpen:!1,title:"",subTitle:""}),a=Object(Z.a)(t,2),n=a[0],i=a[1],c=r.a.useState({isOpen:!1,message:"",type:""}),s=Object(Z.a)(c,2),o=s[0],l=s[1],u=r.a.useState({fn:function(e){return e}}),d=Object(Z.a)(u,2),j=d[0],p=d[1],b=r.a.useState(Qn),m=Object(Z.a)(b,2),h=m[0],O=m[1],f=r.a.useState(null),x=Object(Z.a)(f,2),v=x[0],g=x[1],y=r.a.useState(!1),S=Object(Z.a)(y,2),N=S[0],w=S[1],D=r.a.useState(!1),A=Object(Z.a)(D,2),P=A[0],k=A[1],I=r.a.useState(h),T=Object(Z.a)(I,2),E=T[0],F=T[1],B=Jn();r.a.useEffect(Object(Ze.a)(Qe.a.mark((function t(){var a;return Qe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(n=e).getAllVendors({email:n.auth.user.email,auth:n.auth.isAuthenticated},n.history);case 2:a=t.sent,console.log(a.data),O(a.data),F(a.data);case 6:case"end":return t.stop()}var n}),t)}))),[o]),console.log(h);var R=Mt(E,Kn,j),z=R.TblContainer,_=R.TblHead,V=R.TblPagination,L=R.recordsAfterPagingAndSorting,U=function(e){var t=e.toString();return t=t.substring(0,t.indexOf("T"))};return Object(q.jsxs)(r.a.Fragment,{children:[Object(q.jsx)(re.a,{children:Object(q.jsxs)(H.a,{container:!0,children:[Object(q.jsx)(H.a,{item:!0,xs:9,children:Object(q.jsx)(ft,{label:"Search Vendors",className:B.searchInput,InputProps:{startAdornment:Object(q.jsx)(rt.a,{position:"start",children:Object(q.jsx)(at.a,{})})},onChange:function(e){var t=e.target;p({fn:function(e){return""==t.value?e:e.filter((function(e){return e.vendorName.toLowerCase().includes(t.value.toLowerCase())}))}})}})}),Object(q.jsx)(H.a,{item:!0,xs:3,children:Object(q.jsx)(ht,{text:"Add New",variant:"outlined",startIcon:Object(q.jsx)(tt.a,{}),className:B.newButton,onClick:function(){k(!0)}})})]})}),Object(q.jsxs)(z,{children:[Object(q.jsx)(_,{}),Object(q.jsx)($e.a,{children:L().map((function(e){return Object(q.jsxs)(it.a,{children:[Object(q.jsx)(nt.a,{children:e.vendorName}),Object(q.jsx)(nt.a,{children:(t=e.approved,"approved"===t?(console.log(t),console.log("yes"),Object(q.jsx)(ja.a,{fontSize:"small",style:{color:"#00b386"}})):"wait"===t?(console.log("what"),Object(q.jsx)(ba.a,{fontSize:"small",style:{color:"#ffbf00"}})):"rejected"===t?(console.log("what"),Object(q.jsx)(we.a,{fontSize:"small",style:{color:"#DC143C"}})):void 0)}),Object(q.jsx)(nt.a,{children:e.vendorEmail}),Object(q.jsx)(nt.a,{children:U(e.startDate)}),Object(q.jsx)(nt.a,{children:U(e.endDate)}),Object(q.jsx)(nt.a,{children:e.contractAmt}),Object(q.jsx)(nt.a,{children:e.pendingAmt}),Object(q.jsx)(nt.a,{children:e.contactNo}),Object(q.jsx)(nt.a,{children:Object(q.jsx)(jt,{color:"light",onClick:function(){g(e),w(!0)},children:Object(q.jsx)(st.a,{fontSize:"small"})})})]},e._id);var t}))})]}),Object(q.jsx)(V,{}),Object(q.jsx)(Tt,{title:"Edit Vendor Details",openPopup:N,setOpenPopup:w,children:Object(q.jsx)(Gn,Object(C.a)(Object(C.a)({},e),{},{recordForEdit:v,edit:function(t,a,n){var r={params:{email:e.auth.user.email,vendorID:n,auth:e.auth.isAuthenticated},body:t};console.log(r),e.updateVendor(r,e.history),a(),g(null),w(!1),l({isOpen:!0,message:"Updated Successfully",type:"success"})}}))}),Object(q.jsx)(Tt,{title:"Register New Vendor",openPopup:P,setOpenPopup:k,children:Object(q.jsx)(qn,Object(C.a)(Object(C.a)({},e),{},{create:function(t,a){var n={params:{email:e.auth.user.email,auth:e.auth.isAuthenticated},body:t};console.log(n),e.registerVendor(n,e.history),a(),k(!1),l({isOpen:!0,message:"Registered Successfully.",type:"success"})}}))}),Object(q.jsx)(kt,{notify:o,setNotify:l}),Object(q.jsx)(wt,{confirmDialog:n,setConfirmDialog:i})]})}var $n=Object(te.a)((function(e){return{pageContent:{margin:e.spacing(5),padding:e.spacing(3)},searchInput:{width:"95%"},newButton:{position:"absolute",right:"10px"},seeMore:{marginTop:e.spacing(3)},formControl:{minWidth:210}}})),er=[{id:"vendorName",label:"Vendor Name"},{id:"approved",label:"Approved"},{id:"vendorEmail",label:"Email"},{id:"startDate",label:"Start Date"},{id:"endDate",label:"End Date"},{id:"contractAmt",label:"Contract Amount"},{id:"pendingAmt",label:"Pending Amount"},{id:"contactNo",label:"Contact No."},{id:"enabled",label:"Enable",disableSorting:!0},{id:"update",label:"Update",disableSorting:!0},{id:"delete",label:"Delete",disableSorting:!0}],tr=[{_id:"",vendorName:"",vendorEmail:"",contactNo:"",contractAmt:"",startDate:"",endDate:"",pendingAmt:"",approved:""}];function ar(e){console.log(tr);var t=r.a.useState({isOpen:!1,title:"",subTitle:""}),a=Object(Z.a)(t,2),n=a[0],i=a[1],c=r.a.useState({isOpen:!1,message:"",type:""}),s=Object(Z.a)(c,2),o=s[0],l=s[1],u=r.a.useState({fn:function(e){return e}}),d=Object(Z.a)(u,2),j=d[0],p=d[1],b=r.a.useState(tr),m=Object(Z.a)(b,2),h=m[0],O=m[1],f=r.a.useState(null),x=Object(Z.a)(f,2),v=x[0],g=x[1],y=r.a.useState(!1),S=Object(Z.a)(y,2),N=S[0],w=S[1],D=r.a.useState(!1),A=Object(Z.a)(D,2),P=A[0],k=A[1],I=r.a.useState(h),T=Object(Z.a)(I,2),E=T[0],F=T[1],B=$n();r.a.useEffect(Object(Ze.a)(Qe.a.mark((function t(){var a;return Qe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(n=e).getAllVendors({email:n.auth.user.email,auth:n.auth.isAuthenticated},n.history);case 2:a=t.sent,console.log(a.data),O(a.data),F(a.data),p({fn:function(e){return e.filter((function(e){return e.approved.includes("approved")}))}});case 7:case"end":return t.stop()}var n}),t)}))),[o]),console.log(h);var R=Mt(E,er,j),z=R.TblContainer,_=R.TblHead,V=R.TblPagination,L=R.recordsAfterPagingAndSorting,U=function(t,a){var n={params:{email:e.auth.user.email,vendorID:a,auth:e.auth.isAuthenticated},body:{enabled:t}},r={params:{email:e.auth.user.email,vendorID:a,auth:e.auth.isAuthenticated},body:{enabled:t}};e.updateVendor(n,e.history),e.updateAllPayments(r,e.history),l({isOpen:!0,message:"Success.",type:"success"})},W=function(e){var t=e.toString();return t=t.substring(0,t.indexOf("T"))};return Object(q.jsxs)(r.a.Fragment,{children:[Object(q.jsx)(re.a,{children:Object(q.jsxs)(H.a,{container:!0,children:[Object(q.jsx)(H.a,{item:!0,xs:9,children:Object(q.jsx)(ft,{label:"Search Vendors",className:B.searchInput,InputProps:{startAdornment:Object(q.jsx)(rt.a,{position:"start",children:Object(q.jsx)(at.a,{})})},onChange:function(e){var t=e.target;p({fn:function(e){return""==t.value?e:e.filter((function(e){return e.vendorName.toLowerCase().includes(t.value.toLowerCase())}))}})}})}),Object(q.jsx)(H.a,{item:!0,xs:3,children:Object(q.jsx)(ht,{text:"Add New",variant:"outlined",startIcon:Object(q.jsx)(tt.a,{}),className:B.newButton,onClick:function(){k(!0)}})})]})}),Object(q.jsxs)(z,{children:[Object(q.jsx)(_,{}),Object(q.jsx)($e.a,{children:L().map((function(t){return Object(q.jsxs)(it.a,{children:[Object(q.jsx)(nt.a,{children:t.vendorName}),Object(q.jsx)(nt.a,{children:(a=t.approved,"approved"===a?(console.log(a),console.log("yes"),Object(q.jsx)(ja.a,{fontSize:"small",style:{color:"#00b386"}})):"wait"===a?(console.log("what"),Object(q.jsx)(ba.a,{fontSize:"small",style:{color:"#ffbf00"}})):"rejected"===a?(console.log("what"),Object(q.jsx)(we.a,{fontSize:"small",style:{color:"#DC143C"}})):void 0)}),Object(q.jsx)(nt.a,{children:t.vendorEmail}),Object(q.jsx)(nt.a,{children:W(t.startDate)}),Object(q.jsx)(nt.a,{children:W(t.endDate)}),Object(q.jsx)(nt.a,{children:t.contractAmt}),Object(q.jsx)(nt.a,{children:t.pendingAmt}),Object(q.jsx)(nt.a,{children:t.contactNo}),Object(q.jsx)(nt.a,{children:Object(q.jsx)(ut.a,{onChange:function(e,a){return function(e,t){console.log(e),1==e&&U("true",t._id),0==e&&U("false",t._id)}(a,t)},color:"primary",name:"checked",checked:"true"===t.enabled,inputProps:{"aria-label":"primary checkbox"}})}),Object(q.jsx)(nt.a,{children:Object(q.jsx)(jt,{color:"light",onClick:function(){g(t),w(!0)},children:Object(q.jsx)(st.a,{fontSize:"small"})})}),Object(q.jsx)(nt.a,{children:Object(q.jsx)(jt,{color:"light",onClick:function(){i({isOpen:!0,title:"Are you sure to delete this record?",subTitle:"You can't undo this operation",onConfirm:function(){!function(t){i(Object(C.a)(Object(C.a)({},n),{},{isOpen:!1}));var a={vendorName:t.vendorName,email:e.auth.user.email,auth:e.auth.isAuthenticated};"admin"===e.auth.user.role&&(e.deleteVendor(a,e.history),l({isOpen:!0,message:"Deleted Successfully",type:"success"}))}(t)}})},children:Object(q.jsx)(lt.a,{fontSize:"small"})})})]},t._id);var a}))})]}),Object(q.jsx)(V,{}),Object(q.jsx)(Tt,{title:"Edit Vendor Details",openPopup:N,setOpenPopup:w,children:Object(q.jsx)(Gn,Object(C.a)(Object(C.a)({},e),{},{recordForEdit:v,edit:function(t,a,n){var r={params:{email:e.auth.user.email,vendorID:n,auth:e.auth.isAuthenticated},body:t};"admin"===e.auth.user.role&&(e.updateVendor(r,e.history),a(),g(null),w(!1),l({isOpen:!0,message:"Update Successfully",type:"success"}))}}))}),Object(q.jsx)(Tt,{title:"Register New Vendor",openPopup:P,setOpenPopup:k,children:Object(q.jsx)(qn,Object(C.a)(Object(C.a)({},e),{},{create:function(t,a){var n={params:{email:e.auth.user.email,auth:e.auth.isAuthenticated},body:t};console.log(n),e.registerVendor(n,e.history),a(),k(!1),l({isOpen:!0,message:"Registered Successfully.",type:"success"})}}))}),Object(q.jsx)(kt,{notify:o,setNotify:l}),Object(q.jsx)(wt,{confirmDialog:n,setConfirmDialog:i})]})}var nr=function(e){var t=e.auth.user;return"admin"===t.role?(console.log("admin"),Object(q.jsx)(ar,Object(C.a)({},e))):"user"===t.role?(console.log("user"),Object(q.jsx)(Zn,Object(C.a)({},e))):void 0},rr=a(177),ir=a.n(rr),cr=a(55),sr=a.n(cr),or={paymentName:"",amtToBePaid:"",dueDate:""};function lr(e){var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,t=Object(C.a)({},c);if(s(Object(C.a)({},t)),e===r)return Object.values(t).every((function(e){return""==e}))},a=Ft(or,!0,t),r=a.values,i=a.setValues,c=a.errors,s=a.setErrors,o=a.handleInputChange,l=a.resetForm;return Object(n.useEffect)((function(){null!=e.recordForEdit&&i(Object(C.a)({},e.recordForEdit))}),[e.recordForEdit]),Object(q.jsx)(Rt,{onSubmit:function(a){if(a.preventDefault(),t()){var n="admin"===e.auth.user.role?"approved":"wait",i={paymentName:r.paymentName,amtToBePaid:r.amtToBePaid,dueDate:r.dueDate,approved:n};e.edit(i,l,e.recordForEdit._id)}},children:Object(q.jsxs)(H.a,{container:!0,children:[Object(q.jsxs)(H.a,{item:!0,xs:7,children:[Object(q.jsx)(ft,{name:"paymentName",label:"Payment Name",value:r.paymentName,onChange:o,error:c.paymentName}),Object(q.jsx)(ft,{name:"amtToBePaid",label:"Amount to Pay",value:r.amtToBePaid,onChange:o,error:c.amtToBePaid}),Object(q.jsx)(ft,{id:"date",type:"date",defaultValue:"2017-05-24",InputLabelProps:{shrink:!0},name:"dueDate",label:"Due Date",value:r.dueDate,onChange:o,error:c.dueDate})]}),Object(q.jsx)(H.a,{item:!0,xs:5,children:Object(q.jsxs)("div",{children:[Object(q.jsx)(ht,{type:"submit",text:"Submit"}),Object(q.jsx)(ht,{text:"Reset",color:"default",onClick:l})]})})]})})}var ur={paymentName:"",amtToBePaid:"",dueDate:""};function dr(e){var t,a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=Object(C.a)({},o);if(l(Object(C.a)({},t)),e===c)return Object.values(t).every((function(e){return""==e}))},r={};for(t=0;t<e.allVendors.length;t++)e.allVendors[t].vendorName===e.vendor&&(r=e.allVendors[t]);var i=Ft(ur,!0,a),c=i.values,s=i.setValues,o=i.errors,l=i.setErrors,u=i.handleInputChange,d=i.resetForm;return Object(n.useEffect)((function(){null!=e.recordForEdit&&s(Object(C.a)({},e.recordForEdit))}),[e.recordForEdit]),Object(q.jsx)(Rt,{onSubmit:function(t){if(t.preventDefault(),a()){var n="admin"===e.auth.user.role?"approved":"wait",i={vendorName:r.vendorName,vendorID:r._id,paymentName:c.paymentName,amtToBePaid:c.amtToBePaid,dueDate:c.dueDate,creatorName:e.auth.user.name,creatorID:e.auth.user.id,approved:n};e.create(i,d)}},children:Object(q.jsxs)(H.a,{container:!0,children:[Object(q.jsxs)(H.a,{item:!0,xs:8,children:[Object(q.jsx)(ft,{name:"paymentName",label:"Payment Name",value:c.paymentName,onChange:u,error:o.paymentName}),Object(q.jsx)(ft,{name:"amtToBePaid",label:"Amount to Pay",value:c.amtToBePaid,onChange:u,error:o.amtToBePaid})]}),Object(q.jsxs)(H.a,{item:!0,xs:4,children:[Object(q.jsx)(ft,{id:"date",type:"date",defaultValue:"2017-05-24",InputLabelProps:{shrink:!0},name:"dueDate",label:"Due Date",value:c.dueDate,onChange:u,error:o.dueDate}),Object(q.jsxs)("div",{children:[Object(q.jsx)(ht,{type:"submit",text:"Submit"}),Object(q.jsx)(ht,{text:"Reset",color:"default",onClick:d})]})]})]})})}var jr=Object(te.a)((function(e){return{pageContent:{margin:e.spacing(5),padding:e.spacing(3)},searchInput:{width:"95%"},newButton:{position:"absolute",right:"10px"},seeMore:{marginTop:e.spacing(3)},formControl:{minWidth:210}}})),pr=[{id:"vendorName",label:"Vendor Name"},{id:"amtToBePaid",label:"Amount to Pay"},{id:"dueDate",label:"Due Date"},{id:"isPaid",label:"Pay",disableSorting:!0},{id:"update",label:"Update",disableSorting:!0},{id:"delete",label:"Delete",disableSorting:!0}],br=[{_id:"",vendorName:"",paymentName:"",amtToBePaid:"",dueDate:"",updated:"",delete:""}];function mr(e){var t=r.a.useState({isOpen:!1,title:"",subTitle:""}),a=Object(Z.a)(t,2),n=a[0],i=a[1],c=r.a.useState({isOpen:!1,message:"",type:""}),s=Object(Z.a)(c,2),o=s[0],l=s[1],u=r.a.useState({fn:function(e){return e}}),d=Object(Z.a)(u,2),j=d[0],p=d[1],b=r.a.useState(br),m=Object(Z.a)(b,2),h=m[0],O=m[1],f=r.a.useState([]),x=Object(Z.a)(f,2),v=x[0],g=x[1],y=r.a.useState([]),S=Object(Z.a)(y,2),N=S[0],w=S[1],D=r.a.useState(""),A=Object(Z.a)(D,2),P=A[0],k=A[1],I=r.a.useState(null),T=Object(Z.a)(I,2),E=T[0],F=T[1],B=r.a.useState(!1),R=Object(Z.a)(B,2),z=R[0],_=R[1],V=r.a.useState(!1),L=Object(Z.a)(V,2),W=L[0],M=L[1],Y=r.a.useState(h),G=Object(Z.a)(Y,2),X=G[0],J=G[1],K=jr();r.a.useEffect(Object(Ze.a)(Qe.a.mark((function t(){var a,n,r,i,c,s,o;return Qe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(l=e).getAllVendors({email:l.auth.user.email,auth:l.auth.isAuthenticated},l.history);case 2:for(a=t.sent,g(a.data),n=a.data.map((function(e){return"true"===e.enabled&&"approved"===e.approved?e.vendorName:"0"})),console.log(n),i=0,c=[],r=0;r<n.length;r++)"0"!==n[r]&&(c[i++]=n[r]);for((s=[])[0]={key:0,item:""},o=0;o<i;o++)s[o+1]={key:o+1,item:c[o]};console.log(s),w(s);case 14:case"end":return t.stop()}var l}),t)}))),[]),r.a.useEffect(Object(Ze.a)(Qe.a.mark((function t(){var a;return Qe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(n=e).getAllPayments({email:n.auth.user.email,auth:n.auth.isAuthenticated},n.history);case 2:a=t.sent,O(a.data),J(a.data),console.log(a.data),p({fn:function(e){return""==P?e.filter((function(e){return e.isPaid.includes("no")&&e.approved.includes("approved")&&e.enabled.includes("true")})):e.filter((function(e){return e.vendorName.includes(P)&&e.approved.includes("approved")&&e.isPaid.includes("no")&&e.enabled.includes("true")}))}});case 7:case"end":return t.stop()}var n}),t)}))),[o,N]);var Q=Mt(X,pr,j),$=Q.TblContainer,ee=Q.TblHead,te=Q.TblPagination,ae=Q.recordsAfterPagingAndSorting,ne=r.a.useState({checkedA:!0,checkedB:!0}),ie=Object(Z.a)(ne,2),ce=ie[0],se=(ie[1],function(e){var t=e.toString();return t=t.substring(0,t.indexOf("T"))});return Object(q.jsxs)(r.a.Fragment,{children:[Object(q.jsxs)(U.a,{className:K.pageContent,children:[Object(q.jsx)(re.a,{children:Object(q.jsxs)(H.a,{container:!0,children:[Object(q.jsx)(H.a,{item:!0,xs:7,children:Object(q.jsx)(ft,{label:"Search Payments",className:K.searchInput,InputProps:{startAdornment:Object(q.jsx)(rt.a,{position:"start",children:Object(q.jsx)(at.a,{})})},onChange:function(e){var t=e.target;p({fn:function(e){return""==t.value?e.filter((function(e){return e.isPaid.includes("no")&&e.approved.includes("approved")&&e.enabled.includes("true")})):e.filter((function(e){return e.vendorName.toLowerCase().includes(t.value.toLowerCase())&&e.isPaid.includes("no")&&e.approved.includes("approved")&&e.enabled.includes("true")}))}})}})}),Object(q.jsx)(H.a,{item:!0,xs:3,children:Object(q.jsxs)(na.a,{variant:"outlined",className:K.formControl,children:[Object(q.jsx)(oa.a,{htmlFor:"outlined-vendor-native-simple",children:"Vendor"}),Object(q.jsx)(la.a,{native:!0,value:ce.age,onChange:function(e){var t=e.target;console.log(t.value),k(t.value),p({fn:function(e){return""==t.value?e:e.filter((function(e){return e.vendorName.includes(t.value)&&e.approved.includes("approved")&&e.isPaid.includes("no")&&e.enabled.includes("true")}))}})},label:"Vendor",inputProps:{name:"vendor",id:"outlined-vendor-native-simple"},children:N.map((function(e){return Object(q.jsx)("option",{value:e.item,children:e.item},e.key)}))})]})}),Object(q.jsx)(H.a,{item:!0,xs:2,children:Object(q.jsx)(ht,{text:"Add New",variant:"outlined",startIcon:Object(q.jsx)(tt.a,{}),className:K.newButton,onClick:function(){M(!0)},disabled:""===P})})]})}),Object(q.jsxs)($,{children:[Object(q.jsx)(ee,{}),Object(q.jsx)($e.a,{children:ae().map((function(t){return Object(q.jsxs)(it.a,{children:[Object(q.jsx)(nt.a,{backgroundColor:"primary",children:t.vendorName}),Object(q.jsx)(nt.a,{children:t.amtToBePaid}),Object(q.jsx)(nt.a,{children:se(t.dueDate)}),Object(q.jsx)(nt.a,{children:Object(q.jsx)(jt,{color:"light",onClick:function(){!function(t){var a={params:{email:e.auth.user.email,paymentID:t,auth:e.auth.isAuthenticated},body:{isPaid:"yes"}};"admin"===e.auth.user.role&&(e.updatePayment(a,e.history),l({isOpen:!0,message:"Return Paid",type:"success"}))}(t._id)},children:Object(q.jsx)(sr.a,{fontSize:"small"})})}),Object(q.jsx)(nt.a,{children:Object(q.jsx)(jt,{color:"light",onClick:function(){F(t),_(!0)},children:Object(q.jsx)(st.a,{fontSize:"small"})})}),Object(q.jsx)(nt.a,{children:Object(q.jsx)(jt,{color:"light",onClick:function(){i({isOpen:!0,title:"Are you sure to delete this record?",subTitle:"You can't undo this operation",onConfirm:function(){!function(t){i(Object(C.a)(Object(C.a)({},n),{},{isOpen:!1}));var a={paymentID:t._id,email:e.auth.user.email,auth:e.auth.isAuthenticated};"admin"===e.auth.user.role&&(e.deletePayment(a,e.history),l({isOpen:!0,message:"Deleted Successfully",type:"success"}))}(t)}})},children:Object(q.jsx)(lt.a,{fontSize:"small"})})})]},t._id)}))})]}),Object(q.jsx)(te,{})]}),Object(q.jsx)(Tt,{title:"Edit Payment Details",openPopup:z,setOpenPopup:_,children:Object(q.jsx)(lr,Object(C.a)(Object(C.a)({},e),{},{recordForEdit:E,edit:function(t,a,n){var r={params:{email:e.auth.user.email,paymentID:n,auth:e.auth.isAuthenticated},body:t};"admin"===e.auth.user.role&&(e.updatePayment(r,e.history),a(),F(null),_(!1),l({isOpen:!0,message:"Update Successfully",type:"success"}))}}))}),Object(q.jsx)(Tt,{title:"Register New Payment",openPopup:W,setOpenPopup:M,children:Object(q.jsx)(dr,Object(C.a)(Object(C.a)({},e),{},{create:function(t,a){var n={params:{email:e.auth.user.email,auth:e.auth.isAuthenticated},body:t};console.log(n),e.registerPayment(n,e.history),a(),M(!1),l({isOpen:!0,message:"Registered Successfully.",type:"success"})},vendor:P,allVendors:v}))}),Object(q.jsx)(kt,{notify:o,setNotify:l}),Object(q.jsx)(wt,{confirmDialog:n,setConfirmDialog:i})]})}var hr=function(e){var t=e.auth.user;return"admin"===t.role?(console.log("admin"),Object(q.jsx)(mr,Object(C.a)({},e))):"user"===t.role?(console.log("user"),Object(q.jsx)(ir.a,Object(C.a)({},e))):void 0},Or=a(178),fr=a.n(Or);var xr=Object(te.a)((function(e){return{pageContent:{margin:e.spacing(5),padding:e.spacing(3)},searchInput:{width:"95%"},newButton:{position:"absolute",right:"10px"},seeMore:{marginTop:e.spacing(3)},formControl:{minWidth:210}}})),vr=[{id:"vendorName",label:"Vendor Name"},{id:"amtToBePaid",label:"Amount Paid"},{id:"dueDate",label:"Due Date"},{id:"isPaid",label:"Status"},{id:"delete",label:"Delete",disableSorting:!0}],gr=[{_id:"",vendorName:"",paymentName:"",amtToBePaid:"",dueDate:"",updated:"",delete:""}];function yr(e){var t=r.a.useState({isOpen:!1,title:"",subTitle:""}),a=Object(Z.a)(t,2),n=a[0],i=a[1],c=r.a.useState({isOpen:!1,message:"",type:""}),s=Object(Z.a)(c,2),o=s[0],l=s[1],u=r.a.useState({fn:function(e){return e}}),d=Object(Z.a)(u,2),j=d[0],p=d[1],b=r.a.useState(gr),m=Object(Z.a)(b,2),h=m[0],O=m[1],f=r.a.useState([]),x=Object(Z.a)(f,2),v=(x[0],x[1]),g=r.a.useState([]),y=Object(Z.a)(g,2),S=y[0],N=y[1],w=r.a.useState(""),D=Object(Z.a)(w,2),A=D[0],P=D[1],k=r.a.useState(null),I=Object(Z.a)(k,2),T=(I[0],I[1],r.a.useState(!1)),E=Object(Z.a)(T,2),F=(E[0],E[1],r.a.useState(!1)),B=Object(Z.a)(F,2),R=(B[0],B[1],r.a.useState(h)),z=Object(Z.a)(R,2),_=z[0],V=z[1],L=xr();r.a.useEffect(Object(Ze.a)(Qe.a.mark((function t(){var a,n,r,i,c,s,o;return Qe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(l=e).getAllVendors({email:l.auth.user.email,auth:l.auth.isAuthenticated},l.history);case 2:for(a=t.sent,v(a.data),n=a.data.map((function(e){return"approved"===e.approved?e.vendorName:"0"})),console.log(n),i=0,c=[],r=0;r<n.length;r++)"0"!==n[r]&&(c[i++]=n[r]);for((s=[])[0]={key:0,item:""},o=0;o<i;o++)s[o+1]={key:o+1,item:c[o]};console.log(s),N(s);case 14:case"end":return t.stop()}var l}),t)}))),[]),r.a.useEffect(Object(Ze.a)(Qe.a.mark((function t(){var a;return Qe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(n=e).getAllPayments({email:n.auth.user.email,auth:n.auth.isAuthenticated},n.history);case 2:a=t.sent,O(a.data),V(a.data),console.log(a.data),p({fn:function(e){return""==A?e.filter((function(e){return e.isPaid.includes("yes")})):e.filter((function(e){return e.vendorName.includes(A)&&e.approved.includes("approved")&&e.isPaid.includes("yes")}))}});case 7:case"end":return t.stop()}var n}),t)}))),[o,S]);var W=Mt(_,vr,j),M=W.TblContainer,Y=W.TblHead,G=W.TblPagination,X=W.recordsAfterPagingAndSorting,J=r.a.useState({checkedA:!0,checkedB:!0}),K=Object(Z.a)(J,2),Q=K[0],$=(K[1],function(e){var t=e.toString();return t=t.substring(0,t.indexOf("T"))});return Object(q.jsxs)(r.a.Fragment,{children:[Object(q.jsxs)(U.a,{className:L.pageContent,children:[Object(q.jsx)(re.a,{children:Object(q.jsxs)(H.a,{container:!0,children:[Object(q.jsx)(H.a,{item:!0,xs:9,children:Object(q.jsx)(ft,{label:"Search Payments",className:L.searchInput,InputProps:{startAdornment:Object(q.jsx)(rt.a,{position:"start",children:Object(q.jsx)(at.a,{})})},onChange:function(e){var t=e.target;p({fn:function(e){return""==t.value?e:e.filter((function(e){return e.vendorName.toLowerCase().includes(t.value.toLowerCase())}))}})}})}),Object(q.jsx)(H.a,{item:!0,xs:3,children:Object(q.jsxs)(na.a,{variant:"outlined",className:L.formControl,children:[Object(q.jsx)(oa.a,{htmlFor:"outlined-vendor-native-simple",children:"Vendor"}),Object(q.jsx)(la.a,{native:!0,value:Q.age,onChange:function(e){var t=e.target;console.log(t.value),P(t.value),p({fn:function(e){return""==t.value?e.filter((function(e){return e.isPaid.includes("yes")})):e.filter((function(e){return e.vendorName.includes(t.value)&&e.approved.includes("approved")&&e.isPaid.includes("yes")}))}})},label:"Vendor",inputProps:{name:"vendor",id:"outlined-vendor-native-simple"},children:S.map((function(e){return Object(q.jsx)("option",{value:e.item,children:e.item},e.key)}))})]})})]})}),Object(q.jsxs)(M,{children:[Object(q.jsx)(Y,{}),Object(q.jsx)($e.a,{children:X().map((function(t){return Object(q.jsxs)(it.a,{children:[Object(q.jsx)(nt.a,{backgroundColor:"primary",children:t.vendorName}),Object(q.jsx)(nt.a,{children:t.amtToBePaid}),Object(q.jsx)(nt.a,{children:$(t.dueDate)}),Object(q.jsx)(nt.a,{children:t.isPaid}),Object(q.jsx)(nt.a,{children:Object(q.jsx)(jt,{color:"light",onClick:function(){i({isOpen:!0,title:"Are you sure to delete this record?",subTitle:"You can't undo this operation",onConfirm:function(){!function(t){i(Object(C.a)(Object(C.a)({},n),{},{isOpen:!1}));var a={paymentID:t._id,email:e.auth.user.email,auth:e.auth.isAuthenticated};"admin"===e.auth.user.role&&(e.deletePayment(a,e.history),l({isOpen:!0,message:"Deleted Successfully",type:"success"}))}(t)}})},children:Object(q.jsx)(lt.a,{fontSize:"small"})})})]},t._id)}))})]}),Object(q.jsx)(G,{})]}),Object(q.jsx)(kt,{notify:o,setNotify:l}),Object(q.jsx)(wt,{confirmDialog:n,setConfirmDialog:i})]})}var Sr=function(e){var t=e.auth.user;return"admin"===t.role?(console.log("admin"),Object(q.jsx)(yr,Object(C.a)({},e))):"user"===t.role?(console.log("user"),Object(q.jsx)(fr.a,Object(C.a)({},e))):void 0},Nr=["children","value","index"];function Cr(e){var t=e.children,a=e.value,n=e.index,r=Object(pt.a)(e,Nr);return Object(q.jsx)("div",Object(C.a)(Object(C.a)({role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},r),{},{children:a===n&&Object(q.jsx)(W.a,{p:3,children:Object(q.jsx)(G.a,{children:t})})}))}function wr(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}function Dr(){return Object(q.jsxs)(G.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(q.jsx)(le.a,{color:"inherit",href:"https://material-ui.com/",children:"Your Website"})," ",(new Date).getFullYear(),"."]})}var Ar=Object(te.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(C.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object($.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240},btnstyle:{margin:"8px 0",backgroundColor:"#666bff"}}})),Pr=Object(y.b)((function(e){return{auth:e.auth}}),{logoutUser:g,getAllVendors:Vn,deleteVendor:_n,updateVendor:zn,registerVendor:Ln,updateAllPayments:function(e,t){return function(t){m.a.post("/api/updAllPayments",e.body,{params:e.params}).then((function(e){console.log("updated")})).catch((function(e){return t({type:O,payload:e.response.data})}))}},getAllPayments:Hn,deletePayment:Wn,updatePayment:Un,registerPayment:Mn})(Object(j.g)((function(e){var t=r.a.useState(0),a=Object(Z.a)(t,2),n=a[0],i=a[1],c="";c="user"===e.auth.user.role?Fe:Ee;var s=Ar(),o=r.a.useState(!0),l=Object(Z.a)(o,2),u=l[0],d=l[1];Object(ee.a)(s.paper,s.fixedHeight);return Object(q.jsxs)("div",{className:s.root,children:[Object(q.jsx)(z.a,{}),Object(q.jsx)(ne.a,{position:"absolute",className:Object(ee.a)(s.appBar,u&&s.appBarShift),children:Object(q.jsxs)(re.a,{className:s.toolbar,children:[Object(q.jsx)(se.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){d(!0)},className:Object(ee.a)(s.menuButton,u&&s.menuButtonHidden),children:Object(q.jsx)(de.a,{})}),Object(q.jsx)(G.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:s.title,children:"Vendors"}),Object(q.jsx)(R.a,{color:"inherit",className:s.btnstyle,onClick:function(t){t.preventDefault(),e.logoutUser()},children:"Logout"})]})}),Object(q.jsxs)(ae.a,{variant:"permanent",classes:{paper:Object(ee.a)(s.drawerPaper,!u&&s.drawerPaperClose)},open:u,children:[Object(q.jsx)("div",{className:s.toolbarIcon,children:Object(q.jsx)(se.a,{onClick:function(){d(!1)},children:Object(q.jsx)(pe.a,{})})}),Object(q.jsx)(ce.a,{}),Object(q.jsx)(ie.a,{children:c})]}),Object(q.jsxs)("main",{className:s.content,children:[Object(q.jsx)("div",{className:s.appBarSpacer}),Object(q.jsxs)(oe.a,{maxWidth:"lg",className:s.container,children:[Object(q.jsx)(H.a,{item:!0,xs:12,children:Object(q.jsxs)(U.a,{className:s.paper,children:[Object(q.jsx)(ne.a,{position:"static",children:Object(q.jsxs)(ta.a,{value:n,centered:!0,onChange:function(e,t){i(t)},"aria-label":"simple tabs example",children:[Object(q.jsx)(aa.a,Object(C.a)({label:"Vendors"},wr(0))),Object(q.jsx)(aa.a,Object(C.a)({label:"Payments"},wr(1))),Object(q.jsx)(aa.a,Object(C.a)({label:"Logs"},wr(2)))]})}),Object(q.jsx)(Cr,{value:n,index:0,children:Object(q.jsx)(nr,Object(C.a)({},e))}),Object(q.jsx)(Cr,{value:n,index:1,children:Object(q.jsx)(hr,Object(C.a)({},e))}),Object(q.jsx)(Cr,{value:n,index:2,children:Object(q.jsx)(Sr,Object(C.a)({},e))})]})}),Object(q.jsx)(W.a,{pt:4,children:Object(q.jsx)(Dr,{})})]})]})]})}))),kr=function(e,t){return function(t){m.a.post("/api/updInv",e.body,{params:e.params}).then((function(e){console.log("updated")})).catch((function(e){return t({type:O,payload:e.response.data})}))}},Ir=function(e,t){return function(a){console.log(e),m.a.delete("/api/delInv",{params:e}).then((function(e){return t.push("/investments")})).catch((function(e){return a({type:O,payload:e.response.data})}))}},Tr=function(e,t){return function(t){return m.a.get("/api/getInvs",{params:e}).then((function(e){return e.data})).catch((function(e){return t({type:O,payload:e.response.data})}))}},Er=function(e,t){return function(t){console.log(e),m.a.post("/api/newInv",e.body,{params:e.params}).then((function(e){console.log(e.data)})).catch((function(e){return t({type:O,payload:e.response.data})}))}},Fr=function(e,t){return function(t){m.a.post("/api/updInvestor",e.body,{params:e.params}).then((function(e){console.log("updated")})).catch((function(e){return t({type:O,payload:e.response.data})}))}},Br=function(e,t){return function(a){console.log(e),m.a.delete("/api/delInvestor",{params:e}).then((function(e){return t.push("/Investments")})).catch((function(e){return a({type:O,payload:e.response.data})}))}},Rr=function(e,t){return function(t){return m.a.get("/api/getInvestors",{params:e}).then((function(e){return e.data})).catch((function(e){return t({type:O,payload:e.response.data})}))}},zr=function(e,t){return function(t){console.log(e),m.a.post("/api/newInvestor",e.body,{params:e.params}).then((function(e){console.log(e.data)})).catch((function(e){return t({type:O,payload:e.response.data})}))}},_r={dueDate:"",capitalPaid:""};function Vr(e){e.addOrEdit;var t=e.recordForEdit,a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=Object(C.a)({},s);if(o(Object(C.a)({},t)),e===i)return Object.values(t).every((function(e){return""==e}))},r=Ft(_r,!0,a),i=r.values,c=r.setValues,s=r.errors,o=r.setErrors,l=r.handleInputChange,u=r.resetForm;console.log(t);return Object(n.useEffect)((function(){null!=t&&c(Object(C.a)({},t))}),[t]),Object(q.jsx)(Rt,{onSubmit:function(n){if(n.preventDefault(),a()){var r="admin"===e.auth.user.role?"approved":"wait",c={capitalPaid:i.capitalPaid,dueDate:i.dueDate,approved:r};e.edit(c,u,t._id)}},children:Object(q.jsxs)(H.a,{container:!0,children:[Object(q.jsxs)(H.a,{item:!0,xs:7,children:[Object(q.jsx)(ft,{name:"capitalPaid",label:"Capital Paid",value:i.capitalPaid,onChange:l,error:s.capitalPaid}),Object(q.jsx)(ft,{id:"date",type:"date",defaultValue:"2017-05-24",InputLabelProps:{shrink:!0},name:"dueDate",label:"Due Date",value:i.dueDate,onChange:l,error:s.dueDate})]}),Object(q.jsx)(H.a,{item:!0,xs:5,children:Object(q.jsxs)("div",{children:[Object(q.jsx)(ht,{type:"submit",text:"Submit"}),Object(q.jsx)(ht,{text:"Reset",color:"default",onClick:u})]})})]})})}var Lr={investmentName:"",startDate:"",dueDate:"",profitPercent:"",capitalAmt:"",capitalPaid:"",investmentType:"",paymentTerms:""};function Ur(e){var t,a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=Object(C.a)({},s);if(o(Object(C.a)({},t)),e===i)return Object.values(t).every((function(e){return""==e}))},r=Ft(Lr,!0,a),i=r.values,c=r.setValues,s=r.errors,o=r.setErrors,l=r.handleInputChange,u=r.resetForm,d={};for(t=0;t<e.allInvestors.length;t++)e.allInvestors[t].investorName===e.investor&&(d=e.allInvestors[t]);return Object(n.useEffect)((function(){null!=e.recordForEdit&&c(Object(C.a)({},e.recordForEdit))}),[e.recordForEdit]),Object(q.jsx)(Rt,{onSubmit:function(t){if(t.preventDefault(),a()){var n="admin"===e.auth.user.role?"approved":"wait",r={investorName:d.investorName,investorID:d._id,investmentName:i.investmentName,startDate:i.startDate,dueDate:i.dueDate,profitPercent:i.profitPercent,capitalAmt:i.capitalAmt,capitalPaid:i.capitalPaid,investmentType:i.investmentType,paymentTerms:i.paymentTerms,approved:n};console.log(d.investorID),e.create(r,u)}},children:Object(q.jsxs)(H.a,{container:!0,children:[Object(q.jsxs)(H.a,{item:!0,xs:8,children:[Object(q.jsx)(ft,{name:"investmentName",label:"Investment Name",value:i.investmentName,onChange:l,error:s.investmentName}),Object(q.jsx)(ft,{name:"profitPercent",label:"Rate",value:i.profitPercent,onChange:l,error:s.profitPercent}),Object(q.jsx)(ft,{name:"capitalAmt",label:"Capital Amount",value:i.capitalAmt,onChange:l,error:s.capitalAmt}),Object(q.jsx)(ft,{name:"capitalPaid",label:"Capital Paid",value:i.capitalPaid,onChange:l,error:s.capitalPaid}),Object(q.jsx)(ft,{name:"investmentType",label:"Investment Type",value:i.investmentType,onChange:l,error:s.investmentType}),Object(q.jsx)(ft,{name:"paymentTerms",label:"paymentTerms",value:i.paymentTerms,onChange:l,error:s.paymentTerms})]}),Object(q.jsxs)(H.a,{item:!0,xs:4,children:[Object(q.jsx)(ft,{id:"date",type:"date",defaultValue:"2017-05-24",InputLabelProps:{shrink:!0},name:"startDate",label:"Start Date",value:i.startDate,onChange:l,error:s.startDate}),Object(q.jsx)(ft,{id:"date",type:"date",defaultValue:"2017-05-24",InputLabelProps:{shrink:!0},name:"dueDate",label:"Due Date",value:i.dueDate,onChange:l,error:s.dueDate}),Object(q.jsxs)("div",{children:[Object(q.jsx)(ht,{type:"submit",text:"Submit"}),Object(q.jsx)(ht,{text:"Reset",color:"default",onClick:u})]})]})]})})}var Wr=Object(te.a)((function(e){return{pageContent:{margin:e.spacing(5),padding:e.spacing(3)},searchInput:{width:"95%"},newButton:{position:"absolute",right:"10px"},seeMore:{marginTop:e.spacing(3)},formControl:{minWidth:210}}})),Hr=[{id:"investorName",label:"Investor Name"},{id:"investmentName",label:"Investment Name"},{id:"approved",label:"Approved"},{id:"startDate",label:"Start Date"},{id:"dueDate",label:"Due Date"},{id:"capitalAmt",label:"Capital Amount"},{id:"capitalPaid",label:"Amount Paid"},{id:"profitPercent",label:"Rate"},{id:"investmentType",label:"Type"},{id:"paymentTerms",label:"Terms"},{id:"update",label:"Update",disableSorting:!0}],Mr=[{_id:"",investorName:"",contactNo:"",profitPercent:0,capitalAmt:0,capitalPaid:0,investmentType:"",paymentTerms:"",startDate:"",dueDate:"",pendingAmt:0,creatorName:"",approved:""}];function Yr(e){var t=r.a.useState({isOpen:!1,title:"",subTitle:""}),a=Object(Z.a)(t,2),n=a[0],i=a[1],c=r.a.useState({isOpen:!1,message:"",type:""}),s=Object(Z.a)(c,2),o=s[0],l=s[1],u=r.a.useState({fn:function(e){return e}}),d=Object(Z.a)(u,2),j=d[0],p=d[1],b=r.a.useState(Mr),m=Object(Z.a)(b,2),h=m[0],O=m[1],f=r.a.useState([]),x=Object(Z.a)(f,2),v=x[0],g=x[1],y=r.a.useState(""),S=Object(Z.a)(y,2),N=S[0],w=S[1],D=r.a.useState([]),A=Object(Z.a)(D,2),P=A[0],k=A[1],I=r.a.useState(null),T=Object(Z.a)(I,2),E=T[0],F=T[1],B=r.a.useState(!1),R=Object(Z.a)(B,2),z=R[0],_=R[1],V=r.a.useState(!1),L=Object(Z.a)(V,2),U=L[0],W=L[1],M=r.a.useState(h),Y=Object(Z.a)(M,2),G=Y[0],X=Y[1],J=Wr();r.a.useEffect(Object(Ze.a)(Qe.a.mark((function t(){var a,n,r,i,c,s,o;return Qe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(l=e).getAllInvestors({email:l.auth.user.email,auth:l.auth.isAuthenticated},l.history);case 2:for(a=t.sent,k(a.data),n=a.data.map((function(e){return e.investorName})),i=0,c=[],r=0;r<n.length;r++)"0"!==n[r]&&(c[i++]=n[r]);for((s=[])[0]={key:0,item:""},o=0;o<i;o++)s[o+1]={key:o+1,item:c[o]};console.log(s),g(s);case 13:case"end":return t.stop()}var l}),t)}))),[]),r.a.useEffect(Object(Ze.a)(Qe.a.mark((function t(){var a;return Qe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(n=e).getAllInvestments({email:n.auth.user.email,auth:n.auth.isAuthenticated},n.history);case 2:a=t.sent,O(a.data),X(a.data);case 5:case"end":return t.stop()}var n}),t)}))),[o,v]);var K=Mt(G,Hr,j),Q=K.TblContainer,$=K.TblHead,ee=K.TblPagination,te=K.recordsAfterPagingAndSorting;var ae=function(e){var t=e.toString();return t=t.substring(0,t.indexOf("T"))};return Object(q.jsxs)(r.a.Fragment,{children:[Object(q.jsx)(re.a,{children:Object(q.jsxs)(H.a,{container:!0,children:[Object(q.jsx)(H.a,{item:!0,xs:7,children:Object(q.jsx)(ft,{label:"Search Investments",className:J.searchInput,InputProps:{startAdornment:Object(q.jsx)(rt.a,{position:"start",children:Object(q.jsx)(at.a,{})})},onChange:function(e){var t=e.target;p({fn:function(e){return""==t.value?e:e.filter((function(e){return e.investmentName.toLowerCase().includes(t.value.toLowerCase())}))}})}})}),Object(q.jsx)(H.a,{item:!0,xs:3,children:Object(q.jsxs)(na.a,{variant:"outlined",className:J.formControl,children:[Object(q.jsx)(oa.a,{htmlFor:"outlined-company-native-simple",children:"Investor"}),Object(q.jsx)(la.a,{native:!0,onChange:function(e){var t=e.target;console.log(t.value),w(t.value),p({fn:function(e){return""==t.value?e:e.filter((function(e){return e.investorName.includes(t.value)}))}})},label:"Investor",inputProps:{name:"// investor",id:"outlined-investor-native-simple"},children:v.map((function(e){return Object(q.jsx)("option",{value:e.item,children:e.item},e.key)}))})]})}),Object(q.jsx)(H.a,{item:!0,xs:2,children:Object(q.jsx)(ht,{text:"Add New",variant:"outlined",startIcon:Object(q.jsx)(tt.a,{}),className:J.newButton,onClick:function(){W(!0)},disabled:""===N})})]})}),Object(q.jsxs)(Q,{children:[Object(q.jsx)($,{}),Object(q.jsx)($e.a,{children:te().map((function(e){return Object(q.jsxs)(it.a,{children:[Object(q.jsx)(nt.a,{children:e.investorName}),Object(q.jsx)(nt.a,{children:e.investmentName}),Object(q.jsx)(nt.a,{children:(t=e.approved,"approved"===t?(console.log(t),console.log("yes"),Object(q.jsx)(ja.a,{fontSize:"small",style:{color:"#00b386"}})):"wait"===t?(console.log("what"),Object(q.jsx)(ba.a,{fontSize:"small",style:{color:"#ffbf00"}})):"rejected"===t?(console.log("what"),Object(q.jsx)(we.a,{fontSize:"small",style:{color:"#DC143C"}})):void 0)}),Object(q.jsx)(nt.a,{children:ae(e.startDate)}),Object(q.jsx)(nt.a,{children:ae(e.dueDate)}),Object(q.jsx)(nt.a,{children:e.capitalAmt}),Object(q.jsx)(nt.a,{children:e.capitalPaid}),Object(q.jsx)(nt.a,{children:e.profitPercent+"%"}),Object(q.jsx)(nt.a,{children:e.investmentType}),Object(q.jsx)(nt.a,{children:e.paymentTerms}),Object(q.jsx)(nt.a,{children:Object(q.jsx)(jt,{color:"light",onClick:function(){F(e),_(!0)},children:Object(q.jsx)(st.a,{fontSize:"small"})})})]},e._id);var t}))})]}),Object(q.jsx)(ee,{}),Object(q.jsx)(Tt,{title:"Edit Investment Details",openPopup:z,setOpenPopup:_,children:Object(q.jsx)(Vr,Object(C.a)(Object(C.a)({},e),{},{recordForEdit:E,edit:function(t,a,n){var r={params:{email:e.auth.user.email,investmentID:n,auth:e.auth.isAuthenticated},body:t};e.updateInvestment(r,e.history),a(),F(null),_(!1),l({isOpen:!0,message:"Update Successfully",type:"success"})}}))}),Object(q.jsx)(Tt,{title:"Register New Investment",openPopup:U,setOpenPopup:W,children:Object(q.jsx)(Ur,Object(C.a)(Object(C.a)({},e),{},{create:function(t,a){var n={params:{email:e.auth.user.email,auth:e.auth.isAuthenticated},body:t};console.log(n),e.registerInvestment(n,e.history),a(),W(!1),l({isOpen:!0,message:"Registered Successfully.",type:"success"})},investor:N,allInvestors:P}))}),Object(q.jsx)(kt,{notify:o,setNotify:l}),Object(q.jsx)(wt,{confirmDialog:n,setConfirmDialog:i})]})}var Gr=Object(te.a)((function(e){return{pageContent:{margin:e.spacing(5),padding:e.spacing(3)},searchInput:{width:"95%"},newButton:{position:"absolute",right:"10px"},seeMore:{marginTop:e.spacing(3)},formControl:{minWidth:210}}})),Xr=[{id:"investorName",label:"Investor Name"},{id:"investmentName",label:"Investment Name"},{id:"approved",label:"Approved"},{id:"startDate",label:"Start Date"},{id:"dueDate",label:"Due Date"},{id:"capitalAmt",label:"Capital Amount"},{id:"capitalPaid",label:"Amount Paid"},{id:"profitPercent",label:"Rate"},{id:"investmentType",label:"Type"},{id:"paymentTerms",label:"Terms"},{id:"update",label:"Update",disableSorting:!0},{id:"delete",label:"Delete",disableSorting:!0}],qr=[{_id:"",investorName:"",contactNo:"",profitPercent:0,capitalAmt:0,capitalPaid:0,investmentType:"",paymentTerms:"",startDate:"",dueDate:"",pendingAmt:0,creatorName:"",approved:""}];function Jr(e){var t=r.a.useState({isOpen:!1,title:"",subTitle:""}),a=Object(Z.a)(t,2),n=a[0],i=a[1],c=r.a.useState({isOpen:!1,message:"",type:""}),s=Object(Z.a)(c,2),o=s[0],l=s[1],u=r.a.useState({fn:function(e){return e}}),d=Object(Z.a)(u,2),j=d[0],p=d[1],b=r.a.useState(qr),m=Object(Z.a)(b,2),h=m[0],O=m[1],f=r.a.useState([]),x=Object(Z.a)(f,2),v=x[0],g=x[1],y=r.a.useState(""),S=Object(Z.a)(y,2),N=S[0],w=S[1],D=r.a.useState([]),A=Object(Z.a)(D,2),P=A[0],k=A[1],I=r.a.useState(null),T=Object(Z.a)(I,2),E=T[0],F=T[1],B=r.a.useState(!1),R=Object(Z.a)(B,2),z=R[0],_=R[1],V=r.a.useState(!1),L=Object(Z.a)(V,2),U=L[0],W=L[1],M=r.a.useState(h),Y=Object(Z.a)(M,2),G=Y[0],X=Y[1],J=Gr();r.a.useEffect(Object(Ze.a)(Qe.a.mark((function t(){var a,n,r,i,c,s,o;return Qe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(l=e).getAllInvestors({email:l.auth.user.email,auth:l.auth.isAuthenticated},l.history);case 2:for(a=t.sent,k(a.data),n=a.data.map((function(e){return"approved"===e.approved?e.investorName:"0"})),i=0,c=[],r=0;r<n.length;r++)"0"!==n[r]&&(c[i++]=n[r]);for((s=[])[0]={key:0,item:""},o=0;o<i;o++)s[o+1]={key:o+1,item:c[o]};console.log(s),g(s);case 13:case"end":return t.stop()}var l}),t)}))),[]),r.a.useEffect(Object(Ze.a)(Qe.a.mark((function t(){var a;return Qe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(n=e).getAllInvestments({email:n.auth.user.email,auth:n.auth.isAuthenticated},n.history);case 2:a=t.sent,O(a.data),X(a.data),p({fn:function(e){return e.filter((function(e){return e.approved.includes("approved")}))}});case 6:case"end":return t.stop()}var n}),t)}))),[o,v]);var K=Mt(G,Xr,j),Q=K.TblContainer,$=K.TblHead,ee=K.TblPagination,te=K.recordsAfterPagingAndSorting;var ae=function(e){var t=e.toString();return t=t.substring(0,t.indexOf("T"))};return Object(q.jsxs)(r.a.Fragment,{children:[Object(q.jsx)(re.a,{children:Object(q.jsxs)(H.a,{container:!0,children:[Object(q.jsx)(H.a,{item:!0,xs:7,children:Object(q.jsx)(ft,{label:"Search Investments",className:J.searchInput,InputProps:{startAdornment:Object(q.jsx)(rt.a,{position:"start",children:Object(q.jsx)(at.a,{})})},onChange:function(e){var t=e.target;p({fn:function(e){return""==t.value?e.filter((function(e){return e.approved.includes("approved")})):e.filter((function(e){return e.investmentName.toLowerCase().includes(t.value.toLowerCase())&&e.approved.includes("approved")}))}})}})}),Object(q.jsx)(H.a,{item:!0,xs:3,children:Object(q.jsxs)(na.a,{variant:"outlined",className:J.formControl,children:[Object(q.jsx)(oa.a,{htmlFor:"outlined-company-native-simple",children:"Investor"}),Object(q.jsx)(la.a,{native:!0,onChange:function(e){var t=e.target;console.log(t.value),w(t.value),p({fn:function(e){return""==t.value?e.filter((function(e){return e.approved.includes("approved")})):e.filter((function(e){return e.investorName.includes(t.value)&&e.approved.includes("approved")}))}})},label:"Investor",inputProps:{name:"// investor",id:"outlined-investor-native-simple"},children:v.map((function(e){return Object(q.jsx)("option",{value:e.item,children:e.item},e.key)}))})]})}),Object(q.jsx)(H.a,{item:!0,xs:2,children:Object(q.jsx)(ht,{text:"Add New",variant:"outlined",startIcon:Object(q.jsx)(tt.a,{}),className:J.newButton,onClick:function(){W(!0)},disabled:""===N})})]})}),Object(q.jsxs)(Q,{children:[Object(q.jsx)($,{}),Object(q.jsx)($e.a,{children:te().map((function(t){return Object(q.jsxs)(it.a,{children:[Object(q.jsx)(nt.a,{children:t.investorName}),Object(q.jsx)(nt.a,{children:t.investmentName}),Object(q.jsx)(nt.a,{children:(a=t.approved,"approved"===a?(console.log(a),console.log("yes"),Object(q.jsx)(ja.a,{fontSize:"small",style:{color:"#00b386"}})):"wait"===a?(console.log("what"),Object(q.jsx)(ba.a,{fontSize:"small",style:{color:"#ffbf00"}})):"rejected"===a?(console.log("what"),Object(q.jsx)(we.a,{fontSize:"small",style:{color:"#DC143C"}})):void 0)}),Object(q.jsx)(nt.a,{children:ae(t.startDate)}),Object(q.jsx)(nt.a,{children:ae(t.dueDate)}),Object(q.jsx)(nt.a,{children:t.capitalAmt}),Object(q.jsx)(nt.a,{children:t.capitalPaid}),Object(q.jsx)(nt.a,{children:t.profitPercent+"%"}),Object(q.jsx)(nt.a,{children:t.investmentType}),Object(q.jsx)(nt.a,{children:t.paymentTerms}),Object(q.jsx)(nt.a,{children:Object(q.jsx)(jt,{color:"light",onClick:function(){F(t),_(!0)},children:Object(q.jsx)(st.a,{fontSize:"small"})})}),Object(q.jsx)(nt.a,{children:Object(q.jsx)(jt,{color:"light",onClick:function(){i({isOpen:!0,title:"Are you sure to delete this record?",subTitle:"You can't undo this operation",onConfirm:function(){!function(t){i(Object(C.a)(Object(C.a)({},n),{},{isOpen:!1}));var a={investmentID:t._id,email:e.auth.user.email,auth:e.auth.isAuthenticated};"admin"===e.auth.user.role&&(e.deleteInvestment(a,e.history),l({isOpen:!0,message:"Deleted Successfully",type:"success"}))}(t)}})},children:Object(q.jsx)(lt.a,{fontSize:"small"})})})]},t._id);var a}))})]}),Object(q.jsx)(ee,{}),Object(q.jsx)(Tt,{title:"Edit Investment Details",openPopup:z,setOpenPopup:_,children:Object(q.jsx)(Vr,Object(C.a)(Object(C.a)({},e),{},{recordForEdit:E,edit:function(t,a,n){var r={params:{email:e.auth.user.email,investmentID:n,auth:e.auth.isAuthenticated},body:t};"admin"===e.auth.user.role&&(e.updateInvestment(r,e.history),a(),F(null),_(!1),l({isOpen:!0,message:"Update Successfully",type:"success"}))}}))}),Object(q.jsx)(Tt,{title:"Register New Investment",openPopup:U,setOpenPopup:W,children:Object(q.jsx)(Ur,Object(C.a)(Object(C.a)({},e),{},{create:function(t,a){var n={params:{email:e.auth.user.email,auth:e.auth.isAuthenticated},body:t};console.log(n),e.registerInvestment(n,e.history),function(t){var a=new Date(t.startDate),n=function(e,t){var a;return a=12*(t.getFullYear()-e.getFullYear()),a-=e.getMonth(),(a+=t.getMonth())<=0?0:a}(a,new Date(t.dueDate));console.log(n);var r=0;if("monthly"===t.paymentTerms?r=1:"quarterly"===t.paymentTerms?r=4:"half-yearly"===t.paymentTerms?r=6:"yearly"===t.paymentTerms&&(r=12),"one-time"===t.investmentType){var i={params:{email:e.auth.user.email,auth:e.auth.isAuthenticated},body:{investorName:t.investorName,investorID:t.investorID,investmentName:t.investmentName,paymentTerms:t.paymentTerms,totalInterestAmt:t.profitPercent*t.capitalAmt/100,returnAmt:t.profitPercent*t.capitalAmt/100,localDueDate:t.dueDate,dueDate:t.dueDate}};e.registerReturn(i,e.history)}else{var c,s,o=n/r;for(c=1;c<=o;c++)s={params:{email:e.auth.user.email,auth:e.auth.isAuthenticated},body:{investorName:t.investorName,investorID:t.investorID,investmentName:t.investmentName,paymentTerms:t.paymentTerms,totalInterestAmt:t.profitPercent*t.capitalAmt/100,returnAmt:t.profitPercent*t.capitalAmt/100/o,localDueDate:a.setMonth(a.getMonth()+r),dueDate:t.dueDate}},e.registerReturn(s,e.history)}}(t),a(),W(!1),l({isOpen:!0,message:"Registered Successfully.",type:"success"})},investor:N,allInvestors:P}))}),Object(q.jsx)(kt,{notify:o,setNotify:l}),Object(q.jsx)(wt,{confirmDialog:n,setConfirmDialog:i})]})}var Kr=function(e){var t=e.auth.user;return"admin"===t.role?(console.log("admin"),Object(q.jsx)(Jr,Object(C.a)({},e))):"user"===t.role?(console.log("user"),Object(q.jsx)(Yr,Object(C.a)({},e))):void 0},Qr=a(179),Zr=a.n(Qr);var $r=Object(te.a)((function(e){return{pageContent:{margin:e.spacing(5),padding:e.spacing(3)},searchInput:{width:"95%"},newButton:{position:"absolute",right:"10px"},seeMore:{marginTop:e.spacing(3)},formControl:{minWidth:210}}})),ei=[{id:"investmentName",label:"Investment Name"},{id:"localDueDate",label:"Next Due Date"},{id:"returnAmt",label:"Next Payment Amount"},{id:"totalInterestAmt",label:"Total Interest"},{id:"paymentTerms",label:"Payment Terms"},{id:"isPaid",label:"Paid",disableSorting:!0},{id:"delete",label:"Delete",disableSorting:!0}],ti=[function(e,t,a,n,r,i,c){return{_id:e,returnName:t,localDueDate:a,returnDetails:n,creatorName:r,updated:i,delete:c}}("","","","","","","")];function ai(e){var t=r.a.useState({isOpen:!1,title:"",subTitle:""}),a=Object(Z.a)(t,2),n=a[0],i=a[1],c=r.a.useState({isOpen:!1,message:"",type:""}),s=Object(Z.a)(c,2),o=s[0],l=s[1],u=r.a.useState({fn:function(e){return e}}),d=Object(Z.a)(u,2),j=d[0],p=d[1],b=r.a.useState(ti),m=Object(Z.a)(b,2),h=m[0],O=m[1],f=r.a.useState([]),x=Object(Z.a)(f,2),v=x[0],g=x[1],y=r.a.useState(""),S=Object(Z.a)(y,2),N=S[0],w=S[1],D=r.a.useState(null),A=Object(Z.a)(D,2),P=(A[0],A[1],r.a.useState(!1)),k=Object(Z.a)(P,2),I=(k[0],k[1],r.a.useState(!1)),T=Object(Z.a)(I,2),E=(T[0],T[1],r.a.useState(h)),F=Object(Z.a)(E,2),B=F[0],R=F[1],z=$r();r.a.useEffect(Object(Ze.a)(Qe.a.mark((function t(){var a,n,r,i,c,s,o;return Qe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(l=e).getAllInvestments({email:l.auth.user.email,auth:l.auth.isAuthenticated},l.history);case 2:for(a=t.sent,n=a.data.map((function(e){return e.investmentName})),console.log(n),i=0,c=[],r=0;r<n.length;r++)"0"!==n[r]&&(c[i++]=n[r]);for((s=[])[0]={key:0,item:""},o=0;o<i;o++)s[o+1]={key:o+1,item:c[o]};console.log(s),g(s);case 13:case"end":return t.stop()}var l}),t)}))),[]),r.a.useEffect(Object(Ze.a)(Qe.a.mark((function t(){var a;return Qe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(n=e).getAllReturns({email:n.auth.user.email,auth:n.auth.isAuthenticated},n.history);case 2:a=t.sent,O(a.data),R(a.data),console.log(a.data),p({fn:function(e){return""==N?e.filter((function(e){return e.isPaid.includes("no")})):e.filter((function(e){return e.investmentName.includes(N)&&e.isPaid.includes("no")}))}});case 7:case"end":return t.stop()}var n}),t)}))),[o,v]);var _=Mt(B,ei,j),V=_.TblContainer,L=_.TblHead,W=_.TblPagination,M=_.recordsAfterPagingAndSorting,Y=function(e){var t=e.toString();return t=t.substring(0,t.indexOf("T"))};return Object(q.jsxs)(r.a.Fragment,{children:[Object(q.jsxs)(U.a,{className:z.pageContent,children:[Object(q.jsx)(re.a,{children:Object(q.jsxs)(H.a,{container:!0,children:[Object(q.jsx)(H.a,{item:!0,xs:9,children:Object(q.jsx)(ft,{label:"Search Features",className:z.searchInput,InputProps:{startAdornment:Object(q.jsx)(rt.a,{position:"start",children:Object(q.jsx)(at.a,{})})},onChange:function(e){var t=e.target;p({fn:function(e){return""==t.value?e:e.filter((function(e){return e.investmentName.toLowerCase().includes(t.value.toLowerCase())}))}})}})}),Object(q.jsx)(H.a,{item:!0,xs:3,children:Object(q.jsxs)(na.a,{variant:"outlined",className:z.formControl,children:[Object(q.jsx)(oa.a,{htmlFor:"outlined-investment-native-simple",children:"Investor"}),Object(q.jsx)(la.a,{native:!0,onChange:function(e){var t=e.target;console.log(t.value),w(t.value),p({fn:function(e){return""==t.value?e.filter((function(e){return e.isPaid.includes("no")})):e.filter((function(e){return e.investmentName.includes(t.value)&&e.isPaid.includes("no")}))}})},label:"Investment",inputProps:{name:"investment",id:"outlined-investment-native-simple"},children:v.map((function(e){return Object(q.jsx)("option",{value:e.item,children:e.item},e.key)}))})]})}),Object(q.jsx)(H.a,{item:!0,xs:2})]})}),Object(q.jsxs)(V,{children:[Object(q.jsx)(L,{}),Object(q.jsx)($e.a,{children:M().map((function(t){return Object(q.jsxs)(it.a,{children:[Object(q.jsx)(nt.a,{children:t.investmentName}),Object(q.jsx)(nt.a,{children:Y(t.localDueDate)}),Object(q.jsx)(nt.a,{children:t.returnAmt}),Object(q.jsx)(nt.a,{children:t.totalInterestAmt}),Object(q.jsx)(nt.a,{children:t.paymentTerms}),Object(q.jsx)(nt.a,{children:Object(q.jsx)(jt,{color:"light",onClick:function(){!function(t){var a={params:{email:e.auth.user.email,returnID:t,auth:e.auth.isAuthenticated},body:{isPaid:"yes"}};"admin"===e.auth.user.role&&(e.updateReturn(a,e.history),l({isOpen:!0,message:"Return Paid",type:"success"}))}(t._id)},children:Object(q.jsx)(sr.a,{fontSize:"small"})})}),Object(q.jsx)(nt.a,{children:Object(q.jsx)(jt,{color:"light",onClick:function(){i({isOpen:!0,title:"Are you sure to delete this record?",subTitle:"You can't undo this operation",onConfirm:function(){!function(t){i(Object(C.a)(Object(C.a)({},n),{},{isOpen:!1}));var a={returnID:t._id,email:e.auth.user.email,auth:e.auth.isAuthenticated};"admin"===e.auth.user.role&&(e.deleteReturn(a,e.history),l({isOpen:!0,message:"Deleted Successfully",type:"success"}))}(t)}})},children:Object(q.jsx)(lt.a,{fontSize:"small"})})})]},t._id)}))})]}),Object(q.jsx)(W,{})]}),Object(q.jsx)(kt,{notify:o,setNotify:l}),Object(q.jsx)(wt,{confirmDialog:n,setConfirmDialog:i})]})}var ni=function(e){var t=e.auth.user;return"admin"===t.role?(console.log("admin"),Object(q.jsx)(ai,Object(C.a)({},e))):"user"===t.role?(console.log("user"),Object(q.jsx)(Zr.a,Object(C.a)({},e))):void 0},ri=a(180),ii=a.n(ri);var ci=Object(te.a)((function(e){return{pageContent:{margin:e.spacing(5),padding:e.spacing(3)},searchInput:{width:"95%"},newButton:{position:"absolute",right:"10px"},seeMore:{marginTop:e.spacing(3)},formControl:{minWidth:210}}})),si=[{id:"investmentName",label:"Investment Name"},{id:"localDueDate",label:"Next Due Date"},{id:"returnAmt",label:"Next Payment Amount"},{id:"totalInterestAmt",label:"Total Interest"},{id:"paymentTerms",label:"Payment Terms"},{id:"delete",label:"Delete",disableSorting:!0}],oi=[function(e,t,a,n,r,i,c){return{_id:e,investmentName:t,dueDate:a,investmentDetails:n,creatorName:r,updated:i,delete:c}}("","","","","","","")];function li(e){var t=r.a.useState({isOpen:!1,title:"",subTitle:""}),a=Object(Z.a)(t,2),n=a[0],i=a[1],c=r.a.useState({isOpen:!1,message:"",type:""}),s=Object(Z.a)(c,2),o=s[0],l=s[1],u=r.a.useState({fn:function(e){return e}}),d=Object(Z.a)(u,2),j=d[0],p=d[1],b=r.a.useState(oi),m=Object(Z.a)(b,2),h=m[0],O=m[1],f=r.a.useState([]),x=Object(Z.a)(f,2),v=x[0],g=x[1],y=r.a.useState(""),S=Object(Z.a)(y,2),N=S[0],w=S[1],D=r.a.useState(null),A=Object(Z.a)(D,2),P=(A[0],A[1],r.a.useState(!1)),k=Object(Z.a)(P,2),I=(k[0],k[1],r.a.useState(!1)),T=Object(Z.a)(I,2),E=(T[0],T[1],r.a.useState(h)),F=Object(Z.a)(E,2),B=F[0],R=F[1],z=ci();r.a.useEffect(Object(Ze.a)(Qe.a.mark((function t(){var a,n,r,i,c,s,o;return Qe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(l=e).getAllInvestments({email:l.auth.user.email,auth:l.auth.isAuthenticated},l.history);case 2:for(a=t.sent,n=a.data.map((function(e){return e.investmentName})),console.log(n),i=0,c=[],r=0;r<n.length;r++)"0"!==n[r]&&(c[i++]=n[r]);for((s=[])[0]={key:0,item:""},o=0;o<i;o++)s[o+1]={key:o+1,item:c[o]};console.log(s),g(s);case 13:case"end":return t.stop()}var l}),t)}))),[]),r.a.useEffect(Object(Ze.a)(Qe.a.mark((function t(){var a;return Qe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(n=e).getAllReturns({email:n.auth.user.email,auth:n.auth.isAuthenticated},n.history);case 2:a=t.sent,O(a.data),R(a.data),console.log(a.data),p({fn:function(e){return""==N?e.filter((function(e){return e.isPaid.includes("yes")})):e.filter((function(e){return e.investmentName.includes(N)&&e.isPaid.includes("yes")}))}});case 7:case"end":return t.stop()}var n}),t)}))),[o,v]);var _=Mt(B,si,j),V=_.TblContainer,L=_.TblHead,W=_.TblPagination,M=_.recordsAfterPagingAndSorting,Y=function(e){var t=e.toString();return t=t.substring(0,t.indexOf("T"))};return Object(q.jsxs)(r.a.Fragment,{children:[Object(q.jsxs)(U.a,{className:z.pageContent,children:[Object(q.jsx)(re.a,{children:Object(q.jsxs)(H.a,{container:!0,children:[Object(q.jsx)(H.a,{item:!0,xs:9,children:Object(q.jsx)(ft,{label:"Search Features",className:z.searchInput,InputProps:{startAdornment:Object(q.jsx)(rt.a,{position:"start",children:Object(q.jsx)(at.a,{})})},onChange:function(e){var t=e.target;p({fn:function(e){return""==t.value?e:e.filter((function(e){return e.investmentName.toLowerCase().includes(t.value.toLowerCase())}))}})}})}),Object(q.jsx)(H.a,{item:!0,xs:3,children:Object(q.jsxs)(na.a,{variant:"outlined",className:z.formControl,children:[Object(q.jsx)(oa.a,{htmlFor:"outlined-project-native-simple",children:"Investment"}),Object(q.jsx)(la.a,{native:!0,onChange:function(e){var t=e.target;console.log(t.value),w(t.value),p({fn:function(e){return""==t.value?e.filter((function(e){return e.isPaid.includes("yes")})):e.filter((function(e){return e.investmentName.includes(t.value)&&e.isPaid.includes("yes")}))}})},label:"Project",inputProps:{name:"project",id:"outlined-project-native-simple"},children:v.map((function(e){return Object(q.jsx)("option",{value:e.item,children:e.item},e.key)}))})]})})]})}),Object(q.jsxs)(V,{children:[Object(q.jsx)(L,{}),Object(q.jsx)($e.a,{children:M().map((function(t){return Object(q.jsxs)(it.a,{children:[Object(q.jsx)(nt.a,{children:t.investmentName}),Object(q.jsx)(nt.a,{children:Y(t.dueDate)}),Object(q.jsx)(nt.a,{children:t.returnAmt}),Object(q.jsx)(nt.a,{children:t.totalInterestAmt}),Object(q.jsx)(nt.a,{children:t.paymentTerms}),Object(q.jsx)(nt.a,{children:Object(q.jsx)(jt,{color:"light",onClick:function(){i({isOpen:!0,title:"Are you sure to delete this record?",subTitle:"You can't undo this operation",onConfirm:function(){!function(t){i(Object(C.a)(Object(C.a)({},n),{},{isOpen:!1}));var a={investmentName:t.investmentName,email:e.auth.user.email,auth:e.auth.isAuthenticated};"admin"===e.auth.user.role&&(e.deleteReturn(a,e.history),l({isOpen:!0,message:"Deleted Successfully",type:"success"}))}(t)}})},children:Object(q.jsx)(lt.a,{fontSize:"small"})})})]},t._id)}))})]}),Object(q.jsx)(W,{})]}),Object(q.jsx)(kt,{notify:o,setNotify:l}),Object(q.jsx)(wt,{confirmDialog:n,setConfirmDialog:i})]})}var ui=function(e){var t=e.auth.user;return"admin"===t.role?(console.log("admin"),Object(q.jsx)(li,Object(C.a)({},e))):"user"===t.role?(console.log("user"),Object(q.jsx)(ii.a,Object(C.a)({},e))):void 0},di={contactNo:""};function ji(e){e.addOrEdit;var t=e.recordForEdit,a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=Object(C.a)({},s);if(o(Object(C.a)({},t)),e===i)return Object.values(t).every((function(e){return""==e}))},r=Ft(di,!0,a),i=r.values,c=r.setValues,s=r.errors,o=r.setErrors,l=r.handleInputChange,u=r.resetForm;console.log(t);return Object(n.useEffect)((function(){null!=t&&c(Object(C.a)({},t))}),[t]),Object(q.jsx)(Rt,{onSubmit:function(n){if(n.preventDefault(),a()){var r="admin"===e.auth.user.role?"approved":"wait",c={contactNo:i.contactNo,capitalPaid:i.capitalPaid,dueDate:i.dueDate,approved:r};e.edit(c,u,t._id)}},children:Object(q.jsx)(H.a,{container:!0,children:Object(q.jsxs)(H.a,{item:!0,xs:12,children:[Object(q.jsx)(ft,{name:"contactNo",label:"Contact No.",value:i.contactNo,onChange:l,error:s.contactNo}),Object(q.jsxs)("div",{children:[Object(q.jsx)(ht,{type:"submit",text:"Submit"}),Object(q.jsx)(ht,{text:"Reset",color:"default",onClick:u})]})]})})})}var pi={investorName:"",investorEmail:"",contactNo:""};function bi(e){e.addOrEdit;var t=e.recordForEdit,a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=Object(C.a)({},s);if(o(Object(C.a)({},t)),e===i)return Object.values(t).every((function(e){return""==e}))},r=Ft(pi,!0,a),i=r.values,c=r.setValues,s=r.errors,o=r.setErrors,l=r.handleInputChange,u=r.resetForm;return Object(n.useEffect)((function(){null!=t&&c(Object(C.a)({},t))}),[t]),Object(q.jsx)(Rt,{onSubmit:function(t){if(t.preventDefault(),a()){var n="admin"===e.auth.user.role?"approved":"wait",r={investorName:i.investorName,investorEmail:i.investorEmail,contactNo:i.contactNo,approved:n};e.create(r,u)}},children:Object(q.jsx)(H.a,{container:!0,children:Object(q.jsxs)(H.a,{item:!0,xs:12,children:[Object(q.jsx)(ft,{name:"investorName",label:"Investor Name",value:i.investorName,onChange:l,error:s.investorName}),Object(q.jsx)(ft,{name:"investorEmail",label:"Email Address",value:i.investorEmail,onChange:l,error:s.investorEmail}),Object(q.jsx)(ft,{name:"contactNo",label:"Phone no.",value:i.contactNo,onChange:l,error:s.contactNo}),Object(q.jsxs)("div",{children:[Object(q.jsx)(ht,{type:"submit",text:"Submit"}),Object(q.jsx)(ht,{text:"Reset",color:"default",onClick:u})]})]})})})}var mi=Object(te.a)((function(e){return{pageContent:{margin:e.spacing(5),padding:e.spacing(3)},searchInput:{width:"95%"},newButton:{position:"absolute",right:"10px"},seeMore:{marginTop:e.spacing(3)},formControl:{minWidth:210}}})),hi=[{id:"investorName",label:"Investor Name"},{id:"approved",label:"Approved"},{id:"investorEmail",label:"Email"},{id:"contactNo",label:"Contact No."},{id:"update",label:"Update",disableSorting:!0}],Oi=[{_id:"",investorName:"",contactNo:"",approved:""}];function fi(e){var t=r.a.useState({isOpen:!1,title:"",subTitle:""}),a=Object(Z.a)(t,2),n=a[0],i=a[1],c=r.a.useState({isOpen:!1,message:"",type:""}),s=Object(Z.a)(c,2),o=s[0],l=s[1],u=r.a.useState({fn:function(e){return e}}),d=Object(Z.a)(u,2),j=d[0],p=d[1],b=r.a.useState(Oi),m=Object(Z.a)(b,2),h=m[0],O=m[1],f=r.a.useState(null),x=Object(Z.a)(f,2),v=x[0],g=x[1],y=r.a.useState(!1),S=Object(Z.a)(y,2),N=S[0],w=S[1],D=r.a.useState(!1),A=Object(Z.a)(D,2),P=A[0],k=A[1],I=r.a.useState(h),T=Object(Z.a)(I,2),E=T[0],F=T[1],B=mi();r.a.useEffect(Object(Ze.a)(Qe.a.mark((function t(){var a;return Qe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(n=e).getAllInvestors({email:n.auth.user.email,auth:n.auth.isAuthenticated},n.history);case 2:a=t.sent,O(a.data),F(a.data);case 5:case"end":return t.stop()}var n}),t)}))),[o]);var R=Mt(E,hi,j),z=R.TblContainer,_=R.TblHead,V=R.TblPagination,L=R.recordsAfterPagingAndSorting;return Object(q.jsxs)(r.a.Fragment,{children:[Object(q.jsx)(re.a,{children:Object(q.jsxs)(H.a,{container:!0,children:[Object(q.jsx)(H.a,{item:!0,xs:9,children:Object(q.jsx)(ft,{label:"Search Investors",className:B.searchInput,InputProps:{startAdornment:Object(q.jsx)(rt.a,{position:"start",children:Object(q.jsx)(at.a,{})})},onChange:function(e){var t=e.target;p({fn:function(e){return""==t.value?e:e.filter((function(e){return e.investorName.toLowerCase().includes(t.value.toLowerCase())}))}})}})}),Object(q.jsx)(H.a,{item:!0,xs:3,children:Object(q.jsx)(ht,{text:"Add New",variant:"outlined",startIcon:Object(q.jsx)(tt.a,{}),className:B.newButton,onClick:function(){k(!0)}})})]})}),Object(q.jsxs)(z,{children:[Object(q.jsx)(_,{}),Object(q.jsx)($e.a,{children:L().map((function(e){return Object(q.jsxs)(it.a,{children:[Object(q.jsx)(nt.a,{children:e.investorName}),Object(q.jsx)(nt.a,{children:(t=e.approved,"approved"===t?(console.log(t),console.log("yes"),Object(q.jsx)(ja.a,{fontSize:"small",style:{color:"#00b386"}})):"wait"===t?(console.log("what"),Object(q.jsx)(ba.a,{fontSize:"small",style:{color:"#ffbf00"}})):"rejected"===t?(console.log("what"),Object(q.jsx)(we.a,{fontSize:"small",style:{color:"#DC143C"}})):void 0)}),Object(q.jsx)(nt.a,{children:e.investorEmail}),Object(q.jsx)(nt.a,{children:e.contactNo}),Object(q.jsx)(nt.a,{children:Object(q.jsx)(jt,{color:"light",onClick:function(){g(e),w(!0)},children:Object(q.jsx)(st.a,{fontSize:"small"})})})]},e._id);var t}))})]}),Object(q.jsx)(V,{}),Object(q.jsx)(Tt,{title:"Edit Investor Details",openPopup:N,setOpenPopup:w,children:Object(q.jsx)(ji,Object(C.a)(Object(C.a)({},e),{},{recordForEdit:v,edit:function(t,a,n){var r={params:{email:e.auth.user.email,investorID:n,auth:e.auth.isAuthenticated},body:t};e.updateInvestor(r,e.history),a(),g(null),w(!1),l({isOpen:!0,message:"Update Successfully",type:"success"})}}))}),Object(q.jsx)(Tt,{title:"Register New Investor",openPopup:P,setOpenPopup:k,children:Object(q.jsx)(bi,Object(C.a)(Object(C.a)({},e),{},{create:function(t,a){var n={params:{email:e.auth.user.email,auth:e.auth.isAuthenticated},body:t};e.registerInvestor(n,e.history),a(),k(!1),l({isOpen:!0,message:"Registered Successfully.",type:"success"})}}))}),Object(q.jsx)(kt,{notify:o,setNotify:l}),Object(q.jsx)(wt,{confirmDialog:n,setConfirmDialog:i})]})}var xi=Object(te.a)((function(e){return{pageContent:{margin:e.spacing(5),padding:e.spacing(3)},searchInput:{width:"95%"},newButton:{position:"absolute",right:"10px"},seeMore:{marginTop:e.spacing(3)},formControl:{minWidth:210}}})),vi=[{id:"investorName",label:"Investor Name"},{id:"approved",label:"Approved"},{id:"investorEmail",label:"Email"},{id:"contactNo",label:"Contact No."},{id:"update",label:"Update",disableSorting:!0},{id:"delete",label:"Delete",disableSorting:!0}],gi=[{_id:"",investorName:"",contactNo:"",approved:""}];function yi(e){var t=r.a.useState({isOpen:!1,title:"",subTitle:""}),a=Object(Z.a)(t,2),n=a[0],i=a[1],c=r.a.useState({isOpen:!1,message:"",type:""}),s=Object(Z.a)(c,2),o=s[0],l=s[1],u=r.a.useState({fn:function(e){return e}}),d=Object(Z.a)(u,2),j=d[0],p=d[1],b=r.a.useState(gi),m=Object(Z.a)(b,2),h=m[0],O=m[1],f=r.a.useState(null),x=Object(Z.a)(f,2),v=x[0],g=x[1],y=r.a.useState(!1),S=Object(Z.a)(y,2),N=S[0],w=S[1],D=r.a.useState(!1),A=Object(Z.a)(D,2),P=A[0],k=A[1],I=r.a.useState(h),T=Object(Z.a)(I,2),E=T[0],F=T[1],B=xi();r.a.useEffect(Object(Ze.a)(Qe.a.mark((function t(){var a;return Qe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(n=e).getAllInvestors({email:n.auth.user.email,auth:n.auth.isAuthenticated},n.history);case 2:a=t.sent,O(a.data),F(a.data),p({fn:function(e){return e.filter((function(e){return e.approved.includes("approved")}))}});case 6:case"end":return t.stop()}var n}),t)}))),[o]);var R=Mt(E,vi,j),z=R.TblContainer,_=R.TblHead,V=R.TblPagination,L=R.recordsAfterPagingAndSorting;return Object(q.jsxs)(r.a.Fragment,{children:[Object(q.jsx)(re.a,{children:Object(q.jsxs)(H.a,{container:!0,children:[Object(q.jsx)(H.a,{item:!0,xs:9,children:Object(q.jsx)(ft,{label:"Search Investors",className:B.searchInput,InputProps:{startAdornment:Object(q.jsx)(rt.a,{position:"start",children:Object(q.jsx)(at.a,{})})},onChange:function(e){var t=e.target;p({fn:function(e){return""==t.value?e.filter((function(e){return e.approved.includes("approved")})):e.filter((function(e){return e.investorName.toLowerCase().includes(t.value.toLowerCase())&&e.approved.includes("approved")}))}})}})}),Object(q.jsx)(H.a,{item:!0,xs:3,children:Object(q.jsx)(ht,{text:"Add New",variant:"outlined",startIcon:Object(q.jsx)(tt.a,{}),className:B.newButton,onClick:function(){k(!0)}})})]})}),Object(q.jsxs)(z,{children:[Object(q.jsx)(_,{}),Object(q.jsx)($e.a,{children:L().map((function(t){return Object(q.jsxs)(it.a,{children:[Object(q.jsx)(nt.a,{children:t.investorName}),Object(q.jsx)(nt.a,{children:(a=t.approved,"approved"===a?(console.log(a),console.log("yes"),Object(q.jsx)(ja.a,{fontSize:"small",style:{color:"#00b386"}})):"wait"===a?(console.log("what"),Object(q.jsx)(ba.a,{fontSize:"small",style:{color:"#ffbf00"}})):"rejected"===a?(console.log("what"),Object(q.jsx)(we.a,{fontSize:"small",style:{color:"#DC143C"}})):void 0)}),Object(q.jsx)(nt.a,{children:t.investorEmail}),Object(q.jsx)(nt.a,{children:t.contactNo}),Object(q.jsx)(nt.a,{children:Object(q.jsx)(jt,{color:"light",onClick:function(){g(t),w(!0)},children:Object(q.jsx)(st.a,{fontSize:"small"})})}),Object(q.jsx)(nt.a,{children:Object(q.jsx)(jt,{color:"light",onClick:function(){i({isOpen:!0,title:"Are you sure to delete this record?",subTitle:"You can't undo this operation",onConfirm:function(){!function(t){i(Object(C.a)(Object(C.a)({},n),{},{isOpen:!1}));var a={investorID:t._id,email:e.auth.user.email,auth:e.auth.isAuthenticated};"admin"===e.auth.user.role&&(e.deleteInvestor(a,e.history),l({isOpen:!0,message:"Deleted Successfully",type:"success"}))}(t)}})},children:Object(q.jsx)(lt.a,{fontSize:"small"})})})]},t._id);var a}))})]}),Object(q.jsx)(V,{}),Object(q.jsx)(Tt,{title:"Edit Investor Details",openPopup:N,setOpenPopup:w,children:Object(q.jsx)(ji,Object(C.a)(Object(C.a)({},e),{},{recordForEdit:v,edit:function(t,a,n){var r={params:{email:e.auth.user.email,investorID:n,auth:e.auth.isAuthenticated},body:t};"admin"===e.auth.user.role&&(e.updateInvestor(r,e.history),a(),g(null),w(!1),l({isOpen:!0,message:"Update Successfully",type:"success"}))}}))}),Object(q.jsx)(Tt,{title:"Register New Investor",openPopup:P,setOpenPopup:k,children:Object(q.jsx)(bi,Object(C.a)(Object(C.a)({},e),{},{create:function(t,a){var n={params:{email:e.auth.user.email,auth:e.auth.isAuthenticated},body:t};e.registerInvestor(n,e.history),a(),k(!1),l({isOpen:!0,message:"Registered Successfully.",type:"success"})}}))}),Object(q.jsx)(kt,{notify:o,setNotify:l}),Object(q.jsx)(wt,{confirmDialog:n,setConfirmDialog:i})]})}var Si=function(e){var t=e.auth.user;return"admin"===t.role?(console.log("admin"),Object(q.jsx)(yi,Object(C.a)({},e))):"user"===t.role?(console.log("user"),Object(q.jsx)(fi,Object(C.a)({},e))):void 0},Ni=["children","value","index"];function Ci(e){var t=e.children,a=e.value,n=e.index,r=Object(pt.a)(e,Ni);return Object(q.jsx)("div",Object(C.a)(Object(C.a)({role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},r),{},{children:a===n&&Object(q.jsx)(W.a,{p:3,children:Object(q.jsx)(G.a,{children:t})})}))}function wi(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}function Di(){return Object(q.jsxs)(G.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(q.jsx)(le.a,{color:"inherit",href:"https://material-ui.com/",children:"Your Website"})," ",(new Date).getFullYear(),"."]})}var Ai=Object(te.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(C.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object($.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240},btnstyle:{margin:"8px 0",backgroundColor:"#666bff"}}})),Pi=Object(y.b)((function(e){return{auth:e.auth}}),{logoutUser:g,getAllInvestments:Tr,getAllInvestors:Rr,deleteInvestor:Br,updateInvestor:Fr,registerInvestor:zr,deleteInvestment:Ir,updateInvestment:kr,registerInvestment:Er,getAllReturns:function(e,t){return function(t){return m.a.get("/api/getReturns",{params:e}).then((function(e){return e.data})).catch((function(e){return t({type:O,payload:e.response.data})}))}},deleteReturn:function(e,t){return function(a){console.log(e),m.a.delete("/api/delReturn",{params:e}).then((function(e){return t.push("/returns")})).catch((function(e){return a({type:O,payload:e.response.data})}))}},updateReturn:function(e,t){return function(t){m.a.post("/api/updReturn",e.body,{params:e.params}).then((function(e){console.log("updated")})).catch((function(e){return t({type:O,payload:e.response.data})}))}},registerReturn:function(e,t){return function(t){console.log(e),m.a.post("/api/newReturn",e.body,{params:e.params}).then((function(e){console.log(e.data)})).catch((function(e){return t({type:O,payload:e.response.data})}))}}})(Object(j.g)((function(e){var t=r.a.useState(0),a=Object(Z.a)(t,2),n=a[0],i=a[1],c="";c="user"===e.auth.user.role?Fe:Ee;var s=Ai(),o=r.a.useState(!0),l=Object(Z.a)(o,2),u=l[0],d=l[1];Object(ee.a)(s.paper,s.fixedHeight);return Object(q.jsxs)("div",{className:s.root,children:[Object(q.jsx)(z.a,{}),Object(q.jsx)(ne.a,{position:"absolute",className:Object(ee.a)(s.appBar,u&&s.appBarShift),children:Object(q.jsxs)(re.a,{className:s.toolbar,children:[Object(q.jsx)(se.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){d(!0)},className:Object(ee.a)(s.menuButton,u&&s.menuButtonHidden),children:Object(q.jsx)(de.a,{})}),Object(q.jsx)(G.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:s.title,children:"Investments"}),Object(q.jsx)(R.a,{color:"inherit",className:s.btnstyle,onClick:function(t){t.preventDefault(),e.logoutUser()},children:"Logout"})]})}),Object(q.jsxs)(ae.a,{variant:"permanent",classes:{paper:Object(ee.a)(s.drawerPaper,!u&&s.drawerPaperClose)},open:u,children:[Object(q.jsx)("div",{className:s.toolbarIcon,children:Object(q.jsx)(se.a,{onClick:function(){d(!1)},children:Object(q.jsx)(pe.a,{})})}),Object(q.jsx)(ce.a,{}),Object(q.jsx)(ie.a,{children:c})]}),Object(q.jsxs)("main",{className:s.content,children:[Object(q.jsx)("div",{className:s.appBarSpacer}),Object(q.jsxs)(oe.a,{maxWidth:"lg",className:s.container,children:[Object(q.jsx)(H.a,{item:!0,xs:12,children:Object(q.jsxs)(U.a,{className:s.paper,children:[Object(q.jsx)(ne.a,{position:"static",children:Object(q.jsxs)(ta.a,{value:n,centered:!0,onChange:function(e,t){i(t)},"aria-label":"simple tabs example",children:[Object(q.jsx)(aa.a,Object(C.a)({label:"Investors"},wi(0))),Object(q.jsx)(aa.a,Object(C.a)({label:"Investments"},wi(1))),Object(q.jsx)(aa.a,Object(C.a)({label:"Returns"},wi(2))),Object(q.jsx)(aa.a,Object(C.a)({label:"Log"},wi(3)))]})}),Object(q.jsx)(Ci,{value:n,index:0,children:Object(q.jsx)(Si,Object(C.a)({},e))}),Object(q.jsx)(Ci,{value:n,index:1,children:Object(q.jsx)(Kr,Object(C.a)({},e))}),Object(q.jsx)(Ci,{value:n,index:2,children:Object(q.jsx)(ni,Object(C.a)({},e))}),Object(q.jsx)(Ci,{value:n,index:3,children:Object(q.jsx)(ui,Object(C.a)({},e))})]})}),Object(q.jsx)(W.a,{pt:4,children:Object(q.jsx)(Di,{})})]})]})]})}))),ki={rejectReason:""};function Ii(e){var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,t=Object(C.a)({},c);if(s(Object(C.a)({},t)),e===r)return Object.values(t).every((function(e){return""==e}))},a=Ft(ki,!0,t),r=a.values,i=a.setValues,c=a.errors,s=a.setErrors,o=a.handleInputChange,l=a.resetForm;return Object(n.useEffect)((function(){null!=e.recordForReject&&i(Object(C.a)({},e.recordForReject))}),[e.recordForReject]),Object(q.jsx)(Rt,{onSubmit:function(a){a.preventDefault(),t()&&e.reject(e.recordForReject._id,r.rejectReason,l)},children:Object(q.jsxs)(H.a,{container:!0,children:[Object(q.jsx)(H.a,{item:!0,xs:7,children:Object(q.jsx)(ft,{name:"rejectReason",label:"Reason for Rejection",value:r.rejectReason,onChange:o,error:c.rejectReason})}),Object(q.jsx)(H.a,{item:!0,xs:5,children:Object(q.jsxs)("div",{children:[Object(q.jsx)(ht,{type:"submit",text:"Submit"}),Object(q.jsx)(ht,{text:"Reset",color:"default",onClick:l})]})})]})})}var Ti=Object(te.a)((function(e){return{pageContent:{margin:e.spacing(5),padding:e.spacing(3)},searchInput:{width:"95%"},newButton:{position:"absolute",right:"10px"},seeMore:{marginTop:e.spacing(3)},formControl:{minWidth:210}}})),Ei=[{id:"projectName",label:"Project Name"},{id:"approved",label:"Approved"},{id:"dueDate",label:"Due Date"},{id:"ownerName",label:"Owner"},{id:"taskDetails",label:"Task Details"},{id:"companyName",label:"Company Name"},{id:"approve",label:"Approve",disableSorting:!0},{id:"reject",label:"Reject",disableSorting:!0}],Fi=[function(e,t,a,n,r,i,c){return{_id:e,projectName:t,dueDate:a,projectDetails:n,ownerName:r,updated:i,delete:c}}("","","","","","","")];function Bi(e){var t=r.a.useState({isOpen:!1,message:"",type:""}),a=Object(Z.a)(t,2),n=a[0],i=a[1],c=r.a.useState({fn:function(e){return e}}),s=Object(Z.a)(c,2),o=s[0],l=s[1],u=r.a.useState(Fi),d=Object(Z.a)(u,2),j=d[0],p=d[1],b=r.a.useState([]),m=Object(Z.a)(b,2),h=m[0],O=m[1],f=r.a.useState(""),x=Object(Z.a)(f,2),v=x[0],g=x[1],y=r.a.useState(!1),S=Object(Z.a)(y,2),N=S[0],C=S[1],w=r.a.useState(null),D=Object(Z.a)(w,2),A=D[0],P=(D[1],r.a.useState(!1)),k=Object(Z.a)(P,2),I=(k[0],k[1],r.a.useState(!1)),T=Object(Z.a)(I,2),E=(T[0],T[1],r.a.useState(j)),F=Object(Z.a)(E,2),B=F[0],R=F[1],z=Ti();r.a.useEffect(Object(Ze.a)(Qe.a.mark((function t(){var a,n,r,i,c;return Qe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(s=e).getAllCompanies({email:s.auth.user.email,auth:s.auth.isAuthenticated},s.history);case 2:for(a=t.sent,n=a.data.map((function(e){return e.companyName})),r=n.length,(i=[])[0]={key:0,item:""},c=0;c<r;c++)i[c+1]={key:c+1,item:n[c]};console.log(i),O(i);case 10:case"end":return t.stop()}var s}),t)}))),[]),r.a.useEffect(Object(Ze.a)(Qe.a.mark((function t(){var a;return Qe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(n=e).getAllProjects({email:n.auth.user.email,auth:n.auth.isAuthenticated},n.history);case 2:a=t.sent,p(a.data),R(a.data),l({fn:function(e){return""==v?e.filter((function(e){return e.approved.includes("wait")})):e.filter((function(e){return e.companyName.includes(v)&&e.approved.includes("wait")}))}});case 6:case"end":return t.stop()}var n}),t)}))),[n,h]);var _=Mt(B,Ei,o),V=_.TblContainer,L=_.TblHead,W=_.TblPagination,M=_.recordsAfterPagingAndSorting,Y=r.a.useState({checkedA:!0,checkedB:!0}),G=Object(Z.a)(Y,2),X=G[0],J=(G[1],function(e){var t=e.toString();return t=t.substring(0,t.indexOf("T"))}),K=function(t,a,n){var r={params:{email:e.auth.user.email,projectID:t,auth:e.auth.isAuthenticated},body:{approved:"rejected",rejectReason:a}};"admin"===e.auth.user.role&&(e.updateProject(r,e.history),n(),C(!1),i({isOpen:!0,message:"Payment Rejected.",type:"success"}))};return Object(q.jsxs)(r.a.Fragment,{children:[Object(q.jsxs)(U.a,{className:z.pageContent,children:[Object(q.jsx)(re.a,{children:Object(q.jsxs)(H.a,{container:!0,children:[Object(q.jsx)(H.a,{item:!0,xs:9,children:Object(q.jsx)(ft,{label:"Search Projects",className:z.searchInput,InputProps:{startAdornment:Object(q.jsx)(rt.a,{position:"start",children:Object(q.jsx)(at.a,{})})},onChange:function(e){var t=e.target;l({fn:function(e){return""==v?e.filter((function(e){return e.approved.includes("wait")})):e.filter((function(e){return e.taskName.toLowerCase().includes(t.value.toLowerCase())&&e.approved.includes("wait")}))}})}})}),Object(q.jsx)(H.a,{item:!0,xs:3,children:Object(q.jsxs)(na.a,{variant:"outlined",className:z.formControl,children:[Object(q.jsx)(oa.a,{htmlFor:"outlined-company-native-simple",children:"Company"}),Object(q.jsx)(la.a,{native:!0,value:X.age,onChange:function(e){var t=e.target;console.log(t.value),g(t.value),l({fn:function(e){return""==t.value?e.filter((function(e){return e.approved.includes("wait")})):e.filter((function(e){return e.companyName.includes(t.value)&&e.approved.includes("wait")}))}})},label:"Company",inputProps:{name:"company",id:"outlined-company-native-simple"},children:h.map((function(e){return Object(q.jsx)("option",{value:e.item,children:e.item},e.key)}))})]})})]})}),Object(q.jsxs)(V,{children:[Object(q.jsx)(L,{}),Object(q.jsx)($e.a,{children:M().map((function(t){return Object(q.jsxs)(it.a,{children:[Object(q.jsx)(nt.a,{children:t.projectName}),Object(q.jsx)(nt.a,{children:(a=t.approved,"approved"===a?(console.log(a),console.log("yes"),Object(q.jsx)(ja.a,{fontSize:"small",style:{color:"#00b386"}})):"wait"===a?(console.log("what"),Object(q.jsx)(ba.a,{fontSize:"small",style:{color:"#ffbf00"}})):"rejected"===a?(console.log("what"),Object(q.jsx)(we.a,{fontSize:"small",style:{color:"#DC143C"}})):void 0)}),Object(q.jsx)(nt.a,{children:J(t.dueDate)}),Object(q.jsx)(nt.a,{children:t.ownerName}),Object(q.jsx)(nt.a,{children:t.projectDetails}),Object(q.jsx)(nt.a,{children:t.companyName}),Object(q.jsx)(nt.a,{children:Object(q.jsx)(jt,{color:"light",onClick:function(){!function(t){var a={params:{email:e.auth.user.email,projectID:t,auth:e.auth.isAuthenticated},body:{approved:"approved"}};"admin"===e.auth.user.role&&(e.updateProject(a,e.history),i({isOpen:!0,message:"Project Approved.",type:"success"}))}(t._id)},children:Object(q.jsx)(sr.a,{fontSize:"small"})})}),Object(q.jsx)(nt.a,{children:Object(q.jsx)(jt,{color:"light",onClick:function(){K(t)},children:Object(q.jsx)(lt.a,{fontSize:"small"})})})]},t._id);var a}))})]}),Object(q.jsx)(W,{})]}),Object(q.jsx)(Tt,{title:"Reject Project",openPopup:N,setOpenPopup:C,children:Object(q.jsx)(Ii,{recordForReject:A,reject:K})}),Object(q.jsx)(kt,{notify:n,setNotify:i})]})}var Ri=Object(te.a)((function(e){return{pageContent:{margin:e.spacing(5),padding:e.spacing(3)},searchInput:{width:"95%"},newButton:{position:"absolute",right:"10px"},seeMore:{marginTop:e.spacing(3)},formControl:{minWidth:210}}})),zi=[{id:"investorName",label:"Investor Name"},{id:"approved",label:"Approved"},{id:"contactNo",label:"Contact No."},{id:"investorEmail",label:"Email Address"},{id:"approve",label:"Approve",disableSorting:!0},{id:"reject",label:"Reject",disableSorting:!0}],_i=[{_id:"",investorName:"",contactNo:"",investorEmail:"",approved:"",updated:"",delete:""}];function Vi(e){var t=r.a.useState({isOpen:!1,message:"",type:""}),a=Object(Z.a)(t,2),n=a[0],i=a[1],c=r.a.useState({fn:function(e){return e}}),s=Object(Z.a)(c,2),o=s[0],l=s[1],u=r.a.useState(_i),d=Object(Z.a)(u,2),j=d[0],p=d[1],b=r.a.useState([]),m=Object(Z.a)(b,2),h=m[0],O=(m[1],r.a.useState("")),f=Object(Z.a)(O,2),x=(f[0],f[1],r.a.useState(null)),v=Object(Z.a)(x,2),g=v[0],y=v[1],S=r.a.useState(!1),N=Object(Z.a)(S,2),C=N[0],w=N[1],D=r.a.useState(j),A=Object(Z.a)(D,2),P=A[0],k=A[1],I=Ri();r.a.useEffect(Object(Ze.a)(Qe.a.mark((function t(){var a;return Qe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(n=e).getAllInvestors({email:n.auth.user.email,auth:n.auth.isAuthenticated},n.history);case 2:a=t.sent,p(a.data),k(a.data),l({fn:function(e){return e.filter((function(e){return e.approved.includes("wait")}))}});case 6:case"end":return t.stop()}var n}),t)}))),[n,h]);var T=Mt(P,zi,o),E=T.TblContainer,F=T.TblHead,B=T.TblPagination,R=T.recordsAfterPagingAndSorting,z=r.a.useState({checkedA:!0,checkedB:!0}),_=Object(Z.a)(z,2);_[0],_[1];return Object(q.jsxs)(r.a.Fragment,{children:[Object(q.jsxs)(U.a,{className:I.pageContent,children:[Object(q.jsx)(re.a,{children:Object(q.jsx)(H.a,{container:!0,children:Object(q.jsx)(H.a,{item:!0,xs:12,children:Object(q.jsx)(ft,{label:"Search Investors",className:I.searchInput,InputProps:{startAdornment:Object(q.jsx)(rt.a,{position:"start",children:Object(q.jsx)(at.a,{})})},onChange:function(e){var t=e.target;l({fn:function(e){return""==t.value?e.filter((function(e){return e.approved.includes("wait")})):e.filter((function(e){return e.investorName.toLowerCase().includes(t.value.toLowerCase())}))}})}})})})}),Object(q.jsxs)(E,{children:[Object(q.jsx)(F,{}),Object(q.jsx)($e.a,{children:R().map((function(t){return Object(q.jsxs)(it.a,{children:[Object(q.jsx)(nt.a,{children:t.investorName}),Object(q.jsx)(nt.a,{children:(a=t.approved,"approved"===a?(console.log(a),console.log("yes"),Object(q.jsx)(ja.a,{fontSize:"small",style:{color:"#00b386"}})):"wait"===a?(console.log("what"),Object(q.jsx)(ba.a,{fontSize:"small",style:{color:"#ffbf00"}})):"rejected"===a?(console.log("what"),Object(q.jsx)(we.a,{fontSize:"small",style:{color:"#DC143C"}})):void 0)}),Object(q.jsx)(nt.a,{children:t.contactNo}),Object(q.jsx)(nt.a,{children:t.investorEmail}),Object(q.jsx)(nt.a,{children:Object(q.jsx)(jt,{color:"light",onClick:function(){!function(t){var a={params:{email:e.auth.user.email,investorID:t,auth:e.auth.isAuthenticated},body:{approved:"approved",rejectReason:""}};"admin"===e.auth.user.role&&(e.updateInvestor(a,e.history),i({isOpen:!0,message:"Investor Approved.",type:"success"}))}(t._id)},children:Object(q.jsx)(sr.a,{fontSize:"small"})})}),Object(q.jsx)(nt.a,{children:Object(q.jsx)(jt,{color:"light",onClick:function(){y(t),w(!0)},children:Object(q.jsx)(lt.a,{fontSize:"small"})})})]},t._id);var a}))})]}),Object(q.jsx)(B,{})]}),Object(q.jsx)(Tt,{title:"Reject Investor",openPopup:C,setOpenPopup:w,children:Object(q.jsx)(Ii,{recordForReject:g,reject:function(t,a,n){var r={params:{email:e.auth.user.email,investorID:t,auth:e.auth.isAuthenticated},body:{approved:"rejected",rejectReason:a}};"admin"===e.auth.user.role&&(e.updateInvestor(r,e.history),n(),w(!1),i({isOpen:!0,message:"Investor Rejected.",type:"success"}))}})}),Object(q.jsx)(kt,{notify:n,setNotify:i})]})}var Li=Object(te.a)((function(e){return{pageContent:{margin:e.spacing(5),padding:e.spacing(3)},searchInput:{width:"95%"},newButton:{position:"absolute",right:"10px"},seeMore:{marginTop:e.spacing(3)},formControl:{minWidth:210}}})),Ui=[{id:"investorName",label:"Investor Name"},{id:"investmentName",label:"Investment Name"},{id:"approved",label:"Approved"},{id:"startDate",label:"Start Date"},{id:"dueDate",label:"Due Date"},{id:"capitalAmt",label:"Capital Amount"},{id:"capitalPaid",label:"Amount Paid"},{id:"profitPercent",label:"Rate"},{id:"investmentType",label:"Type"},{id:"paymentTerms",label:"Terms"},{id:"approve",label:"Approve",disableSorting:!0},{id:"reject",label:"Reject",disableSorting:!0}],Wi=[function(e,t,a,n,r,i,c){return{_id:e,investorName:t,startDate:"",dueDate:"",amtToBePaid:n,approved:"",updated:i,delete:c}}("","",0,"",0,"","")];function Hi(e){var t=r.a.useState({isOpen:!1,message:"",type:""}),a=Object(Z.a)(t,2),n=a[0],i=a[1],c=r.a.useState({fn:function(e){return e}}),s=Object(Z.a)(c,2),o=s[0],l=s[1],u=r.a.useState(Wi),d=Object(Z.a)(u,2),j=d[0],p=d[1],b=r.a.useState([]),m=Object(Z.a)(b,2),h=m[0],O=m[1],f=r.a.useState(""),x=Object(Z.a)(f,2),v=x[0],g=x[1],y=r.a.useState(null),S=Object(Z.a)(y,2),N=S[0],C=S[1],w=r.a.useState(!1),D=Object(Z.a)(w,2),A=D[0],P=D[1],k=r.a.useState(j),I=Object(Z.a)(k,2),T=I[0],E=I[1],F=Li();r.a.useEffect(Object(Ze.a)(Qe.a.mark((function t(){var a,n,r,i,c;return Qe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(s=e).getAllInvestors({email:s.auth.user.email,auth:s.auth.isAuthenticated},s.history);case 2:for(a=t.sent,n=a.data.map((function(e){return e.investorName})),r=n.length,(i=[])[0]={key:0,item:""},c=0;c<r;c++)i[c+1]={key:c+1,item:n[c]};console.log(i),O(i);case 10:case"end":return t.stop()}var s}),t)}))),[]),r.a.useEffect(Object(Ze.a)(Qe.a.mark((function t(){var a;return Qe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(n=e).getAllInvestments({email:n.auth.user.email,auth:n.auth.isAuthenticated},n.history);case 2:a=t.sent,p(a.data),E(a.data),l({fn:function(e){return""==v?e.filter((function(e){return e.approved.includes("wait")})):e.filter((function(e){return e.investorName.includes(v)&&e.approved.includes("wait")}))}});case 6:case"end":return t.stop()}var n}),t)}))),[n,h]);var B=Mt(T,Ui,o),R=B.TblContainer,z=B.TblHead,_=B.TblPagination,V=B.recordsAfterPagingAndSorting,L=r.a.useState({checkedA:!0,checkedB:!0}),U=Object(Z.a)(L,2),W=U[0],M=(U[1],function(e){var t=e.toString();return t=t.substring(0,t.indexOf("T"))});return Object(q.jsxs)(r.a.Fragment,{children:[Object(q.jsx)(re.a,{children:Object(q.jsxs)(H.a,{container:!0,children:[Object(q.jsx)(H.a,{item:!0,xs:9,children:Object(q.jsx)(ft,{label:"Search Investments",className:F.searchInput,InputProps:{startAdornment:Object(q.jsx)(rt.a,{position:"start",children:Object(q.jsx)(at.a,{})})},onChange:function(e){var t=e.target;l({fn:function(e){return""==v?e.filter((function(e){return e.approved.includes("wait")})):e.filter((function(e){return e.investmentName.toLowerCase().includes(t.value.toLowerCase())&&e.approved.includes("wait")}))}})}})}),Object(q.jsx)(H.a,{item:!0,xs:3,children:Object(q.jsxs)(na.a,{variant:"outlined",className:F.formControl,children:[Object(q.jsx)(oa.a,{htmlFor:"outlined-investor-native-simple",children:"Investor"}),Object(q.jsx)(la.a,{native:!0,value:W.age,onChange:function(e){var t=e.target;console.log(t.value),g(t.value),l({fn:function(e){return""==t.value?e.filter((function(e){return e.approved.includes("wait")})):e.filter((function(e){return e.investorName.includes(t.value)&&e.approved.includes("wait")}))}})},label:"Investor",inputProps:{name:"investor",id:"outlined-investor-native-simple"},children:h.map((function(e){return Object(q.jsx)("option",{value:e.item,children:e.item},e.key)}))})]})})]})}),Object(q.jsxs)(R,{children:[Object(q.jsx)(z,{}),Object(q.jsx)($e.a,{children:V().map((function(t){return Object(q.jsxs)(it.a,{children:[Object(q.jsx)(nt.a,{children:t.investorName}),Object(q.jsx)(nt.a,{children:t.investmentName}),Object(q.jsx)(nt.a,{children:(a=t.approved,"approved"===a?(console.log(a),console.log("yes"),Object(q.jsx)(ja.a,{fontSize:"small",style:{color:"#00b386"}})):"wait"===a?(console.log("what"),Object(q.jsx)(ba.a,{fontSize:"small",style:{color:"#ffbf00"}})):"rejected"===a?(console.log("what"),Object(q.jsx)(we.a,{fontSize:"small",style:{color:"#DC143C"}})):void 0)}),Object(q.jsx)(nt.a,{children:M(t.startDate)}),Object(q.jsx)(nt.a,{children:M(t.dueDate)}),Object(q.jsx)(nt.a,{children:t.capitalAmt}),Object(q.jsx)(nt.a,{children:t.capitalPaid}),Object(q.jsx)(nt.a,{children:t.profitPercent+"%"}),Object(q.jsx)(nt.a,{children:t.investmentType}),Object(q.jsx)(nt.a,{children:t.paymentTerms}),Object(q.jsx)(nt.a,{children:Object(q.jsx)(jt,{color:"light",onClick:function(){!function(t){var a={params:{email:e.auth.user.email,investmenttID:t,auth:e.auth.isAuthenticated},body:{approved:"approved"}};"admin"===e.auth.user.role&&(e.updateInvestment(a,e.history),i({isOpen:!0,message:"Investment Approved.",type:"success"}))}(t._id)},children:Object(q.jsx)(sr.a,{fontSize:"small"})})}),Object(q.jsx)(nt.a,{children:Object(q.jsx)(jt,{color:"light",onClick:function(){C(t),P(!0)},children:Object(q.jsx)(lt.a,{fontSize:"small"})})})]},t._id);var a}))})]}),Object(q.jsx)(_,{}),Object(q.jsx)(Tt,{title:"Reject Investor",openPopup:A,setOpenPopup:P,children:Object(q.jsx)(Ii,{recordForReject:N,reject:function(t,a,n){var r={params:{email:e.auth.user.email,investmentID:t,auth:e.auth.isAuthenticated},body:{approved:"rejected",rejectReason:a}};"admin"===e.auth.user.role&&(e.updateInvestment(r,e.history),n(),P(!1),i({isOpen:!0,message:"Investor Rejected.",type:"success"}))}})}),Object(q.jsx)(kt,{notify:n,setNotify:i})]})}var Mi=Object(te.a)((function(e){return{pageContent:{margin:e.spacing(5),padding:e.spacing(3)},searchInput:{width:"95%"},newButton:{position:"absolute",right:"10px"},seeMore:{marginTop:e.spacing(3)},formControl:{minWidth:210}}})),Yi=[{id:"vendorName",label:"Vendor Name"},{id:"approved",label:"Approved"},{id:"startDate",label:"Start Date"},{id:"dueDate",label:"Due Date"},{id:"contractAmt",label:"Contract Amount"},{id:"approve",label:"Approve",disableSorting:!0},{id:"reject",label:"Reject",disableSorting:!0}],Gi=[{_id:"",vendorName:"",endDate:"ttt",startDate:"uyyy",contractAmt:"",updated:"",delete:""}];function Xi(e){var t=r.a.useState({isOpen:!1,message:"",type:""}),a=Object(Z.a)(t,2),n=a[0],i=a[1],c=r.a.useState({fn:function(e){return e}}),s=Object(Z.a)(c,2),o=s[0],l=s[1],u=r.a.useState(Gi),d=Object(Z.a)(u,2),j=d[0],p=d[1],b=r.a.useState([]),m=Object(Z.a)(b,2),h=m[0],O=(m[1],r.a.useState("")),f=Object(Z.a)(O,2),x=(f[0],f[1],r.a.useState(null)),v=Object(Z.a)(x,2),g=v[0],y=v[1],S=r.a.useState(!1),N=Object(Z.a)(S,2),C=N[0],w=N[1],D=r.a.useState(j),A=Object(Z.a)(D,2),P=A[0],k=A[1],I=Mi();r.a.useEffect(Object(Ze.a)(Qe.a.mark((function t(){var a;return Qe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(n=e).getAllVendors({email:n.auth.user.email,auth:n.auth.isAuthenticated},n.history);case 2:a=t.sent,p(a.data),k(a.data),l({fn:function(e){return e.filter((function(e){return e.approved.includes("wait")}))}});case 6:case"end":return t.stop()}var n}),t)}))),[n,h]);var T=Mt(P,Yi,o),E=T.TblContainer,F=T.TblHead,B=T.TblPagination,R=T.recordsAfterPagingAndSorting,z=r.a.useState({checkedA:!0,checkedB:!0}),_=Object(Z.a)(z,2),V=(_[0],_[1],function(e){console.log(e);var t=e.toString();return t=t.substring(0,t.indexOf("T"))});return Object(q.jsxs)(r.a.Fragment,{children:[Object(q.jsxs)(U.a,{className:I.pageContent,children:[Object(q.jsx)(re.a,{children:Object(q.jsx)(H.a,{container:!0,children:Object(q.jsx)(H.a,{item:!0,xs:12,children:Object(q.jsx)(ft,{label:"Search Vendors",className:I.searchInput,InputProps:{startAdornment:Object(q.jsx)(rt.a,{position:"start",children:Object(q.jsx)(at.a,{})})},onChange:function(e){var t=e.target;l({fn:function(e){return""==t.value?e.filter((function(e){return e.approved.includes("wait")})):e.filter((function(e){return e.vendorName.toLowerCase().includes(t.value.toLowerCase())}))}})}})})})}),Object(q.jsxs)(E,{children:[Object(q.jsx)(F,{}),Object(q.jsx)($e.a,{children:R().map((function(t){return Object(q.jsxs)(it.a,{children:[Object(q.jsx)(nt.a,{children:t.vendorName}),Object(q.jsx)(nt.a,{children:(a=t.approved,"approved"===a?(console.log(a),console.log("yes"),Object(q.jsx)(ja.a,{fontSize:"small",style:{color:"#00b386"}})):"wait"===a?(console.log("what"),Object(q.jsx)(ba.a,{fontSize:"small",style:{color:"#ffbf00"}})):"rejected"===a?(console.log("what"),Object(q.jsx)(we.a,{fontSize:"small",style:{color:"#DC143C"}})):void 0)}),Object(q.jsx)(nt.a,{children:V(t.startDate)}),Object(q.jsx)(nt.a,{children:V(t.endDate)}),Object(q.jsx)(nt.a,{children:t.contractAmt}),Object(q.jsx)(nt.a,{children:Object(q.jsx)(jt,{color:"light",onClick:function(){!function(t){var a={params:{email:e.auth.user.email,vendorID:t,auth:e.auth.isAuthenticated},body:{approved:"approved",rejectReason:""}};"admin"===e.auth.user.role&&(e.updateVendor(a,e.history),i({isOpen:!0,message:"Vendor Approved.",type:"success"}))}(t._id)},children:Object(q.jsx)(sr.a,{fontSize:"small"})})}),Object(q.jsx)(nt.a,{children:Object(q.jsx)(jt,{color:"light",onClick:function(){y(t),w(!0)},children:Object(q.jsx)(lt.a,{fontSize:"small"})})})]},t._id);var a}))})]}),Object(q.jsx)(B,{})]}),Object(q.jsx)(Tt,{title:"Edit Company Details",openPopup:C,setOpenPopup:w,children:Object(q.jsx)(Ii,{recordForReject:g,reject:function(t,a,n){var r={params:{email:e.auth.user.email,vendorID:t,auth:e.auth.isAuthenticated},body:{approved:"rejected",rejectReason:a}};"admin"===e.auth.user.role&&(e.updateVendor(r,e.history),n(),w(!1),i({isOpen:!0,message:"Vendor Rejected.",type:"success"}))}})}),Object(q.jsx)(kt,{notify:n,setNotify:i})]})}var qi=Object(te.a)((function(e){return{pageContent:{margin:e.spacing(5),padding:e.spacing(3)},searchInput:{width:"95%"},newButton:{position:"absolute",right:"10px"},seeMore:{marginTop:e.spacing(3)},formControl:{minWidth:210}}})),Ji=[{id:"vendorName",label:"Vendor Name"},{id:"personName",label:"Approved"},{id:"amtToBePaid",label:"Payment Amt."},{id:"dueDate",label:"Due Date"},{id:"approve",label:"Approve",disableSorting:!0},{id:"reject",label:"Reject",disableSorting:!0}],Ki=[function(e,t,a,n,r,i,c){return{_id:e,vendorName:t,dueDate:a,amtToBePaid:n,approved:"",updated:i,delete:c}}("","","","",0,"","")];function Qi(e){var t=r.a.useState({isOpen:!1,message:"",type:""}),a=Object(Z.a)(t,2),n=a[0],i=a[1],c=r.a.useState({fn:function(e){return e}}),s=Object(Z.a)(c,2),o=s[0],l=s[1],u=r.a.useState(Ki),d=Object(Z.a)(u,2),j=d[0],p=d[1],b=r.a.useState([]),m=Object(Z.a)(b,2),h=m[0],O=m[1],f=r.a.useState(""),x=Object(Z.a)(f,2),v=x[0],g=x[1],y=r.a.useState(null),S=Object(Z.a)(y,2),N=S[0],C=S[1],w=r.a.useState(!1),D=Object(Z.a)(w,2),A=D[0],P=D[1],k=r.a.useState(j),I=Object(Z.a)(k,2),T=I[0],E=I[1],F=qi();r.a.useEffect(Object(Ze.a)(Qe.a.mark((function t(){var a,n,r,i,c;return Qe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(s=e).getAllVendors({email:s.auth.user.email,auth:s.auth.isAuthenticated},s.history);case 2:for(a=t.sent,n=a.data.map((function(e){return e.vendorName})),r=n.length,(i=[])[0]={key:0,item:""},c=0;c<r;c++)i[c+1]={key:c+1,item:n[c]};console.log(i),O(i);case 10:case"end":return t.stop()}var s}),t)}))),[]),r.a.useEffect(Object(Ze.a)(Qe.a.mark((function t(){var a;return Qe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(n=e).getAllPayments({email:n.auth.user.email,auth:n.auth.isAuthenticated},n.history);case 2:a=t.sent,p(a.data),E(a.data),l({fn:function(e){return""==v?e.filter((function(e){return e.approved.includes("wait")})):e.filter((function(e){return e.vendorName.includes(v)&&e.approved.includes("wait")}))}});case 6:case"end":return t.stop()}var n}),t)}))),[n,h]);var B=Mt(T,Ji,o),R=B.TblContainer,z=B.TblHead,_=B.TblPagination,V=B.recordsAfterPagingAndSorting,L=r.a.useState({checkedA:!0,checkedB:!0}),W=Object(Z.a)(L,2),M=W[0],Y=(W[1],function(e){var t=e.toString();return t=t.substring(0,t.indexOf("T"))});return Object(q.jsxs)(r.a.Fragment,{children:[Object(q.jsxs)(U.a,{className:F.pageContent,children:[Object(q.jsx)(re.a,{children:Object(q.jsxs)(H.a,{container:!0,children:[Object(q.jsx)(H.a,{item:!0,xs:9,children:Object(q.jsx)(ft,{label:"Search Projects",className:F.searchInput,InputProps:{startAdornment:Object(q.jsx)(rt.a,{position:"start",children:Object(q.jsx)(at.a,{})})},onChange:function(e){var t=e.target;l({fn:function(e){return""==v?e.filter((function(e){return e.approved.includes("wait")})):e.filter((function(e){return e.taskName.toLowerCase().includes(t.value.toLowerCase())&&e.approved.includes("wait")}))}})}})}),Object(q.jsx)(H.a,{item:!0,xs:3,children:Object(q.jsxs)(na.a,{variant:"outlined",className:F.formControl,children:[Object(q.jsx)(oa.a,{htmlFor:"outlined-vendor-native-simple",children:"Vendor"}),Object(q.jsx)(la.a,{native:!0,value:M.age,onChange:function(e){var t=e.target;console.log(t.value),g(t.value),l({fn:function(e){return""==t.value?e.filter((function(e){return e.approved.includes("wait")})):e.filter((function(e){return e.vendorName.includes(t.value)&&e.approved.includes("wait")}))}})},label:"Vendor",inputProps:{name:"vendor",id:"outlined-vendor-native-simple"},children:h.map((function(e){return Object(q.jsx)("option",{value:e.item,children:e.item},e.key)}))})]})})]})}),Object(q.jsxs)(R,{children:[Object(q.jsx)(z,{}),Object(q.jsx)($e.a,{children:V().map((function(t){return Object(q.jsxs)(it.a,{children:[Object(q.jsx)(nt.a,{children:t.vendorName}),Object(q.jsx)(nt.a,{children:(a=t.approved,"approved"===a?(console.log(a),console.log("yes"),Object(q.jsx)(ja.a,{fontSize:"small",style:{color:"#00b386"}})):"wait"===a?(console.log("what"),Object(q.jsx)(ba.a,{fontSize:"small",style:{color:"#ffbf00"}})):"rejected"===a?(console.log("what"),Object(q.jsx)(we.a,{fontSize:"small",style:{color:"#DC143C"}})):void 0)}),Object(q.jsx)(nt.a,{children:t.projectDetails}),Object(q.jsx)(nt.a,{children:Y(t.dueDate)}),Object(q.jsx)(nt.a,{children:Object(q.jsx)(jt,{color:"light",onClick:function(){!function(t){var a={params:{email:e.auth.user.email,projectName:t,auth:e.auth.isAuthenticated},body:{approved:"approved"}};"admin"===e.auth.user.role&&(e.updateProject(a,e.history),i({isOpen:!0,message:"Project Approved.",type:"success"}))}(t._id)},children:Object(q.jsx)(sr.a,{fontSize:"small"})})}),Object(q.jsx)(nt.a,{children:Object(q.jsx)(jt,{color:"light",onClick:function(){C(t),P(!0)},children:Object(q.jsx)(lt.a,{fontSize:"small"})})})]},t._id);var a}))})]}),Object(q.jsx)(_,{})]}),Object(q.jsx)(Tt,{title:"Reject Investor",openPopup:A,setOpenPopup:P,children:Object(q.jsx)(Ii,{recordForReject:N,reject:function(t,a,n){var r={params:{email:e.auth.user.email,vendorID:t,auth:e.auth.isAuthenticated},body:{approved:"rejected",rejectReason:a}};"admin"===e.auth.user.role&&(e.updatePayment(r,e.history),n(),P(!1),i({isOpen:!0,message:"Payment Rejected.",type:"success"}))}})}),Object(q.jsx)(kt,{notify:n,setNotify:i})]})}var Zi=["children","value","index"];function $i(e){var t=e.children,a=e.value,n=e.index,r=Object(pt.a)(e,Zi);return Object(q.jsx)("div",Object(C.a)(Object(C.a)({role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},r),{},{children:a===n&&Object(q.jsx)(W.a,{p:3,children:Object(q.jsx)(G.a,{children:t})})}))}function ec(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}function tc(){return Object(q.jsxs)(G.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(q.jsx)(le.a,{color:"inherit",href:"https://material-ui.com/",children:"Your Website"})," ",(new Date).getFullYear(),"."]})}var ac=Object(te.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(C.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object($.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240},btnstyle:{margin:"8px 0",backgroundColor:"#666bff"}}}));var nc=Object(y.b)((function(e){return{auth:e.auth}}),{getAllInvestments:Tr,deleteInvestment:Ir,updateInvestment:kr,registerInvestment:Er,logoutUser:g,getAllPayments:Hn,deletePayment:Wn,updatePayment:Un,registerPayment:Mn,getAllInvestors:Rr,deleteInvestor:Br,updateInvestor:Fr,registerInvestor:zr,getAllProjects:Xe,getAllCompanies:Je,deleteProject:Ge,updateProject:Ye,registerProject:qe,getAllVendors:Vn,deleteVendor:_n,updateVendor:zn,registerVendor:Ln})(Object(j.g)((function(e){var t=r.a.useState(0),a=Object(Z.a)(t,2),n=a[0],i=a[1],c="";c="user"===e.auth.user.role?Fe:Ee;var s=ac(),o=r.a.useState(!0),l=Object(Z.a)(o,2),u=l[0],d=l[1];Object(ee.a)(s.paper,s.fixedHeight);return Object(q.jsxs)("div",{className:s.root,children:[Object(q.jsx)(z.a,{}),Object(q.jsx)(ne.a,{position:"absolute",className:Object(ee.a)(s.appBar,u&&s.appBarShift),children:Object(q.jsxs)(re.a,{className:s.toolbar,children:[Object(q.jsx)(se.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){d(!0)},className:Object(ee.a)(s.menuButton,u&&s.menuButtonHidden),children:Object(q.jsx)(de.a,{})}),Object(q.jsx)(G.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:s.title,children:"Approval"}),Object(q.jsx)(R.a,{color:"inherit",className:s.btnstyle,onClick:function(t){t.preventDefault(),e.logoutUser()},children:"Logout"})]})}),Object(q.jsxs)(ae.a,{variant:"permanent",classes:{paper:Object(ee.a)(s.drawerPaper,!u&&s.drawerPaperClose)},open:u,children:[Object(q.jsx)("div",{className:s.toolbarIcon,children:Object(q.jsx)(se.a,{onClick:function(){d(!1)},children:Object(q.jsx)(pe.a,{})})}),Object(q.jsx)(ce.a,{}),Object(q.jsx)(ie.a,{children:c})]}),Object(q.jsxs)("main",{className:s.content,children:[Object(q.jsx)("div",{className:s.appBarSpacer}),Object(q.jsxs)(oe.a,{maxWidth:"lg",className:s.container,children:[Object(q.jsx)(H.a,{item:!0,xs:12,children:Object(q.jsxs)(U.a,{className:s.paper,children:[Object(q.jsx)(ne.a,{position:"static",children:Object(q.jsxs)(ta.a,{value:n,centered:!0,onChange:function(e,t){i(t)},"aria-label":"simple tabs example",children:[Object(q.jsx)(aa.a,Object(C.a)({label:"Projects"},ec(0))),Object(q.jsx)(aa.a,Object(C.a)({label:"Investors"},ec(1))),Object(q.jsx)(aa.a,Object(C.a)({label:"Investments"},ec(2))),Object(q.jsx)(aa.a,Object(C.a)({label:"Vendors"},ec(3))),Object(q.jsx)(aa.a,Object(C.a)({label:"Payments"},ec(4)))]})}),Object(q.jsx)($i,{value:n,index:0,children:Object(q.jsx)(Bi,Object(C.a)({},e))}),Object(q.jsx)($i,{value:n,index:1,children:Object(q.jsx)(Vi,Object(C.a)({},e))}),Object(q.jsx)($i,{value:n,index:2,children:Object(q.jsx)(Hi,Object(C.a)({},e))}),Object(q.jsx)($i,{value:n,index:3,children:Object(q.jsx)(Xi,Object(C.a)({},e))}),Object(q.jsx)($i,{value:n,index:4,children:Object(q.jsx)(Qi,Object(C.a)({},e))})]})}),Object(q.jsx)(W.a,{pt:4,children:Object(q.jsx)(tc,{})})]})]})]})})));var rc=Object(te.a)((function(e){return{pageContent:{margin:e.spacing(5),padding:e.spacing(3)},searchInput:{width:"95%"},newButton:{position:"absolute",right:"10px"},seeMore:{marginTop:e.spacing(3)},formControl:{minWidth:210}}})),ic=[{id:"projectName",label:"Project Name"},{id:"approved",label:"Approved"},{id:"dueDate",label:"Due Date"},{id:"ownerName",label:"Owner"},{id:"taskDetails",label:"Task Details"},{id:"companyName",label:"Company Name"},{id:"rejectReason",label:"Reject Reason"}],cc=[function(e,t,a,n,r,i,c){return{_id:e,taskName:t,dueDate:a,taskDetails:n,ownerName:r,updated:i,delete:c}}("","","","","","","")];function sc(e){var t=r.a.useState({isOpen:!1,message:"",type:""}),a=Object(Z.a)(t,2),n=a[0],i=(a[1],r.a.useState({fn:function(e){return e}})),c=Object(Z.a)(i,2),s=c[0],o=c[1],l=r.a.useState(cc),u=Object(Z.a)(l,2),d=u[0],j=u[1],p=r.a.useState([]),b=Object(Z.a)(p,2),m=b[0],h=b[1],O=r.a.useState(""),f=Object(Z.a)(O,2),x=f[0],v=f[1],g=r.a.useState(null),y=Object(Z.a)(g,2),S=(y[0],y[1],r.a.useState(!1)),N=Object(Z.a)(S,2),C=(N[0],N[1],r.a.useState(!1)),w=Object(Z.a)(C,2),D=(w[0],w[1],r.a.useState(d)),A=Object(Z.a)(D,2),P=A[0],k=A[1],I=rc();r.a.useEffect(Object(Ze.a)(Qe.a.mark((function t(){var a,n,r,i,c;return Qe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(s=e).getAllCompanies({email:s.auth.user.email,auth:s.auth.isAuthenticated},s.history);case 2:for(a=t.sent,n=a.data.map((function(e){return e.companyName})),r=n.length,(i=[])[0]={key:0,item:""},c=0;c<r;c++)i[c+1]={key:c+1,item:n[c]};console.log(i),h(i);case 10:case"end":return t.stop()}var s}),t)}))),[]),r.a.useEffect(Object(Ze.a)(Qe.a.mark((function t(){var a;return Qe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(n=e).getAllProjects({email:n.auth.user.email,auth:n.auth.isAuthenticated},n.history);case 2:a=t.sent,j(a.data),k(a.data),o({fn:function(e){return""==x?e.filter((function(e){return e.approved.includes("rejected")})):e.filter((function(e){return e.companyName.includes(x)&&e.approved.includes("rejected")}))}});case 6:case"end":return t.stop()}var n}),t)}))),[n,m]);var T=Mt(P,ic,s),E=T.TblContainer,F=T.TblHead,B=T.TblPagination,R=T.recordsAfterPagingAndSorting,z=r.a.useState({checkedA:!0,checkedB:!0}),_=Object(Z.a)(z,2),V=_[0],L=(_[1],function(e){var t=e.toString();return t=t.substring(0,t.indexOf("T"))});return Object(q.jsx)(r.a.Fragment,{children:Object(q.jsxs)(U.a,{className:I.pageContent,children:[Object(q.jsx)(re.a,{children:Object(q.jsxs)(H.a,{container:!0,children:[Object(q.jsx)(H.a,{item:!0,xs:9,children:Object(q.jsx)(ft,{label:"Search Projects",className:I.searchInput,InputProps:{startAdornment:Object(q.jsx)(rt.a,{position:"start",children:Object(q.jsx)(at.a,{})})},onChange:function(e){var t=e.target;o({fn:function(e){return""==x?e.filter((function(e){return e.approved.includes("rejected")})):e.filter((function(e){return e.taskName.toLowerCase().includes(t.value.toLowerCase())&&e.approved.includes("rejected")}))}})}})}),Object(q.jsx)(H.a,{item:!0,xs:3,children:Object(q.jsxs)(na.a,{variant:"outlined",className:I.formControl,children:[Object(q.jsx)(oa.a,{htmlFor:"outlined-company-native-simple",children:"Company"}),Object(q.jsx)(la.a,{native:!0,value:V.age,onChange:function(e){var t=e.target;console.log(t.value),v(t.value),o({fn:function(e){return""==t.value?e.filter((function(e){return e.approved.includes("rejected")})):e.filter((function(e){return e.companyName.includes(t.value)&&e.approved.includes("rejected")}))}})},label:"Company",inputProps:{name:"company",id:"outlined-company-native-simple"},children:m.map((function(e){return Object(q.jsx)("option",{value:e.item,children:e.item},e.key)}))})]})})]})}),Object(q.jsxs)(E,{children:[Object(q.jsx)(F,{}),Object(q.jsx)($e.a,{children:R().map((function(e){return Object(q.jsxs)(it.a,{children:[Object(q.jsx)(nt.a,{children:e.projectName}),Object(q.jsx)(nt.a,{children:(t=e.approved,"approved"===t?(console.log(t),console.log("yes"),Object(q.jsx)(ja.a,{fontSize:"small",style:{color:"#00b386"}})):"wait"===t?(console.log("what"),Object(q.jsx)(ba.a,{fontSize:"small",style:{color:"#ffbf00"}})):"rejected"===t?(console.log("what"),Object(q.jsx)(we.a,{fontSize:"small",style:{color:"#DC143C"}})):void 0)}),Object(q.jsx)(nt.a,{children:L(e.dueDate)}),Object(q.jsx)(nt.a,{children:e.ownerName}),Object(q.jsx)(nt.a,{children:e.projectDetails}),Object(q.jsx)(nt.a,{children:e.companyName}),Object(q.jsx)(nt.a,{children:e.rejectReason})]},e._id);var t}))})]}),Object(q.jsx)(B,{})]})})}var oc=Object(te.a)((function(e){return{pageContent:{margin:e.spacing(5),padding:e.spacing(3)},searchInput:{width:"95%"},newButton:{position:"absolute",right:"10px"},seeMore:{marginTop:e.spacing(3)},formControl:{minWidth:210}}})),lc=[{id:"investorName",label:"Investor Name"},{id:"approved",label:"Approved"},{id:"contactNo",label:"Contact No."},{id:"investorEmail",label:"Email Address"},{id:"rejectReason",label:"Reject Reason",disableSorting:!0}],uc=[{_id:"",investorName:"",contactNo:"",investorEmail:"",approved:"",updated:"",delete:""}];function dc(e){var t=r.a.useState({isOpen:!1,message:"",type:""}),a=Object(Z.a)(t,2),n=a[0],i=(a[1],r.a.useState({fn:function(e){return e}})),c=Object(Z.a)(i,2),s=c[0],o=c[1],l=r.a.useState(uc),u=Object(Z.a)(l,2),d=u[0],j=u[1],p=r.a.useState([]),b=Object(Z.a)(p,2),m=b[0],h=(b[1],r.a.useState("")),O=Object(Z.a)(h,2),f=(O[0],O[1],r.a.useState(null)),x=Object(Z.a)(f,2),v=(x[0],x[1],r.a.useState(!1)),g=Object(Z.a)(v,2),y=(g[0],g[1],r.a.useState(d)),S=Object(Z.a)(y,2),N=S[0],C=S[1],w=oc();r.a.useEffect(Object(Ze.a)(Qe.a.mark((function t(){var a;return Qe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(n=e).getAllInvestors({email:n.auth.user.email,auth:n.auth.isAuthenticated},n.history);case 2:a=t.sent,j(a.data),C(a.data),o({fn:function(e){return e.filter((function(e){return e.approved.includes("rejected")}))}});case 6:case"end":return t.stop()}var n}),t)}))),[n,m]);var D=Mt(N,lc,s),A=D.TblContainer,P=D.TblHead,k=D.TblPagination,I=D.recordsAfterPagingAndSorting,T=r.a.useState({checkedA:!0,checkedB:!0}),E=Object(Z.a)(T,2);E[0],E[1];return Object(q.jsx)(r.a.Fragment,{children:Object(q.jsxs)(U.a,{className:w.pageContent,children:[Object(q.jsx)(re.a,{children:Object(q.jsx)(H.a,{container:!0,children:Object(q.jsx)(H.a,{item:!0,xs:12,children:Object(q.jsx)(ft,{label:"Search Investors",className:w.searchInput,InputProps:{startAdornment:Object(q.jsx)(rt.a,{position:"start",children:Object(q.jsx)(at.a,{})})},onChange:function(e){var t=e.target;o({fn:function(e){return""==t.value?e.filter((function(e){return e.approved.includes("rejected")})):e.filter((function(e){return e.investorName.toLowerCase().includes(t.value.toLowerCase())&&e.approved.includes("rejected")}))}})}})})})}),Object(q.jsxs)(A,{children:[Object(q.jsx)(P,{}),Object(q.jsx)($e.a,{children:I().map((function(e){return Object(q.jsxs)(it.a,{children:[Object(q.jsx)(nt.a,{children:e.investorName}),Object(q.jsx)(nt.a,{children:(t=e.approved,"approved"===t?(console.log(t),console.log("yes"),Object(q.jsx)(ja.a,{fontSize:"small",style:{color:"#00b386"}})):"wait"===t?(console.log("what"),Object(q.jsx)(ba.a,{fontSize:"small",style:{color:"#ffbf00"}})):"rejected"===t?(console.log("what"),Object(q.jsx)(we.a,{fontSize:"small",style:{color:"#DC143C"}})):void 0)}),Object(q.jsx)(nt.a,{children:e.contactNo}),Object(q.jsx)(nt.a,{children:e.investorEmail}),Object(q.jsx)(nt.a,{children:e.rejectReason})]},e._id);var t}))})]}),Object(q.jsx)(k,{})]})})}var jc=Object(te.a)((function(e){return{pageContent:{margin:e.spacing(5),padding:e.spacing(3)},searchInput:{width:"95%"},newButton:{position:"absolute",right:"10px"},seeMore:{marginTop:e.spacing(3)},formControl:{minWidth:210}}})),pc=[{id:"investorName",label:"Investor Name"},{id:"investmentName",label:"Investment Name"},{id:"approved",label:"Approved"},{id:"startDate",label:"Start Date"},{id:"dueDate",label:"Due Date"},{id:"capitalAmt",label:"Capital Amount"},{id:"capitalPaid",label:"Amount Paid"},{id:"profitPercent",label:"Rate"},{id:"investmentType",label:"Type"},{id:"paymentTerms",label:"Terms"},{id:"rejectReason",label:"Reject Reason"}],bc=[function(e,t,a,n,r,i,c){return{_id:e,investorName:t,startDate:"",dueDate:"",amtToBePaid:n,approved:"",updated:i,delete:c}}("","",0,"",0,"","")];function mc(e){var t=r.a.useState({isOpen:!1,message:"",type:""}),a=Object(Z.a)(t,2),n=a[0],i=(a[1],r.a.useState({fn:function(e){return e}})),c=Object(Z.a)(i,2),s=c[0],o=c[1],l=r.a.useState(bc),u=Object(Z.a)(l,2),d=u[0],j=u[1],p=r.a.useState([]),b=Object(Z.a)(p,2),m=b[0],h=b[1],O=r.a.useState(""),f=Object(Z.a)(O,2),x=f[0],v=f[1],g=r.a.useState(null),y=Object(Z.a)(g,2),S=(y[0],y[1],r.a.useState(!1)),N=Object(Z.a)(S,2),C=(N[0],N[1],r.a.useState(d)),w=Object(Z.a)(C,2),D=w[0],A=w[1],P=jc();r.a.useEffect(Object(Ze.a)(Qe.a.mark((function t(){var a,n,r,i,c;return Qe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(s=e).getAllInvestors({email:s.auth.user.email,auth:s.auth.isAuthenticated},s.history);case 2:for(a=t.sent,n=a.data.map((function(e){return e.investorName})),r=n.length,(i=[])[0]={key:0,item:""},c=0;c<r;c++)i[c+1]={key:c+1,item:n[c]};console.log(i),h(i);case 10:case"end":return t.stop()}var s}),t)}))),[]),r.a.useEffect(Object(Ze.a)(Qe.a.mark((function t(){var a;return Qe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(n=e).getAllInvestments({email:n.auth.user.email,auth:n.auth.isAuthenticated},n.history);case 2:a=t.sent,j(a.data),A(a.data),o({fn:function(e){return""==x?e.filter((function(e){return e.approved.includes("rejected")})):e.filter((function(e){return e.investorName.includes(x)&&e.approved.includes("rejected")}))}});case 6:case"end":return t.stop()}var n}),t)}))),[n,m]);var k=Mt(D,pc,s),I=k.TblContainer,T=k.TblHead,E=k.TblPagination,F=k.recordsAfterPagingAndSorting,B=r.a.useState({checkedA:!0,checkedB:!0}),R=Object(Z.a)(B,2),z=R[0],_=(R[1],function(e){var t=e.toString();return t=t.substring(0,t.indexOf("T"))});return Object(q.jsxs)(r.a.Fragment,{children:[Object(q.jsx)(re.a,{children:Object(q.jsxs)(H.a,{container:!0,children:[Object(q.jsx)(H.a,{item:!0,xs:9,children:Object(q.jsx)(ft,{label:"Search Investments",className:P.searchInput,InputProps:{startAdornment:Object(q.jsx)(rt.a,{position:"start",children:Object(q.jsx)(at.a,{})})},onChange:function(e){var t=e.target;o({fn:function(e){return""==x?e.filter((function(e){return e.approved.includes("rejected")})):e.filter((function(e){return e.investmentName.toLowerCase().includes(t.value.toLowerCase())&&e.approved.includes("rejected")}))}})}})}),Object(q.jsx)(H.a,{item:!0,xs:3,children:Object(q.jsxs)(na.a,{variant:"outlined",className:P.formControl,children:[Object(q.jsx)(oa.a,{htmlFor:"outlined-investor-native-simple",children:"Investor"}),Object(q.jsx)(la.a,{native:!0,value:z.age,onChange:function(e){var t=e.target;console.log(t.value),v(t.value),o({fn:function(e){return""==t.value?e.filter((function(e){return e.approved.includes("rejected")})):e.filter((function(e){return e.investorName.includes(t.value)&&e.approved.includes("rejected")}))}})},label:"Investor",inputProps:{name:"investor",id:"outlined-investor-native-simple"},children:m.map((function(e){return Object(q.jsx)("option",{value:e.item,children:e.item},e.key)}))})]})})]})}),Object(q.jsxs)(I,{children:[Object(q.jsx)(T,{}),Object(q.jsx)($e.a,{children:F().map((function(e){return Object(q.jsxs)(it.a,{children:[Object(q.jsx)(nt.a,{children:e.investorName}),Object(q.jsx)(nt.a,{children:e.investmentName}),Object(q.jsx)(nt.a,{children:(t=e.approved,"approved"===t?(console.log(t),console.log("yes"),Object(q.jsx)(ja.a,{fontSize:"small",style:{color:"#00b386"}})):"wait"===t?(console.log("what"),Object(q.jsx)(ba.a,{fontSize:"small",style:{color:"#ffbf00"}})):"rejected"===t?(console.log("what"),Object(q.jsx)(we.a,{fontSize:"small",style:{color:"#DC143C"}})):void 0)}),Object(q.jsx)(nt.a,{children:_(e.startDate)}),Object(q.jsx)(nt.a,{children:_(e.dueDate)}),Object(q.jsx)(nt.a,{children:e.capitalAmt}),Object(q.jsx)(nt.a,{children:e.capitalPaid}),Object(q.jsx)(nt.a,{children:e.profitPercent+"%"}),Object(q.jsx)(nt.a,{children:e.investmentType}),Object(q.jsx)(nt.a,{children:e.paymentTerms}),Object(q.jsx)(nt.a,{children:e.rejectReason})]},e._id);var t}))})]}),Object(q.jsx)(E,{})]})}var hc=Object(te.a)((function(e){return{pageContent:{margin:e.spacing(5),padding:e.spacing(3)},searchInput:{width:"95%"},newButton:{position:"absolute",right:"10px"},seeMore:{marginTop:e.spacing(3)},formControl:{minWidth:210}}})),Oc=[{id:"vendorName",label:"Vendor Name"},{id:"approved",label:"Approved"},{id:"startDate",label:"Start Date"},{id:"dueDate",label:"Due Date"},{id:"contractAmt",label:"Contract Amount"},{id:"rejectReason",label:"rejectReason"}],fc=[{_id:"",vendorName:"",endDate:"ttt",startDate:"uyyy",contractAmt:"",updated:"",delete:""}];function xc(e){var t=r.a.useState({isOpen:!1,message:"",type:""}),a=Object(Z.a)(t,2),n=a[0],i=(a[1],r.a.useState({fn:function(e){return e}})),c=Object(Z.a)(i,2),s=c[0],o=c[1],l=r.a.useState(fc),u=Object(Z.a)(l,2),d=u[0],j=u[1],p=r.a.useState(!1),b=Object(Z.a)(p,2),m=(b[0],b[1],hc());r.a.useEffect(Object(Ze.a)(Qe.a.mark((function t(){var a;return Qe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(n=e).getAllVendors({email:n.auth.user.email,auth:n.auth.isAuthenticated},n.history);case 2:a=t.sent,j(a.data),o({fn:function(e){return e.filter((function(e){return e.approved.includes("rejected")}))}});case 5:case"end":return t.stop()}var n}),t)}))),[n]);var h=Mt(d,Oc,s),O=h.TblContainer,f=h.TblHead,x=h.TblPagination,v=h.recordsAfterPagingAndSorting,g=r.a.useState({checkedA:!0,checkedB:!0}),y=Object(Z.a)(g,2),S=(y[0],y[1],function(e){console.log(e);var t=e.toString();return t=t.substring(0,t.indexOf("T"))});return Object(q.jsx)(r.a.Fragment,{children:Object(q.jsxs)(U.a,{className:m.pageContent,children:[Object(q.jsx)(re.a,{children:Object(q.jsx)(H.a,{container:!0,children:Object(q.jsx)(H.a,{item:!0,xs:12,children:Object(q.jsx)(ft,{label:"Search Vendors",className:m.searchInput,InputProps:{startAdornment:Object(q.jsx)(rt.a,{position:"start",children:Object(q.jsx)(at.a,{})})},onChange:function(e){var t=e.target;o({fn:function(e){return""==t.value?e.filter((function(e){return e.approved.includes("rejected")})):e.filter((function(e){return e.vendorName.toLowerCase().includes(t.value.toLowerCase())}))}})}})})})}),Object(q.jsxs)(O,{children:[Object(q.jsx)(f,{}),Object(q.jsx)($e.a,{children:v().map((function(e){return Object(q.jsxs)(it.a,{children:[Object(q.jsx)(nt.a,{children:e.vendorName}),Object(q.jsx)(nt.a,{children:(t=e.approved,"approved"===t?(console.log(t),console.log("yes"),Object(q.jsx)(ja.a,{fontSize:"small",style:{color:"#00b386"}})):"wait"===t?(console.log("what"),Object(q.jsx)(ba.a,{fontSize:"small",style:{color:"#ffbf00"}})):"rejected"===t?(console.log("what"),Object(q.jsx)(we.a,{fontSize:"small",style:{color:"#DC143C"}})):void 0)}),Object(q.jsx)(nt.a,{children:S(e.startDate)}),Object(q.jsx)(nt.a,{children:S(e.endDate)}),Object(q.jsx)(nt.a,{children:e.contractAmt}),Object(q.jsx)(nt.a,{children:e.rejectReason})]},e._id);var t}))})]}),Object(q.jsx)(x,{})]})})}var vc=Object(te.a)((function(e){return{pageContent:{margin:e.spacing(5),padding:e.spacing(3)},searchInput:{width:"95%"},newButton:{position:"absolute",right:"10px"},seeMore:{marginTop:e.spacing(3)},formControl:{minWidth:210}}})),gc=[{id:"vendorName",label:"Vendor Name"},{id:"personName",label:"Approved"},{id:"amtToBePaid",label:"Payment Amt."},{id:"dueDate",label:"Due Date"},{id:"approve",label:"Approve",disableSorting:!0},{id:"reject",label:"Reject",disableSorting:!0}],yc=[function(e,t,a,n,r,i,c){return{_id:e,vendorName:t,dueDate:a,amtToBePaid:n,approved:"",updated:i,delete:c}}("","","","",0,"","")];function Sc(e){var t=r.a.useState({isOpen:!1,message:"",type:""}),a=Object(Z.a)(t,2),n=a[0],i=(a[1],r.a.useState({fn:function(e){return e}})),c=Object(Z.a)(i,2),s=c[0],o=c[1],l=r.a.useState(yc),u=Object(Z.a)(l,2),d=u[0],j=u[1],p=r.a.useState([]),b=Object(Z.a)(p,2),m=b[0],h=b[1],O=r.a.useState(""),f=Object(Z.a)(O,2),x=f[0],v=f[1],g=r.a.useState(null),y=Object(Z.a)(g,2),S=(y[0],y[1],r.a.useState(!1)),N=Object(Z.a)(S,2),C=(N[0],N[1],r.a.useState(d)),w=Object(Z.a)(C,2),D=w[0],A=w[1],P=vc();r.a.useEffect(Object(Ze.a)(Qe.a.mark((function t(){var a,n,r,i,c;return Qe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(s=e).getAllVendors({email:s.auth.user.email,auth:s.auth.isAuthenticated},s.history);case 2:for(a=t.sent,n=a.data.map((function(e){return e.vendorName})),r=n.length,(i=[])[0]={key:0,item:""},c=0;c<r;c++)i[c+1]={key:c+1,item:n[c]};console.log(i),h(i);case 10:case"end":return t.stop()}var s}),t)}))),[]),r.a.useEffect(Object(Ze.a)(Qe.a.mark((function t(){var a;return Qe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(n=e).getAllPayments({email:n.auth.user.email,auth:n.auth.isAuthenticated},n.history);case 2:a=t.sent,j(a.data),A(a.data),o({fn:function(e){return""==x?e.filter((function(e){return e.approved.includes("rejected")})):e.filter((function(e){return e.vendorName.includes(x)&&e.approved.includes("rejected")}))}});case 6:case"end":return t.stop()}var n}),t)}))),[n,m]);var k=Mt(D,gc,s),I=k.TblContainer,T=k.TblHead,E=k.TblPagination,F=k.recordsAfterPagingAndSorting,B=r.a.useState({checkedA:!0,checkedB:!0}),R=Object(Z.a)(B,2),z=R[0],_=(R[1],function(e){var t=e.toString();return t=t.substring(0,t.indexOf("T"))});return Object(q.jsx)(r.a.Fragment,{children:Object(q.jsxs)(U.a,{className:P.pageContent,children:[Object(q.jsx)(re.a,{children:Object(q.jsxs)(H.a,{container:!0,children:[Object(q.jsx)(H.a,{item:!0,xs:9,children:Object(q.jsx)(ft,{label:"Search Projects",className:P.searchInput,InputProps:{startAdornment:Object(q.jsx)(rt.a,{position:"start",children:Object(q.jsx)(at.a,{})})},onChange:function(e){var t=e.target;o({fn:function(e){return""==x?e.filter((function(e){return e.approved.includes("rejected")})):e.filter((function(e){return e.taskName.toLowerCase().includes(t.value.toLowerCase())&&e.approved.includes("rejected")}))}})}})}),Object(q.jsx)(H.a,{item:!0,xs:3,children:Object(q.jsxs)(na.a,{variant:"outlined",className:P.formControl,children:[Object(q.jsx)(oa.a,{htmlFor:"outlined-vendor-native-simple",children:"Vendor"}),Object(q.jsx)(la.a,{native:!0,value:z.age,onChange:function(e){var t=e.target;console.log(t.value),v(t.value),o({fn:function(e){return""==t.value?e.filter((function(e){return e.approved.includes("rejected")})):e.filter((function(e){return e.vendorName.includes(t.value)&&e.approved.includes("rejected")}))}})},label:"Vendor",inputProps:{name:"vendor",id:"outlined-vendor-native-simple"},children:m.map((function(e){return Object(q.jsx)("option",{value:e.item,children:e.item},e.key)}))})]})})]})}),Object(q.jsxs)(I,{children:[Object(q.jsx)(T,{}),Object(q.jsx)($e.a,{children:F().map((function(e){return Object(q.jsxs)(it.a,{children:[Object(q.jsx)(nt.a,{children:e.vendorName}),Object(q.jsx)(nt.a,{children:(t=e.approved,"approved"===t?(console.log(t),console.log("yes"),Object(q.jsx)(ja.a,{fontSize:"small",style:{color:"#00b386"}})):"rejected"===t?(console.log("what"),Object(q.jsx)(ba.a,{fontSize:"small",style:{color:"#ffbf00"}})):"rejected"===t?(console.log("what"),Object(q.jsx)(we.a,{fontSize:"small",style:{color:"#DC143C"}})):void 0)}),Object(q.jsx)(nt.a,{children:e.projectDetails}),Object(q.jsx)(nt.a,{children:_(e.dueDate)}),Object(q.jsx)(nt.a,{children:e.rejectReason})]},e._id);var t}))})]}),Object(q.jsx)(E,{})]})})}var Nc=["children","value","index"];function Cc(e){var t=e.children,a=e.value,n=e.index,r=Object(pt.a)(e,Nc);return Object(q.jsx)("div",Object(C.a)(Object(C.a)({role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},r),{},{children:a===n&&Object(q.jsx)(W.a,{p:3,children:Object(q.jsx)(G.a,{children:t})})}))}function wc(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}function Dc(){return Object(q.jsxs)(G.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(q.jsx)(le.a,{color:"inherit",href:"https://material-ui.com/",children:"Your Website"})," ",(new Date).getFullYear(),"."]})}var Ac=Object(te.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(C.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object($.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240},btnstyle:{margin:"8px 0",backgroundColor:"#666bff"}}}));var Pc=Object(y.b)((function(e){return{auth:e.auth}}),{getAllInvestments:Tr,deleteInvestment:Ir,updateInvestment:kr,registerInvestment:Er,logoutUser:g,getAllPayments:Hn,deletePayment:Wn,updatePayment:Un,registerPayment:Mn,getAllInvestors:Rr,deleteInvestor:Br,updateInvestor:Fr,registerInvestor:zr,getAllProjects:Xe,getAllCompanies:Je,deleteProject:Ge,updateProject:Ye,registerProject:qe,getAllVendors:Vn,deleteVendor:_n,updateVendor:zn,registerVendor:Ln})(Object(j.g)((function(e){var t=r.a.useState(0),a=Object(Z.a)(t,2),n=a[0],i=a[1],c="";c="user"===e.auth.user.role?Fe:Ee;var s=Ac(),o=r.a.useState(!0),l=Object(Z.a)(o,2),u=l[0],d=l[1];Object(ee.a)(s.paper,s.fixedHeight);return Object(q.jsxs)("div",{className:s.root,children:[Object(q.jsx)(z.a,{}),Object(q.jsx)(ne.a,{position:"absolute",className:Object(ee.a)(s.appBar,u&&s.appBarShift),children:Object(q.jsxs)(re.a,{className:s.toolbar,children:[Object(q.jsx)(se.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){d(!0)},className:Object(ee.a)(s.menuButton,u&&s.menuButtonHidden),children:Object(q.jsx)(de.a,{})}),Object(q.jsx)(G.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:s.title,children:"Rejection"}),Object(q.jsx)(R.a,{color:"inherit",className:s.btnstyle,onClick:function(t){t.preventDefault(),e.logoutUser()},children:"Logout"})]})}),Object(q.jsxs)(ae.a,{variant:"permanent",classes:{paper:Object(ee.a)(s.drawerPaper,!u&&s.drawerPaperClose)},open:u,children:[Object(q.jsx)("div",{className:s.toolbarIcon,children:Object(q.jsx)(se.a,{onClick:function(){d(!1)},children:Object(q.jsx)(pe.a,{})})}),Object(q.jsx)(ce.a,{}),Object(q.jsx)(ie.a,{children:c})]}),Object(q.jsxs)("main",{className:s.content,children:[Object(q.jsx)("div",{className:s.appBarSpacer}),Object(q.jsxs)(oe.a,{maxWidth:"lg",className:s.container,children:[Object(q.jsx)(H.a,{item:!0,xs:12,children:Object(q.jsxs)(U.a,{className:s.paper,children:[Object(q.jsx)(ne.a,{position:"static",children:Object(q.jsxs)(ta.a,{value:n,centered:!0,onChange:function(e,t){i(t)},"aria-label":"simple tabs example",children:[Object(q.jsx)(aa.a,Object(C.a)({label:"Projects"},wc(0))),Object(q.jsx)(aa.a,Object(C.a)({label:"Investors"},wc(1))),Object(q.jsx)(aa.a,Object(C.a)({label:"Investments"},wc(2))),Object(q.jsx)(aa.a,Object(C.a)({label:"Vendors"},wc(3))),Object(q.jsx)(aa.a,Object(C.a)({label:"Payments"},wc(4)))]})}),Object(q.jsx)(Cc,{value:n,index:0,children:Object(q.jsx)(sc,Object(C.a)({},e))}),Object(q.jsx)(Cc,{value:n,index:1,children:Object(q.jsx)(dc,Object(C.a)({},e))}),Object(q.jsx)(Cc,{value:n,index:2,children:Object(q.jsx)(mc,Object(C.a)({},e))}),Object(q.jsx)(Cc,{value:n,index:3,children:Object(q.jsx)(xc,Object(C.a)({},e))}),Object(q.jsx)(Cc,{value:n,index:4,children:Object(q.jsx)(Sc,Object(C.a)({},e))})]})}),Object(q.jsx)(W.a,{pt:4,children:Object(q.jsx)(Dc,{})})]})]})]})}))),kc=["component","auth"],Ic=Object(y.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.component,a=e.auth,n=Object(pt.a)(e,kc);return Object(q.jsx)(j.b,Object(C.a)(Object(C.a)({},n),{},{render:function(e){return!0===a.isAuthenticated?Object(q.jsx)(t,Object(C.a)({},e)):Object(q.jsx)(j.a,{to:"/login"})}}))})),Tc=a(113),Ec=a(31);function Fc(e){return e.getAllProjects({email:e.auth.user.email,auth:e.auth.isAuthenticed},e.history)}function Bc(e){var t=n.useState([]),a=Object(Z.a)(t,2),r=a[0],i=a[1];return n.useEffect(Object(Ze.a)(Qe.a.mark((function t(){var a,n,r;return Qe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Fc(e);case 2:a=t.sent,n=a.data,console.log(n),r=a.data.map((function(e){return{projectName:e.projectName,percentComplete:e.percentComplete}})),i(r);case 7:case"end":return t.stop()}}),t)}))),[]),console.log(r),Object(q.jsx)(U.a,{children:Object(q.jsxs)(Tc.c,{data:r,children:[Object(q.jsx)(Tc.a,{}),Object(q.jsx)(Tc.e,{max:100}),Object(q.jsx)(Tc.b,{valueField:"percentComplete",argumentField:"projectName"}),Object(q.jsx)(Tc.d,{text:"Projects"}),Object(q.jsx)(Ec.a,{})]})})}function Rc(){return Object(q.jsxs)(G.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(q.jsx)(le.a,{color:"inherit",href:"https://material-ui.com/",children:"Your Website"})," ",(new Date).getFullYear(),"."]})}var zc=Object(te.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(C.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object($.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240},btnstyle:{margin:"8px 0",backgroundColor:"#666bff"}}}));var _c=Object(y.b)((function(e){return{auth:e.auth}}),{updateAllFeatures:He,updateAllTasks:_e,logoutUser:g,getAllProjects:Xe,getAllCompanies:Je,deleteProject:Ge,updateProject:Ye,registerProject:qe,getAllFeatures:We,deleteFeature:Ue,updateFeature:Le,registerFeature:Me,getAllTasks:ze,deleteTask:Re,updateTask:Be,registerTask:Ve})(Object(j.g)((function(e){var t=r.a.useState(0),a=Object(Z.a)(t,2),n=(a[0],a[1],"");n="user"===e.auth.user.role?Fe:Ee;var i=zc(),c=r.a.useState(!0),s=Object(Z.a)(c,2),o=s[0],l=s[1];Object(ee.a)(i.paper,i.fixedHeight);return Object(q.jsxs)("div",{className:i.root,children:[Object(q.jsx)(z.a,{}),Object(q.jsx)(ne.a,{position:"absolute",className:Object(ee.a)(i.appBar,o&&i.appBarShift),children:Object(q.jsxs)(re.a,{className:i.toolbar,children:[Object(q.jsx)(se.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){l(!0)},className:Object(ee.a)(i.menuButton,o&&i.menuButtonHidden),children:Object(q.jsx)(de.a,{})}),Object(q.jsx)(G.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:i.title,children:"Projects"}),Object(q.jsx)(R.a,{color:"inherit",className:i.btnstyle,onClick:function(t){t.preventDefault(),e.logoutUser()},children:"Logout"})]})}),Object(q.jsxs)(ae.a,{variant:"permanent",classes:{paper:Object(ee.a)(i.drawerPaper,!o&&i.drawerPaperClose)},open:o,children:[Object(q.jsx)("div",{className:i.toolbarIcon,children:Object(q.jsx)(se.a,{onClick:function(){l(!1)},children:Object(q.jsx)(pe.a,{})})}),Object(q.jsx)(ce.a,{}),Object(q.jsx)(ie.a,{children:n})]}),Object(q.jsxs)("main",{className:i.content,children:[Object(q.jsx)("div",{className:i.appBarSpacer}),Object(q.jsxs)(oe.a,{maxWidth:"lg",className:i.container,children:[Object(q.jsx)(H.a,{item:!0,xs:12,children:Object(q.jsx)(U.a,{className:i.paper,children:Object(q.jsx)(Bc,Object(C.a)({},e))})}),Object(q.jsx)(W.a,{pt:4,children:Object(q.jsx)(Rc,{})})]})]})]})})));if(localStorage.jwtToken){var Vc=localStorage.jwtToken;h(Vc);var Lc=Object(p.a)(Vc);E.dispatch(v(Lc));var Uc=Date.now()/1e3;Lc.exp<Uc&&(E.dispatch(g()),window.location.href="./login")}var Wc=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(q.jsx)(y.a,{store:E,children:Object(q.jsx)(d.a,{children:Object(q.jsxs)("div",{className:"App",children:[Object(q.jsx)(j.b,{exact:!0,path:"/",component:Q}),Object(q.jsx)(j.b,{exact:!0,path:"/login",component:Q}),Object(q.jsxs)(j.d,{children:[Object(q.jsx)(Ic,{exact:!0,path:"/projects",component:fn}),Object(q.jsx)(Ic,{exact:!0,path:"/investments",component:Pi}),Object(q.jsx)(Ic,{exact:!0,path:"/vendors",component:Pr}),Object(q.jsx)(Ic,{exact:!0,path:"/dashboard",component:_c}),Object(q.jsx)(Ic,{exact:!0,path:"/companies",component:ea}),Object(q.jsx)(Ic,{exact:!0,path:"/users",component:Rn}),Object(q.jsx)(Ic,{exact:!0,path:"/approval",component:nc}),Object(q.jsx)(Ic,{exact:!0,path:"/rejection",component:Pc})]})]})})})}}]),a}(n.Component);c.a.render(Object(q.jsx)(Wc,{}),document.getElementById("root"))}},[[234,1,2]]]);
//# sourceMappingURL=main.3eabba59.chunk.js.map